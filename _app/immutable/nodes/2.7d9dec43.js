import{s as Me,p as ee,f as w,l as I,a as M,g as A,h as E,m as P,d as g,c as V,A as Ve,j as R,i as $,y as v,n as O,B as le,r as ce,e as L,C as me,D as ve,E as je,F as qe,G as te}from"../chunks/scheduler.1588ed99.js";import{S as Ne,i as Ce,f as se,b as W,d as X,m as Y,a as H,t as U,c as De,e as Z,g as Je}from"../chunks/index.afb56b95.js";import{L as He,S as ae,e as z,g as Le}from"../chunks/locale.f76e2bc1.js";import"../chunks/i18n.cd1c2494.js";import{a as Ge,b as Ue}from"../chunks/paths.5615ab7e.js";import{p as Be}from"../chunks/stores.0142bb45.js";import{d as J,c as ye,a as Fe}from"../chunks/index.3f5f20b6.js";function he(i,l,a){const t=i.slice();return t[16]=l[a],t}function de(i,l,a){const t=i.slice();t[19]=l[a],t[22]=a;const s=J.GetStatByIndex(t[16].AlternatePassiveAddition.StatsKeys[t[22]]);return t[20]=s,t}function pe(i,l,a){const t=i.slice();t[19]=l[a],t[22]=a;const s=J.GetStatByIndex(t[5].AlternatePassiveSkill.StatsKeys[t[22]]);return t[20]=s,t}function be(i){let l,a,t=i[4]("Conqueror")+"",s,u,e,h,f,_=i[1]&&Object.keys(J.TimelessJewelConquerors[i[0].value]).indexOf(i[1].value)>=0,m,n;function p(r){i[11](r)}let d={items:i[6]};i[1]!==void 0&&(d.value=i[1]),e=new ae({props:d}),ee.push(()=>se(e,"value",p)),e.$on("select",i[9]);let o=_&&ge(i);return{c(){l=w("div"),a=w("h3"),s=I(t),u=M(),W(e.$$.fragment),f=M(),o&&o.c(),m=L(),this.h()},l(r){l=A(r,"DIV",{class:!0});var c=E(l);a=A(c,"H3",{class:!0});var k=E(a);s=P(k,t),k.forEach(g),u=V(c),X(e.$$.fragment,c),c.forEach(g),f=V(r),o&&o.l(r),m=L(),this.h()},h(){R(a,"class","mb-2"),R(l,"class","mt-4")},m(r,c){$(r,l,c),v(l,a),v(a,s),v(l,u),Y(e,l,null),$(r,f,c),o&&o.m(r,c),$(r,m,c),n=!0},p(r,c){(!n||c&16)&&t!==(t=r[4]("Conqueror")+"")&&O(s,t);const k={};c&64&&(k.items=r[6]),!h&&c&2&&(h=!0,k.value=r[1],le(()=>h=!1)),e.$set(k),c&3&&(_=r[1]&&Object.keys(J.TimelessJewelConquerors[r[0].value]).indexOf(r[1].value)>=0),_?o?(o.p(r,c),c&3&&H(o,1)):(o=ge(r),o.c(),H(o,1),o.m(m.parentNode,m)):o&&(Je(),U(o,1,1,()=>{o=null}),De())},i(r){n||(H(e.$$.fragment,r),H(o),n=!0)},o(r){U(e.$$.fragment,r),U(o),n=!1},d(r){r&&(g(l),g(f),g(m)),Z(e),o&&o.d(r)}}}function ge(i){let l,a,t=i[4]("Passive Skill")+"",s,u,e,h,f,_,m;function n(o){i[12](o)}let p={items:i[8]};i[2]!==void 0&&(p.value=i[2]),e=new ae({props:p}),ee.push(()=>se(e,"value",n)),e.$on("select",i[9]);let d=i[2]&&ke(i);return{c(){l=w("div"),a=w("h3"),s=I(t),u=M(),W(e.$$.fragment),f=M(),d&&d.c(),_=L(),this.h()},l(o){l=A(o,"DIV",{class:!0});var r=E(l);a=A(r,"H3",{class:!0});var c=E(a);s=P(c,t),c.forEach(g),u=V(r),X(e.$$.fragment,r),r.forEach(g),f=V(o),d&&d.l(o),_=L(),this.h()},h(){R(a,"class","mb-2"),R(l,"class","mt-4")},m(o,r){$(o,l,r),v(l,a),v(a,s),v(l,u),Y(e,l,null),$(o,f,r),d&&d.m(o,r),$(o,_,r),m=!0},p(o,r){(!m||r&16)&&t!==(t=o[4]("Passive Skill")+"")&&O(s,t);const c={};!h&&r&4&&(h=!0,c.value=o[2],le(()=>h=!1)),e.$set(c),o[2]?d?d.p(o,r):(d=ke(o),d.c(),d.m(_.parentNode,_)):d&&(d.d(1),d=null)},i(o){m||(H(e.$$.fragment,o),m=!0)},o(o){U(e.$$.fragment,o),m=!1},d(o){o&&(g(l),g(f),g(_)),Z(e),d&&d.d(o)}}}function ke(i){let l,a,t=i[4]("Seed")+"",s,u,e,h,f,_,m,n,p,d,o=(i[3]<J.TimelessJewelSeedRanges[i[0].value].Min||i[3]>J.TimelessJewelSeedRanges[i[0].value].Max)&&Se(i),r=i[5]&&we(i);return{c(){l=w("div"),a=w("h3"),s=I(t),u=M(),e=w("input"),_=M(),o&&o.c(),m=M(),r&&r.c(),n=L(),this.h()},l(c){l=A(c,"DIV",{class:!0});var k=E(l);a=A(k,"H3",{class:!0});var q=E(a);s=P(q,t),q.forEach(g),u=V(k),e=A(k,"INPUT",{type:!0,class:!0,min:!0,max:!0}),_=V(k),o&&o.l(k),k.forEach(g),m=V(c),r&&r.l(c),n=L(),this.h()},h(){R(a,"class","mb-2"),R(e,"type","number"),R(e,"class","seed"),R(e,"min",h=J.TimelessJewelSeedRanges[i[0].value].Min),R(e,"max",f=J.TimelessJewelSeedRanges[i[0].value].Max),R(l,"class","mt-4")},m(c,k){$(c,l,k),v(l,a),v(a,s),v(l,u),v(l,e),me(e,i[3]),v(l,_),o&&o.m(l,null),$(c,m,k),r&&r.m(c,k),$(c,n,k),p||(d=[ve(e,"input",i[13]),ve(e,"blur",i[9])],p=!0)},p(c,k){k&16&&t!==(t=c[4]("Seed")+"")&&O(s,t),k&1&&h!==(h=J.TimelessJewelSeedRanges[c[0].value].Min)&&R(e,"min",h),k&1&&f!==(f=J.TimelessJewelSeedRanges[c[0].value].Max)&&R(e,"max",f),k&8&&je(e.value)!==c[3]&&me(e,c[3]),c[3]<J.TimelessJewelSeedRanges[c[0].value].Min||c[3]>J.TimelessJewelSeedRanges[c[0].value].Max?o?o.p(c,k):(o=Se(c),o.c(),o.m(l,null)):o&&(o.d(1),o=null),c[5]?r?r.p(c,k):(r=we(c),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(c){c&&(g(l),g(m),g(n)),o&&o.d(),r&&r.d(c),p=!1,qe(d)}}}function Se(i){let l,a=i[4]("Seed must be between",{values:{min:J.TimelessJewelSeedRanges[i[0].value].Min,max:J.TimelessJewelSeedRanges[i[0].value].Max}})+"",t;return{c(){l=w("div"),t=I(a),this.h()},l(s){l=A(s,"DIV",{class:!0});var u=E(l);t=P(u,a),u.forEach(g),this.h()},h(){R(l,"class","mt-2")},m(s,u){$(s,l,u),v(l,t)},p(s,u){u&17&&a!==(a=s[4]("Seed must be between",{values:{min:J.TimelessJewelSeedRanges[s[0].value].Min,max:J.TimelessJewelSeedRanges[s[0].value].Max}})+"")&&O(t,a)},d(s){s&&g(l)}}}function we(i){var u;let l,a,t=i[5].AlternatePassiveSkill&&Ae(i),s="AlternatePassiveAdditionInformations"in i[5]&&((u=i[5].AlternatePassiveAdditionInformations)==null?void 0:u.length)>0&&Ee(i);return{c(){t&&t.c(),l=M(),s&&s.c(),a=L()},l(e){t&&t.l(e),l=V(e),s&&s.l(e),a=L()},m(e,h){t&&t.m(e,h),$(e,l,h),s&&s.m(e,h),$(e,a,h)},p(e,h){var f;e[5].AlternatePassiveSkill?t?t.p(e,h):(t=Ae(e),t.c(),t.m(l.parentNode,l)):t&&(t.d(1),t=null),"AlternatePassiveAdditionInformations"in e[5]&&((f=e[5].AlternatePassiveAdditionInformations)==null?void 0:f.length)>0?s?s.p(e,h):(s=Ee(e),s.c(),s.m(a.parentNode,a)):s&&(s.d(1),s=null)},d(e){e&&(g(l),g(a)),t&&t.d(e),s&&s.d(e)}}}function Ae(i){let l,a,t=i[4]("Alternate Passive Skill")+"",s,u,e,h=i[5].AlternatePassiveSkill.Name+"",f,_,m=i[5].AlternatePassiveSkill.ID+"",n,p,d=i[5].AlternatePassiveSkill+"",o,r,c,k=i[5].StatRolls&&Object.keys(i[5].StatRolls).length>0,q,b=k&&Ie(i);return{c(){l=w("div"),a=w("h3"),s=I(t),u=M(),e=w("span"),f=I(h),_=I(" ("),n=I(m),p=I(") ("),o=I(d),r=I(")"),c=M(),b&&b.c(),q=L(),this.h()},l(T){l=A(T,"DIV",{class:!0});var S=E(l);a=A(S,"H3",{});var K=E(a);s=P(K,t),K.forEach(g),u=V(S),e=A(S,"SPAN",{});var N=E(e);f=P(N,h),_=P(N," ("),n=P(N,m),p=P(N,") ("),o=P(N,d),r=P(N,")"),N.forEach(g),S.forEach(g),c=V(T),b&&b.l(T),q=L(),this.h()},h(){R(l,"class","mt-4")},m(T,S){$(T,l,S),v(l,a),v(a,s),v(l,u),v(l,e),v(e,f),v(e,_),v(e,n),v(e,p),v(e,o),v(e,r),$(T,c,S),b&&b.m(T,S),$(T,q,S)},p(T,S){S&16&&t!==(t=T[4]("Alternate Passive Skill")+"")&&O(s,t),S&32&&h!==(h=T[5].AlternatePassiveSkill.Name+"")&&O(f,h),S&32&&m!==(m=T[5].AlternatePassiveSkill.ID+"")&&O(n,m),S&32&&d!==(d=T[5].AlternatePassiveSkill+"")&&O(o,d),S&32&&(k=T[5].StatRolls&&Object.keys(T[5].StatRolls).length>0),k?b?b.p(T,S):(b=Ie(T),b.c(),b.m(q.parentNode,q)):b&&(b.d(1),b=null)},d(T){T&&(g(l),g(c),g(q)),b&&b.d(T)}}}function Ie(i){let l,a=z(Object.keys(i[5].StatRolls)),t=[];for(let s=0;s<a.length;s+=1)t[s]=Pe(pe(i,a,s));return{c(){l=w("ol");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){l=A(s,"OL",{class:!0});var u=E(l);for(let e=0;e<t.length;e+=1)t[e].l(u);u.forEach(g),this.h()},h(){R(l,"class","mt-4 list-decimal pl-8")},m(s,u){$(s,l,u);for(let e=0;e<t.length;e+=1)t[e]&&t[e].m(l,null)},p(s,u){if(u&32){a=z(Object.keys(s[5].StatRolls));let e;for(e=0;e<a.length;e+=1){const h=pe(s,a,e);t[e]?t[e].p(h,u):(t[e]=Pe(h),t[e].c(),t[e].m(l,null))}for(;e<t.length;e+=1)t[e].d(1);t.length=a.length}},d(s){s&&g(l),te(t,s)}}}function Pe(i){let l,a=(i[20].Text||"<no name>")+"",t,s,u=i[20].ID+"",e,h,f=i[5].StatRolls[i[19]]+"",_;return{c(){l=w("li"),t=I(a),s=I(" ("),e=I(u),h=I(") - "),_=I(f)},l(m){l=A(m,"LI",{});var n=E(l);t=P(n,a),s=P(n," ("),e=P(n,u),h=P(n,") - "),_=P(n,f),n.forEach(g)},m(m,n){$(m,l,n),v(l,t),v(l,s),v(l,e),v(l,h),v(l,_)},p(m,n){n&32&&a!==(a=(m[20].Text||"<no name>")+"")&&O(t,a),n&32&&u!==(u=m[20].ID+"")&&O(e,u),n&32&&f!==(f=m[5].StatRolls[m[19]]+"")&&O(_,f)},d(m){m&&g(l)}}}function Ee(i){let l,a,t=i[4]("Additions")+"",s,u,e,h=z(i[5].AlternatePassiveAdditionInformations),f=[];for(let _=0;_<h.length;_+=1)f[_]=$e(he(i,h,_));return{c(){l=w("div"),a=w("h3"),s=I(t),u=M(),e=w("ul");for(let _=0;_<f.length;_+=1)f[_].c();this.h()},l(_){l=A(_,"DIV",{class:!0});var m=E(l);a=A(m,"H3",{});var n=E(a);s=P(n,t),n.forEach(g),u=V(m),e=A(m,"UL",{class:!0});var p=E(e);for(let d=0;d<f.length;d+=1)f[d].l(p);p.forEach(g),m.forEach(g),this.h()},h(){R(e,"class","list-disc pl-8"),R(l,"class","mt-4")},m(_,m){$(_,l,m),v(l,a),v(a,s),v(l,u),v(l,e);for(let n=0;n<f.length;n+=1)f[n]&&f[n].m(e,null)},p(_,m){if(m&16&&t!==(t=_[4]("Additions")+"")&&O(s,t),m&32){h=z(_[5].AlternatePassiveAdditionInformations);let n;for(n=0;n<h.length;n+=1){const p=he(_,h,n);f[n]?f[n].p(p,m):(f[n]=$e(p),f[n].c(),f[n].m(e,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=h.length}},d(_){_&&g(l),te(f,_)}}}function Re(i){let l,a=z(Object.keys(i[16].StatRolls)),t=[];for(let s=0;s<a.length;s+=1)t[s]=Te(de(i,a,s));return{c(){l=w("ol");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){l=A(s,"OL",{class:!0});var u=E(l);for(let e=0;e<t.length;e+=1)t[e].l(u);u.forEach(g),this.h()},h(){R(l,"class","list-decimal pl-8")},m(s,u){$(s,l,u);for(let e=0;e<t.length;e+=1)t[e]&&t[e].m(l,null)},p(s,u){if(u&32){a=z(Object.keys(s[16].StatRolls));let e;for(e=0;e<a.length;e+=1){const h=de(s,a,e);t[e]?t[e].p(h,u):(t[e]=Te(h),t[e].c(),t[e].m(l,null))}for(;e<t.length;e+=1)t[e].d(1);t.length=a.length}},d(s){s&&g(l),te(t,s)}}}function Te(i){let l,a=(i[20].Text||"<no name>")+"",t,s,u=i[20].ID+"",e,h,f=i[16].StatRolls[i[19]]+"",_;return{c(){l=w("li"),t=I(a),s=I(" ("),e=I(u),h=I(") - "),_=I(f)},l(m){l=A(m,"LI",{});var n=E(l);t=P(n,a),s=P(n," ("),e=P(n,u),h=P(n,") - "),_=P(n,f),n.forEach(g)},m(m,n){$(m,l,n),v(l,t),v(l,s),v(l,e),v(l,h),v(l,_)},p(m,n){n&32&&a!==(a=(m[20].Text||"<no name>")+"")&&O(t,a),n&32&&u!==(u=m[20].ID+"")&&O(e,u),n&32&&f!==(f=m[16].StatRolls[m[19]]+"")&&O(_,f)},d(m){m&&g(l)}}}function $e(i){let l,a,t=i[16].AlternatePassiveAddition.ID+"",s,u,e=i[16].AlternatePassiveAddition.Index+"",h,f,_,m=i[16].StatRolls&&Object.keys(i[16].StatRolls).length>0,n,p=m&&Re(i);return{c(){l=w("li"),a=w("span"),s=I(t),u=I(" ("),h=I(e),f=I(")"),_=M(),p&&p.c(),n=M(),this.h()},l(d){l=A(d,"LI",{class:!0});var o=E(l);a=A(o,"SPAN",{});var r=E(a);s=P(r,t),u=P(r," ("),h=P(r,e),f=P(r,")"),r.forEach(g),_=V(o),p&&p.l(o),n=V(o),o.forEach(g),this.h()},h(){R(l,"class","mt-4")},m(d,o){$(d,l,o),v(l,a),v(a,s),v(a,u),v(a,h),v(a,f),v(l,_),p&&p.m(l,null),v(l,n)},p(d,o){o&32&&t!==(t=d[16].AlternatePassiveAddition.ID+"")&&O(s,t),o&32&&e!==(e=d[16].AlternatePassiveAddition.Index+"")&&O(h,e),o&32&&(m=d[16].StatRolls&&Object.keys(d[16].StatRolls).length>0),m?p?p.p(d,o):(p=Re(d),p.c(),p.m(l,n)):p&&(p.d(1),p=null)},d(d){d&&g(l),p&&p.d()}}}function Ke(i){let l,a,t,s,u=i[4]("app_name")+"",e,h,f,_,m,n,p,d=i[4]("Skill Tree View")+"",o,r,c,k,q=i[4]("Timeless Jewel")+"",b,T,S,K,N,x,B,ie=`<div class="text-right text-orange-500"><a href="https://discord.gg/mfacademy" target="_blank" rel="noopener" class="flex flex-row align-middle"><img src="${Ge}/mf-academy-logo.png" width="24px"/> <span class="ml-2">MF Academy</span></a></div> <div class="text-orange-500"><a href="https://github.com/Vilsol/timeless-jewels" target="_blank" rel="noopener">Source (Github)</a></div>`,y;_=new He({});function Oe(j){i[10](j)}let ne={items:i[7]};i[0]!==void 0&&(ne.value=i[0]),S=new ae({props:ne}),ee.push(()=>se(S,"value",Oe)),S.$on("select",i[9]);let D=i[0]&&be(i);return{c(){l=w("div"),a=w("div"),t=w("div"),s=w("h1"),e=I(u),h=M(),f=w("div"),W(_.$$.fragment),m=M(),n=w("a"),p=w("h2"),o=I(d),r=M(),c=w("div"),k=w("h3"),b=I(q),T=M(),W(S.$$.fragment),N=M(),D&&D.c(),x=M(),B=w("div"),B.innerHTML=ie,this.h()},l(j){l=A(j,"DIV",{class:!0});var C=E(l);a=A(C,"DIV",{class:!0});var F=E(a);t=A(F,"DIV",{});var G=E(t);s=A(G,"H1",{class:!0});var oe=E(s);e=P(oe,u),oe.forEach(g),h=V(G),f=A(G,"DIV",{class:!0});var fe=E(f);X(_.$$.fragment,fe),fe.forEach(g),m=V(G),n=A(G,"A",{href:!0});var re=E(n);p=A(re,"H2",{class:!0});var ue=E(p);o=P(ue,d),ue.forEach(g),re.forEach(g),r=V(G),c=A(G,"DIV",{class:!0});var Q=E(c);k=A(Q,"H3",{class:!0});var _e=E(k);b=P(_e,q),_e.forEach(g),T=V(Q),X(S.$$.fragment,Q),N=V(Q),D&&D.l(Q),Q.forEach(g),G.forEach(g),x=V(F),B=A(F,"DIV",{class:!0,"data-svelte-h":!0}),Ve(B)!=="svelte-1drlief"&&(B.innerHTML=ie),F.forEach(g),C.forEach(g),this.h()},h(){R(s,"class","text-white mb-5 text-center"),R(f,"class","mb-10"),R(p,"class","mb-10 text-center underline text-orange-500"),R(n,"href",Ue+"/tree"),R(k,"class","mb-2"),R(c,"class","themed"),R(B,"class","flex justify-between"),R(a,"class","flex flex-col justify-between w-full mx-4 max-w-screen-sm"),R(l,"class","py-10 flex flex-row justify-center w-screen h-screen")},m(j,C){$(j,l,C),v(l,a),v(a,t),v(t,s),v(s,e),v(t,h),v(t,f),Y(_,f,null),v(t,m),v(t,n),v(n,p),v(p,o),v(t,r),v(t,c),v(c,k),v(k,b),v(c,T),Y(S,c,null),v(c,N),D&&D.m(c,null),v(a,x),v(a,B),y=!0},p(j,[C]){(!y||C&16)&&u!==(u=j[4]("app_name")+"")&&O(e,u),(!y||C&16)&&d!==(d=j[4]("Skill Tree View")+"")&&O(o,d),(!y||C&16)&&q!==(q=j[4]("Timeless Jewel")+"")&&O(b,q);const F={};!K&&C&1&&(K=!0,F.value=j[0],le(()=>K=!1)),S.$set(F),j[0]?D?(D.p(j,C),C&1&&H(D,1)):(D=be(j),D.c(),H(D,1),D.m(c,null)):D&&(Je(),U(D,1,1,()=>{D=null}),De())},i(j){y||(H(_.$$.fragment,j),H(S.$$.fragment,j),H(D),y=!0)},o(j){U(_.$$.fragment,j),U(S.$$.fragment,j),U(D),y=!1},d(j){j&&g(l),Z(_),Z(S),D&&D.d()}}}function Qe(i,l,a){let t,s,u;ce(i,Be,b=>a(14,s=b)),ce(i,Fe,b=>a(4,u=b));const e=s.url.searchParams,h=Object.keys(J.TimelessJewels).map(b=>({value:parseInt(b),label:u(J.TimelessJewels[b])}));let f=e.has("jewel")?h.find(b=>b.value==e.get("jewel")):void 0,_=e.has("conqueror")?{value:e.get("conqueror"),label:e.get("conqueror")}:void 0;const m=Object.values(J.PassiveSkills).map(b=>({value:b.Index,label:b.Name+" ("+b.ID+")"}));let n=e.has("passive_skill")?m.find(b=>b.value==e.get("passive_skill")):void 0,p=e.has("seed")?e.get("seed"):0,d;const o=()=>{{const b={};f&&(b.jewel=f.value),_&&(b.conqueror=_.value),n&&(b.passive_skill=n.value),p&&(b.seed=p);const T=Object.keys(b).map(S=>S+"="+encodeURIComponent(b[S])).join("&");Le(s.url.pathname+"?"+T)}};function r(b){f=b,a(0,f)}function c(b){_=b,a(1,_)}function k(b){n=b,a(2,n)}function q(){p=je(this.value),a(3,p)}return i.$$.update=()=>{i.$$.dirty&17&&a(6,t=f?Object.keys(J.TimelessJewelConquerors[f.value]).map(b=>({value:b,label:u(b)})):[]),i.$$.dirty&15&&n&&p&&f&&_&&a(5,d=ye.Calculate(n.value,typeof p=="string"?parseInt(p):p,f.value,_.value))},[f,_,n,p,u,d,t,h,m,o,r,c,k,q]}class ll extends Ne{constructor(l){super(),Ce(this,l,Qe,Ke,Me,{})}}export{ll as component};
