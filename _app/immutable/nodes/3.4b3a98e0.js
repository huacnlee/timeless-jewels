var Nl=Object.defineProperty;var Ol=(t,e,l)=>e in t?Nl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var Te=(t,e,l)=>(Ol(t,typeof e!="symbol"?e+"":e,l),l);import{s as it,f as C,a as j,l as U,g as M,h as L,A as xe,c as q,m as B,d as w,j as y,i as J,y as b,B as A,n as te,z as $e,G as lt,D as We,u as pt,v as vt,w as bt,x as wt,H as yl,o as El,I as Mt,e as Ie,p as st,k as He,J as kt,K as Re,L as Dl,M as Vl,N as G,r as Ct,F as Qe,O as ve,C as Pt,E as Ze,P as zt,Q as Lt}from"../chunks/scheduler.9ae0719f.js";import{S as nt,i as rt,g as Ve,c as Je,a as Y,t as W,b as je,d as qe,m as Ue,e as Be,f as Nt}from"../chunks/index.dd85e640.js";import{e as ze,u as Jl,o as jl,g as ql,S as Et}from"../chunks/Select.23e4c3bd.js";import{c as Tl,d as se,a as Ul}from"../chunks/index.ef3acaca.js";import{p as Bl}from"../chunks/stores.54da8398.js";import{a as Ke,o as Rl,t as ft,b as Fl,d as Rt,c as Ot,e as tt,f as Dt,g as It,h as Vt,i as Jt,j as jt,k as Hl,m as qt,n as Kl,s as Yl,p as Xl}from"../chunks/worker.78231c3f.js";import{r as Gl,d as Wl}from"../chunks/paths.080cd0a8.js";const Al=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Ut(t,e,l){const s=t.slice();return s[6]=e[l],s}function Bt(t,e,l){const s=t.slice();return s[9]=e[l],s}function Ft(t){let e,l=ft(t[9],t[6].stats[t[9]])+"",s;return{c(){e=C("li"),s=U(l)},l(i){e=M(i,"LI",{});var n=L(e);s=B(n,l),n.forEach(w)},m(i,n){J(i,e,n),b(e,s)},p(i,n){n&2&&l!==(l=ft(i[9],i[6].stats[i[9]])+"")&&te(s,l)},d(i){i&&w(e)}}}function Ht(t){let e,l,s=Ke.nodes[t[6].passive].name+"",i,n,r=t[6].passive+"",o,a,f,u,p,m=ze(Object.keys(t[6].stats)),_=[];for(let c=0;c<m.length;c+=1)_[c]=Ft(Bt(t,m,c));return{c(){e=C("div"),l=C("span"),i=U(s),n=U(" ("),o=U(r),a=U(")"),f=j(),u=C("ul");for(let c=0;c<_.length;c+=1)_[c].c();p=j(),this.h()},l(c){e=M(c,"DIV",{class:!0});var h=L(e);l=M(h,"SPAN",{});var d=L(l);i=B(d,s),n=B(d," ("),o=B(d,r),a=B(d,")"),d.forEach(w),f=q(h),u=M(h,"UL",{class:!0});var g=L(u);for(let S=0;S<_.length;S+=1)_[S].l(g);g.forEach(w),p=q(h),h.forEach(w),this.h()},h(){y(u,"class","list-disc pl-6 font-bold"),y(e,"class","mt-2")},m(c,h){J(c,e,h),b(e,l),b(l,i),b(l,n),b(l,o),b(l,a),b(e,f),b(e,u);for(let d=0;d<_.length;d+=1)_[d]&&_[d].m(u,null);b(e,p)},p(c,h){if(h&2&&s!==(s=Ke.nodes[c[6].passive].name+"")&&te(i,s),h&2&&r!==(r=c[6].passive+"")&&te(o,r),h&2){m=ze(Object.keys(c[6].stats));let d;for(d=0;d<m.length;d+=1){const g=Bt(c,m,d);_[d]?_[d].p(g,h):(_[d]=Ft(g),_[d].c(),_[d].m(u,null))}for(;d<_.length;d+=1)_[d].d(1);_.length=m.length}},d(c){c&&w(e),lt(_,c)}}}function Ql(t){let e,l,s,i="Trade",n,r,o,a=t[1].seed+"",f,u,p=t[1].weight+"",m,_,c,h,d="Trade",g,S,z,E=ze(t[1].skills),I=[];for(let R=0;R<E.length;R+=1)I[R]=Ht(Ut(t,E,R));return{c(){e=C("div"),l=C("div"),s=C("button"),s.textContent=i,n=j(),r=C("div"),o=U("Seed "),f=U(a),u=U(" (weight "),m=U(p),_=U(")"),c=j(),h=C("button"),h.textContent=d,g=j();for(let R=0;R<I.length;R+=1)I[R].c();this.h()},l(R){e=M(R,"DIV",{class:!0});var P=L(e);l=M(P,"DIV",{class:!0});var D=L(l);s=M(D,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(s)!=="svelte-1wpptz2"&&(s.textContent=i),n=q(D),r=M(D,"DIV",{class:!0});var V=L(r);o=B(V,"Seed "),f=B(V,a),u=B(V," (weight "),m=B(V,p),_=B(V,")"),V.forEach(w),c=q(D),h=M(D,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(h)!=="svelte-1ji53d9"&&(h.textContent=d),D.forEach(w),g=q(P);for(let ie=0;ie<I.length;ie+=1)I[ie].l(P);P.forEach(w),this.h()},h(){y(s,"class","px-3 invisible"),y(r,"class","font-bold text-orange-500 text-center"),y(h,"class","px-3 bg-blue-500/40 rounded"),y(l,"class","flex flex-row justify-between"),y(e,"class","my-2 border-white/50 border p-2 flex flex-col cursor-pointer")},m(R,P){J(R,e,P),b(e,l),b(l,s),b(l,n),b(l,r),b(r,o),b(r,f),b(r,u),b(r,m),b(r,_),b(l,c),b(l,h),b(e,g);for(let D=0;D<I.length;D+=1)I[D]&&I[D].m(e,null);S||(z=[A(h,"click",t[4]),A(e,"click",t[5])],S=!0)},p(R,[P]){if(P&2&&a!==(a=R[1].seed+"")&&te(f,a),P&2&&p!==(p=R[1].weight+"")&&te(m,p),P&2){E=ze(R[1].skills);let D;for(D=0;D<E.length;D+=1){const V=Ut(R,E,D);I[D]?I[D].p(V,P):(I[D]=Ht(V),I[D].c(),I[D].m(e,null))}for(;D<I.length;D+=1)I[D].d(1);I.length=E.length}},i:$e,o:$e,d(R){R&&w(e),lt(I,R),S=!1,We(z)}}}function Zl(t,e,l){let{highlight:s}=e,{set:i}=e,{jewel:n}=e,{conqueror:r}=e;const o=()=>Rl(n,r,[i]),a=()=>s(i.seed,i.skills.map(f=>f.passive));return t.$$set=f=>{"highlight"in f&&l(0,s=f.highlight),"set"in f&&l(1,i=f.set),"jewel"in f&&l(2,n=f.jewel),"conqueror"in f&&l(3,r=f.conqueror)},[s,i,n,r,o,a]}class Cl extends nt{constructor(e){super(),rt(this,e,Zl,Ql,it,{highlight:0,set:1,jewel:2,conqueror:3})}}const yt={AUTO:"auto",START:"start",CENTER:"center",END:"end"},Ge={HORIZONTAL:"horizontal",VERTICAL:"vertical"},gt={OBSERVED:0,REQUESTED:1},$l={[Ge.VERTICAL]:"top",[Ge.HORIZONTAL]:"left"},Kt={[Ge.VERTICAL]:"scrollTop",[Ge.HORIZONTAL]:"scrollLeft"};class xl{constructor({itemSize:e,itemCount:l,estimatedItemSize:s}){this.itemSize=e,this.itemCount=l,this.estimatedItemSize=s,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return typeof this.itemSize=="function"}updateConfig({itemSize:e,itemCount:l,estimatedItemSize:s}){l!=null&&(this.itemCount=l),s!=null&&(this.estimatedItemSize=s),e!=null&&(this.itemSize=e),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&this.totalSize!=null?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(e){const{itemSize:l}=this;return typeof l=="function"?l(e):Array.isArray(l)?l[e]:l}computeTotalSizeAndPositionData(){let e=0;for(let l=0;l<this.itemCount;l++){const s=this.getSize(l),i=e;e+=s,this.itemSizeAndPositionData[l]={offset:i,size:s}}this.totalSize=e}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount)throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(e):this.itemSizeAndPositionData[e]}getJustInTimeSizeAndPositionForIndex(e){if(e>this.lastMeasuredIndex){const l=this.getSizeAndPositionOfLastMeasuredItem();let s=l.offset+l.size;for(let i=this.lastMeasuredIndex+1;i<=e;i++){const n=this.getSize(i);if(n==null||isNaN(n))throw Error(`Invalid size returned for index ${i} of value ${n}`);this.itemSizeAndPositionData[i]={offset:s,size:n},s+=n}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:e=yt.START,containerSize:l,currentOffset:s,targetIndex:i}){if(l<=0)return 0;const n=this.getSizeAndPositionForIndex(i),r=n.offset,o=r-l+n.size;let a;switch(e){case yt.END:a=o;break;case yt.CENTER:a=r-(l-n.size)/2;break;case yt.START:a=r;break;default:a=Math.max(o,Math.min(r,s))}const f=this.getTotalSize();return Math.max(0,Math.min(f-l,a))}getVisibleRange({containerSize:e=0,offset:l,overscanCount:s}){if(this.getTotalSize()===0)return{};const n=l+e;let r=this.findNearestItem(l);if(r===void 0)throw Error(`Invalid offset ${l} specified`);const o=this.getSizeAndPositionForIndex(r);l=o.offset+o.size;let a=r;for(;l<n&&a<this.itemCount-1;)a++,l+=this.getSizeAndPositionForIndex(a).size;return s&&(r=Math.max(0,r-s),a=Math.min(a+s,this.itemCount-1)),{start:r,stop:a}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const l=this.getSizeAndPositionOfLastMeasuredItem(),s=Math.max(0,this.lastMeasuredIndex);return l.offset>=e?this.binarySearch({high:s,low:0,offset:e}):this.exponentialSearch({index:s,offset:e})}binarySearch({low:e,high:l,offset:s}){let i=0,n=0;for(;e<=l;){if(i=e+Math.floor((l-e)/2),n=this.getSizeAndPositionForIndex(i).offset,n===s)return i;n<s?e=i+1:n>s&&(l=i-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:l}){let s=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<l;)e+=s,s*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:l})}}const es=t=>({}),Yt=t=>({});function Xt(t,e,l){const s=t.slice();return s[37]=e[l],s}const ts=t=>({style:t[0]&4,index:t[0]&4}),Gt=t=>({style:t[37].style,index:t[37].index}),ls=t=>({}),Wt=t=>({});function Qt(t,e){let l,s;const i=e[21].item,n=pt(i,e,e[20],Gt);return{key:t,first:null,c(){l=Ie(),n&&n.c(),this.h()},l(r){l=Ie(),n&&n.l(r),this.h()},h(){this.first=l},m(r,o){J(r,l,o),n&&n.m(r,o),s=!0},p(r,o){e=r,n&&n.p&&(!s||o[0]&1048580)&&vt(n,i,e,e[20],s?wt(i,e[20],o,ts):bt(e[20]),Gt)},i(r){s||(Y(n,r),s=!0)},o(r){W(n,r),s=!1},d(r){r&&w(l),n&&n.d(r)}}}function ss(t){let e,l,s,i=[],n=new Map,r,o;const a=t[21].header,f=pt(a,t,t[20],Wt);let u=ze(t[2]);const p=c=>c[0]?c[0](c[37].index):c[37].index;for(let c=0;c<u.length;c+=1){let h=Xt(t,u,c),d=p(h);n.set(d,i[c]=Qt(d,h))}const m=t[21].footer,_=pt(m,t,t[20],Yt);return{c(){e=C("div"),f&&f.c(),l=j(),s=C("div");for(let c=0;c<i.length;c+=1)i[c].c();r=j(),_&&_.c(),this.h()},l(c){e=M(c,"DIV",{class:!0,style:!0});var h=L(e);f&&f.l(h),l=q(h),s=M(h,"DIV",{class:!0,style:!0});var d=L(s);for(let g=0;g<i.length;g+=1)i[g].l(d);d.forEach(w),r=q(h),_&&_.l(h),h.forEach(w),this.h()},h(){y(s,"class","virtual-list-inner svelte-1d4hv8l"),y(s,"style",t[4]),y(e,"class","virtual-list-wrapper svelte-1d4hv8l"),y(e,"style",t[3])},m(c,h){J(c,e,h),f&&f.m(e,null),b(e,l),b(e,s);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(s,null);b(e,r),_&&_.m(e,null),t[22](e),o=!0},p(c,h){f&&f.p&&(!o||h[0]&1048576)&&vt(f,a,c,c[20],o?wt(a,c[20],h,ls):bt(c[20]),Wt),h[0]&1048581&&(u=ze(c[2]),Ve(),i=Jl(i,h,p,1,c,u,n,s,jl,Qt,null,Xt),Je()),(!o||h[0]&16)&&y(s,"style",c[4]),_&&_.p&&(!o||h[0]&1048576)&&vt(_,m,c,c[20],o?wt(m,c[20],h,es):bt(c[20]),Yt),(!o||h[0]&8)&&y(e,"style",c[3])},i(c){if(!o){Y(f,c);for(let h=0;h<u.length;h+=1)Y(i[h]);Y(_,c),o=!0}},o(c){W(f,c);for(let h=0;h<i.length;h+=1)W(i[h]);W(_,c),o=!1},d(c){c&&w(e),f&&f.d(c);for(let h=0;h<i.length;h+=1)i[h].d();_&&_.d(c),t[22](null)}}}const is=(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get(){return t={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return t})();function ns(t,e,l){let{$$slots:s={},$$scope:i}=e,{height:n}=e,{width:r="100%"}=e,{itemCount:o}=e,{itemSize:a}=e,{estimatedItemSize:f=null}=e,{stickyIndices:u=null}=e,{getKey:p=null}=e,{scrollDirection:m=Ge.VERTICAL}=e,{scrollOffset:_=null}=e,{scrollToIndex:c=null}=e,{scrollToAlignment:h=null}=e,{scrollToBehaviour:d="instant"}=e,{overscanCount:g=3}=e;const S=yl(),z=new xl({itemCount:o,itemSize:a,estimatedItemSize:we()});let E=!1,I,R=[],P={offset:_||c!=null&&R.length&&ae(c)||0,scrollChangeReason:gt.REQUESTED},D=P,V={scrollToIndex:c,scrollToAlignment:h,scrollOffset:_,itemCount:o,itemSize:a,estimatedItemSize:f},ie={},Q="",Z="";ue(),El(()=>{l(18,E=!0),I.addEventListener("scroll",ye,is),_!=null?fe(_):c!=null&&fe(ae(c))}),Mt(()=>{E&&I.removeEventListener("scroll",ye)});function H(){if(!E)return;const O=V.scrollToIndex!==c||V.scrollToAlignment!==h,v=V.itemCount!==o||V.itemSize!==a||V.estimatedItemSize!==f;v&&(z.updateConfig({itemSize:a,itemCount:o,estimatedItemSize:we()}),ee()),V.scrollOffset!==_?l(19,P={offset:_||0,scrollChangeReason:gt.REQUESTED}):typeof c=="number"&&(O||v)&&l(19,P={offset:ae(c,h,o),scrollChangeReason:gt.REQUESTED}),V={scrollToIndex:c,scrollToAlignment:h,scrollOffset:_,itemCount:o,itemSize:a,estimatedItemSize:f}}function $(){if(!E)return;const{offset:O,scrollChangeReason:v}=P;(D.offset!==O||D.scrollChangeReason!==v)&&ue(),D.offset!==O&&v===gt.REQUESTED&&fe(O),D=P}function ue(){const{offset:O}=P,{start:v,stop:N}=z.getVisibleRange({containerSize:m===Ge.VERTICAL?n:r,offset:O,overscanCount:g});let K=[];const F=z.getTotalSize();m===Ge.VERTICAL?(l(3,Q=`height:${n}px;width:${r};`),l(4,Z=`flex-direction:column;height:${F}px;`)):(l(3,Q=`height:${n};width:${r}px`),l(4,Z=`min-height:100%;width:${F}px;`));const de=u!=null&&u.length!==0;if(de)for(let re=0;re<u.length;re++){const ge=u[re];K.push({index:ge,style:ne(ge,!0)})}if(v!==void 0&&N!==void 0){for(let re=v;re<=N;re++)de&&u.includes(re)||K.push({index:re,style:ne(re,!1)});S("itemsUpdated",{start:v,end:N})}l(2,R=K)}function fe(O){"scroll"in I?I.scroll({[$l[m]]:O,behavior:d}):l(1,I[Kt[m]]=O,I)}function ee(O=0){ie={},z.resetItem(O),ue()}function ae(O,v=h,N=o){return(O<0||O>=N)&&(O=0),z.getUpdatedOffsetForIndex({align:v,containerSize:m===Ge.VERTICAL?n:r,currentOffset:P.offset||0,targetIndex:O})}function ye(O){const v=be();v<0||P.offset===v||O.target!==I||(l(19,P={offset:v,scrollChangeReason:gt.OBSERVED}),S("afterScroll",{offset:v,event:O}))}function be(){return I[Kt[m]]}function we(){return f||typeof a=="number"&&a||50}function ne(O,v){if(ie[O])return ie[O];const{size:N,offset:K}=z.getSizeAndPositionForIndex(O);let F;return m===Ge.VERTICAL?(F=`left:0;width:100%;height:${N}px;`,v?F+=`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${K}px;margin-bottom:${-(K+N)}px;`:F+=`position:absolute;top:${K}px;`):(F=`top:0;width:${N}px;`,v?F+=`position:sticky;z-index:1;left:0;margin-left:${K}px;margin-right:${-(K+N)}px;`:F+=`position:absolute;height:100%;left:${K}px;`),ie[O]=F}function Me(O){st[O?"unshift":"push"](()=>{I=O,l(1,I)})}return t.$$set=O=>{"height"in O&&l(5,n=O.height),"width"in O&&l(6,r=O.width),"itemCount"in O&&l(7,o=O.itemCount),"itemSize"in O&&l(8,a=O.itemSize),"estimatedItemSize"in O&&l(9,f=O.estimatedItemSize),"stickyIndices"in O&&l(10,u=O.stickyIndices),"getKey"in O&&l(0,p=O.getKey),"scrollDirection"in O&&l(11,m=O.scrollDirection),"scrollOffset"in O&&l(12,_=O.scrollOffset),"scrollToIndex"in O&&l(13,c=O.scrollToIndex),"scrollToAlignment"in O&&l(14,h=O.scrollToAlignment),"scrollToBehaviour"in O&&l(15,d=O.scrollToBehaviour),"overscanCount"in O&&l(16,g=O.overscanCount),"$$scope"in O&&l(20,i=O.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&29568&&H(),t.$$.dirty[0]&524288&&$(),t.$$.dirty[0]&263264&&E&&ee(0)},[p,I,R,Q,Z,n,r,o,a,f,u,m,_,c,h,d,g,ee,E,P,i,s,Me]}class Ml extends nt{constructor(e){super(),rt(this,e,ns,ss,it,{height:5,width:6,itemCount:7,itemSize:8,estimatedItemSize:9,stickyIndices:10,getKey:0,scrollDirection:11,scrollOffset:12,scrollToIndex:13,scrollToAlignment:14,scrollToBehaviour:15,overscanCount:16,recomputeSizes:17},null,[-1,-1])}get recomputeSizes(){return this.$$.ctx[17]}}function Zt(t,e,l){const s=t.slice();return s[9]=e[l],s}function rs(t){let e,l,s;return l=new Ml({props:{height:"auto",overscanCount:15,itemCount:t[0].raw.length,itemSize:t[0].raw.map(t[6]),$$slots:{item:[os,({style:i,index:n})=>({12:i,13:n}),({style:i,index:n})=>(i?4096:0)|(n?8192:0)]},$$scope:{ctx:t}}}),{c(){e=C("div"),je(l.$$.fragment),this.h()},l(i){e=M(i,"DIV",{class:!0});var n=L(e);qe(l.$$.fragment,n),n.forEach(w),this.h()},h(){y(e,"class","mt-4 flex flex-col overflow-auto")},m(i,n){J(i,e,n),Ue(l,e,null),s=!0},p(i,n){const r={};n&1&&(r.itemCount=i[0].raw.length),n&1&&(r.itemSize=i[0].raw.map(i[6])),n&28699&&(r.$$scope={dirty:n,ctx:i}),l.$set(r)},i(i){s||(Y(l.$$.fragment,i),s=!0)},o(i){W(l.$$.fragment,i),s=!1},d(i){i&&w(e),Be(l)}}}function as(t){let e,l,s=ze(Object.keys(t[0].grouped).map(t[7]).sort(el).reverse()),i=[];for(let r=0;r<s.length;r+=1)i[r]=xt(Zt(t,s,r));const n=r=>W(i[r],1,1,()=>{i[r]=null});return{c(){e=C("div");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){e=M(r,"DIV",{class:!0});var o=L(e);for(let a=0;a<i.length;a+=1)i[a].l(o);o.forEach(w),this.h()},h(){y(e,"class","flex flex-col overflow-auto")},m(r,o){J(r,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);l=!0},p(r,o){if(o&12411){s=ze(Object.keys(r[0].grouped).map(r[7]).sort(el).reverse());let a;for(a=0;a<s.length;a+=1){const f=Zt(r,s,a);i[a]?(i[a].p(f,o),Y(i[a],1)):(i[a]=xt(f),i[a].c(),Y(i[a],1),i[a].m(e,null))}for(Ve(),a=s.length;a<i.length;a+=1)n(a);Je()}},i(r){if(!l){for(let o=0;o<s.length;o+=1)Y(i[o]);l=!0}},o(r){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)W(i[o]);l=!1},d(r){r&&w(e),lt(i,r)}}}function os(t){let e,l,s,i;return l=new Cl({props:{set:t[0].raw[t[13]],highlight:t[1],jewel:t[3],conqueror:t[4]}}),{c(){e=C("div"),je(l.$$.fragment),this.h()},l(n){e=M(n,"DIV",{slot:!0,style:!0});var r=L(e);qe(l.$$.fragment,r),r.forEach(w),this.h()},h(){y(e,"slot","item"),y(e,"style",s=t[12])},m(n,r){J(n,e,r),Ue(l,e,null),i=!0},p(n,r){const o={};r&8193&&(o.set=n[0].raw[n[13]]),r&2&&(o.highlight=n[1]),r&8&&(o.jewel=n[3]),r&16&&(o.conqueror=n[4]),l.$set(o),(!i||r&4096&&s!==(s=n[12]))&&y(e,"style",s)},i(n){i||(Y(l.$$.fragment,n),i=!0)},o(n){W(l.$$.fragment,n),i=!1},d(n){n&&w(e),Be(l)}}}function $t(t){let e,l,s,i;return l=new Ml({props:{height:"auto",overscanCount:10,itemCount:t[0].grouped[t[9]].length,itemSize:t[0].grouped[t[9]].map(t[6]),$$slots:{item:[us,({style:n,index:r})=>({12:n,13:r}),({style:n,index:r})=>(n?4096:0)|(r?8192:0)]},$$scope:{ctx:t}}}),{c(){e=C("div"),je(l.$$.fragment),s=j(),this.h()},l(n){e=M(n,"DIV",{class:!0});var r=L(e);qe(l.$$.fragment,r),s=q(r),r.forEach(w),this.h()},h(){y(e,"class","flex flex-col overflow-auto min-h-[200px] mb-2")},m(n,r){J(n,e,r),Ue(l,e,null),b(e,s),i=!0},p(n,r){const o={};r&1&&(o.itemCount=n[0].grouped[n[9]].length),r&1&&(o.itemSize=n[0].grouped[n[9]].map(n[6])),r&28699&&(o.$$scope={dirty:r,ctx:n}),l.$set(o)},i(n){i||(Y(l.$$.fragment,n),i=!0)},o(n){W(l.$$.fragment,n),i=!1},d(n){n&&w(e),Be(l)}}}function us(t){let e,l,s,i;return l=new Cl({props:{set:t[0].grouped[t[9]][t[13]],highlight:t[1],jewel:t[3],conqueror:t[4]}}),{c(){e=C("div"),je(l.$$.fragment),this.h()},l(n){e=M(n,"DIV",{slot:!0,style:!0});var r=L(e);qe(l.$$.fragment,r),r.forEach(w),this.h()},h(){y(e,"slot","item"),y(e,"style",s=t[12])},m(n,r){J(n,e,r),Ue(l,e,null),i=!0},p(n,r){const o={};r&8193&&(o.set=n[0].grouped[n[9]][n[13]]),r&2&&(o.highlight=n[1]),r&8&&(o.jewel=n[3]),r&16&&(o.conqueror=n[4]),l.$set(o),(!i||r&4096&&s!==(s=n[12]))&&y(e,"style",s)},i(n){i||(Y(l.$$.fragment,n),i=!0)},o(n){W(l.$$.fragment,n),i=!1},d(n){n&&w(e),Be(l)}}}function xt(t){let e,l,s=t[9]+"",i,n,r=t[9]>1?"es":"",o,a,f=t[0].grouped[t[9]].length+"",u,p,m,_,c=t[5]===t[9]?"^":"V",h,d,g,S,z,E;function I(){return t[8](t[9])}let R=t[5]===t[9]&&$t(t);return{c(){e=C("button"),l=C("span"),i=U(s),n=U(" Match"),o=U(r),a=U(" ["),u=U(f),p=U("]"),m=j(),_=C("span"),h=U(c),d=j(),R&&R.c(),g=Ie(),this.h()},l(P){e=M(P,"BUTTON",{class:!0});var D=L(e);l=M(D,"SPAN",{});var V=L(l);i=B(V,s),n=B(V," Match"),o=B(V,r),a=B(V," ["),u=B(V,f),p=B(V,"]"),V.forEach(w),m=q(D),_=M(D,"SPAN",{});var ie=L(_);h=B(ie,c),ie.forEach(w),D.forEach(w),d=q(P),R&&R.l(P),g=Ie(),this.h()},h(){y(e,"class","text-lg w-full p-2 px-4 bg-neutral-500/30 rounded flex flex-row justify-between mb-2")},m(P,D){J(P,e,D),b(e,l),b(l,i),b(l,n),b(l,o),b(l,a),b(l,u),b(l,p),b(e,m),b(e,_),b(_,h),J(P,d,D),R&&R.m(P,D),J(P,g,D),S=!0,z||(E=A(e,"click",I),z=!0)},p(P,D){t=P,(!S||D&1)&&s!==(s=t[9]+"")&&te(i,s),(!S||D&1)&&r!==(r=t[9]>1?"es":"")&&te(o,r),(!S||D&1)&&f!==(f=t[0].grouped[t[9]].length+"")&&te(u,f),(!S||D&33)&&c!==(c=t[5]===t[9]?"^":"V")&&te(h,c),t[5]===t[9]?R?(R.p(t,D),D&33&&Y(R,1)):(R=$t(t),R.c(),Y(R,1),R.m(g.parentNode,g)):R&&(Ve(),W(R,1,1,()=>{R=null}),Je())},i(P){S||(Y(R),S=!0)},o(P){W(R),S=!1},d(P){P&&(w(e),w(d),w(g)),R&&R.d(P),z=!1,E()}}}function fs(t){let e,l,s,i;const n=[as,rs],r=[];function o(a,f){return a[2]?0:1}return e=o(t),l=r[e]=n[e](t),{c(){l.c(),s=Ie()},l(a){l.l(a),s=Ie()},m(a,f){r[e].m(a,f),J(a,s,f),i=!0},p(a,[f]){let u=e;e=o(a),e===u?r[e].p(a,f):(Ve(),W(r[u],1,1,()=>{r[u]=null}),Je(),l=r[e],l?l.p(a,f):(l=r[e]=n[e](a),l.c()),Y(l,1),l.m(s.parentNode,s))},i(a){i||(Y(l),i=!0)},o(a){W(l),i=!1},d(a){a&&w(s),r[e].d(a)}}}const el=(t,e)=>t-e;function hs(t,e,l){let{searchResults:s}=e,{highlight:i}=e,{groupResults:n=!0}=e,{jewel:r}=e,{conqueror:o}=e;const a=m=>8+48+m.skills.reduce((_,c)=>_+32+Object.keys(c.stats).length*24,0);let f="";const u=m=>parseInt(m),p=m=>l(5,f=f===m?"":m);return t.$$set=m=>{"searchResults"in m&&l(0,s=m.searchResults),"highlight"in m&&l(1,i=m.highlight),"groupResults"in m&&l(2,n=m.groupResults),"jewel"in m&&l(3,r=m.jewel),"conqueror"in m&&l(4,o=m.conqueror)},[s,i,n,r,o,f,a,u,p]}class cs extends nt{constructor(e){super(),rt(this,e,hs,fs,it,{searchResults:0,highlight:1,groupResults:2,jewel:3,conqueror:4})}}class ds{constructor(){Te(this,"currentLayerId");Te(this,"setups");Te(this,"renderers");Te(this,"dispatchers");Te(this,"needsSetup");Te(this,"needsRedraw");Te(this,"context");Te(this,"width");Te(this,"height");Te(this,"autoclear");Te(this,"pixelRatio");Te(this,"renderLoop");Te(this,"layerObserver");Te(this,"layerRef");Te(this,"layerSequence");Te(this,"renderingLayerId");Te(this,"activeLayerId");Te(this,"activeLayerDispatcher");this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.getRenderingLayerId=this.getRenderingLayerId.bind(this),this.currentLayerId=1,this.setups=new Map,this.renderers=new Map,this.dispatchers=new Map,this.needsSetup=!1,this.needsRedraw=!0,this.renderingLayerId=0,this.activeLayerId=0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}register({setup:e,render:l,dispatcher:s}){return e&&(this.setups.set(this.currentLayerId,e),this.needsSetup=!0),this.renderers.set(this.currentLayerId,l),this.dispatchers.set(this.currentLayerId,s),this.needsRedraw=!0,this.currentLayerId++}unregister(e){this.renderers.delete(e),this.dispatchers.delete(e),this.needsRedraw=!0}setup(e,l){this.context=e,this.layerRef=l,this.observeLayerSequence(),this.startRenderLoop()}observeLayerSequence(){this.layerObserver=new MutationObserver(this.getLayerSequence.bind(this)),this.layerObserver.observe(this.layerRef,{childList:!0}),this.getLayerSequence()}getLayerSequence(){const e=[...this.layerRef.children];this.layerSequence=e.map(l=>+(l.dataset.layerId??-1)),this.redraw()}startRenderLoop(){this.render(),this.renderLoop=requestAnimationFrame(()=>this.startRenderLoop())}render(){var n;const e=this.context,l=this.width,s=this.height,i=this.pixelRatio;if(this.needsSetup){for(const[r,o]of this.setups)o({context:e,width:l,height:s}),this.setups.delete(r);this.needsSetup=!1}if(this.needsRedraw){e.setTransform(i,0,0,i,0,0),this.autoclear&&e.clearRect(0,0,l,s);for(const r of this.layerSequence)this.renderingLayerId=r,(n=this.renderers.get(r))==null||n({context:e,width:l,height:s});this.needsRedraw=!1}}setActiveLayer(e,l){this.activeLayerId!==e&&(l instanceof MouseEvent&&(this.dispatchLayerEvent(new PointerEvent("pointerleave",l)),this.dispatchLayerEvent(new MouseEvent("mouseleave",l))),this.activeLayerId=e,this.activeLayerDispatcher=this.dispatchers.get(e),l instanceof MouseEvent&&(this.dispatchLayerEvent(new PointerEvent("pointerenter",l)),this.dispatchLayerEvent(new MouseEvent("mouseenter",l))))}dispatchLayerEvent(e){if(this.activeLayerDispatcher){if(window.TouchEvent&&e instanceof TouchEvent){const{left:l,top:s}=e.target.getBoundingClientRect(),{clientX:i,clientY:n}=e.changedTouches[0],r={x:i-l,y:n-s,originalEvent:e};this.activeLayerDispatcher(e.type,r)}else if(e instanceof MouseEvent){const l={x:e.offsetX,y:e.offsetY,originalEvent:e};this.activeLayerDispatcher(e.type,l)}}}getRenderingLayerId(){return this.renderingLayerId}destroy(){typeof window>"u"||(this.layerObserver.disconnect(),cancelAnimationFrame(this.renderLoop))}}const ms=t=>{const e=t*2,l=e>>16&255,s=e>>8&255,i=e&255;return`rgb(${l}, ${s}, ${i})`},_s=(t,e,l)=>{const s=(t<<16|e<<8|l)/2;return s%1?0:s},gs=["drawImage"],ps=["filter","shadowBlur","globalCompositeOperation","globalAlpha"],vs=["drawImage","fill","fillRect","fillText","stroke","strokeRect","strokeText"],bs=t=>{let e;const l=document.createElement("canvas"),s=l.getContext("2d",{willReadFrequently:!0}),i=()=>{l.width=t.canvas.width,l.height=t.canvas.height};return new MutationObserver(i).observe(t.canvas,{attributeFilter:["width","height"]}),i(),new Proxy(t,{get(r,o){if(o==="_getLayerIdAtPixel")return(f,u)=>{const[p,m,_]=s.getImageData(f,u,1,1).data;return _s(p,m,_)};const a=r[o];return typeof a!="function"?a:function(...f){if(vs.includes(o)){const u=ms(e());s.fillStyle=u,s.strokeStyle=u}if(o==="drawImage"){const u=f.slice(1);s.fillRect(...u)}return gs.includes(o)||Reflect.apply(a,s,f),Reflect.apply(a,r,f)}},set(r,o,a){return o==="_renderingLayerId"?(e=a,!0):(r[o]=a,ps.includes(o)||(s[o]=a),!0)}})};function ws(t){let e,l,s,i=`${t[0]}px`,n=`${t[1]}px`,r,o,a,f,u;const p=t[18].default,m=pt(p,t,t[17],null);return{c(){e=C("canvas"),r=j(),o=C("div"),m&&m.c(),this.h()},l(_){e=M(_,"CANVAS",{width:!0,height:!0,class:!0,style:!0}),L(e).forEach(w),r=q(_),o=M(_,"DIV",{});var c=L(o);m&&m.l(c),c.forEach(w),this.h()},h(){y(e,"width",l=t[0]*t[5]),y(e,"height",s=t[1]*t[5]),y(e,"class",t[4]),y(e,"style",t[2]),He(e,"display","block"),He(e,"width",i),He(e,"height",n),He(o,"display","none")},m(_,c){J(_,e,c),t[64](e),J(_,r,c),J(_,o,c),m&&m.m(o,null),t[65](o),a=!0,f||(u=[A(e,"touchstart",kt(function(){Re(t[3]?t[9]:null)&&(t[3]?t[9]:null).apply(this,arguments)})),A(e,"mousemove",function(){Re(t[3]?t[8]:null)&&(t[3]?t[8]:null).apply(this,arguments)}),A(e,"pointermove",function(){Re(t[3]?t[8]:null)&&(t[3]?t[8]:null).apply(this,arguments)}),A(e,"click",function(){Re(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"contextmenu",function(){Re(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"dblclick",function(){Re(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"mousedown",function(){Re(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"mouseenter",function(){Re(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"mouseleave",function(){Re(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"mouseup",function(){Re(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"wheel",function(){Re(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"touchcancel",kt(function(){Re(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)})),A(e,"touchend",kt(function(){Re(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)})),A(e,"touchmove",kt(function(){Re(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)})),A(e,"pointerenter",function(){Re(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"pointerleave",function(){Re(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"pointerdown",function(){Re(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"pointerup",function(){Re(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"pointercancel",function(){Re(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"focus",t[19]),A(e,"blur",t[20]),A(e,"fullscreenchange",t[21]),A(e,"fullscreenerror",t[22]),A(e,"scroll",t[23]),A(e,"cut",t[24]),A(e,"copy",t[25]),A(e,"paste",t[26]),A(e,"keydown",t[27]),A(e,"keypress",t[28]),A(e,"keyup",t[29]),A(e,"auxclick",t[30]),A(e,"click",t[31]),A(e,"contextmenu",t[32]),A(e,"dblclick",t[33]),A(e,"mousedown",t[34]),A(e,"mouseenter",t[35]),A(e,"mouseleave",t[36]),A(e,"mousemove",t[37]),A(e,"mouseover",t[38]),A(e,"mouseout",t[39]),A(e,"mouseup",t[40]),A(e,"select",t[41]),A(e,"wheel",t[42]),A(e,"drag",t[43]),A(e,"dragend",t[44]),A(e,"dragenter",t[45]),A(e,"dragstart",t[46]),A(e,"dragleave",t[47]),A(e,"dragover",t[48]),A(e,"drop",t[49]),A(e,"touchcancel",t[50]),A(e,"touchend",t[51]),A(e,"touchmove",t[52]),A(e,"touchstart",t[53]),A(e,"pointerover",t[54]),A(e,"pointerenter",t[55]),A(e,"pointerdown",t[56]),A(e,"pointermove",t[57]),A(e,"pointerup",t[58]),A(e,"pointercancel",t[59]),A(e,"pointerout",t[60]),A(e,"pointerleave",t[61]),A(e,"gotpointercapture",t[62]),A(e,"lostpointercapture",t[63])],f=!0)},p(_,c){t=_,(!a||c[0]&33&&l!==(l=t[0]*t[5]))&&y(e,"width",l),(!a||c[0]&34&&s!==(s=t[1]*t[5]))&&y(e,"height",s),(!a||c[0]&16)&&y(e,"class",t[4]),(!a||c[0]&4)&&y(e,"style",t[2]);const h=c[0]&4;(c[0]&4||h)&&He(e,"display","block"),(c[0]&5&&i!==(i=`${t[0]}px`)||h)&&He(e,"width",i),(c[0]&6&&n!==(n=`${t[1]}px`)||h)&&He(e,"height",n),m&&m.p&&(!a||c[0]&131072)&&vt(m,p,t,t[17],a?wt(p,t[17],c,null):bt(t[17]),null)},i(_){a||(Y(m,_),a=!0)},o(_){W(m,_),a=!1},d(_){_&&(w(e),w(r),w(o)),t[64](null),m&&m.d(_),t[65](null),f=!1,We(u)}}}const Pl=Symbol(),Ss=()=>Vl(Pl);function ks(t,e,l){let s,{$$slots:i={},$$scope:n}=e,{width:r=640,height:o=640,pixelRatio:a=null,style:f="",autoclear:u=!0,layerEvents:p=!1}=e,{class:m=""}=e,_,c=null,h;const d=new ds;function g(){d.redraw()}function S(){return _}function z(){return c}a==null&&(typeof window<"u"?a=window.devicePixelRatio:a=2),Dl(Pl,{register:d.register,unregister:d.unregister,redraw:d.redraw}),El(()=>{const k=_.getContext("2d");p?(c=bs(k),c._renderingLayerId=d.getRenderingLayerId):c=k,d.setup(c,h)}),Mt(()=>d.destroy());const E=k=>{const dt=k.offsetX*s,mt=k.offsetY*s,_t=c._getLayerIdAtPixel(dt,mt);d.setActiveLayer(_t,k),d.dispatchLayerEvent(k)},I=k=>{const{clientX:dt,clientY:mt}=k.changedTouches[0],{left:_t,top:T}=_.getBoundingClientRect(),le=(dt-_t)*s,pe=(mt-T)*s,Se=c._getLayerIdAtPixel(le,pe);d.setActiveLayer(Se,k),d.dispatchLayerEvent(k)},R=k=>{window.TouchEvent&&k instanceof TouchEvent&&k.preventDefault(),d.dispatchLayerEvent(k)};function P(k){G.call(this,t,k)}function D(k){G.call(this,t,k)}function V(k){G.call(this,t,k)}function ie(k){G.call(this,t,k)}function Q(k){G.call(this,t,k)}function Z(k){G.call(this,t,k)}function H(k){G.call(this,t,k)}function $(k){G.call(this,t,k)}function ue(k){G.call(this,t,k)}function fe(k){G.call(this,t,k)}function ee(k){G.call(this,t,k)}function ae(k){G.call(this,t,k)}function ye(k){G.call(this,t,k)}function be(k){G.call(this,t,k)}function we(k){G.call(this,t,k)}function ne(k){G.call(this,t,k)}function Me(k){G.call(this,t,k)}function O(k){G.call(this,t,k)}function v(k){G.call(this,t,k)}function N(k){G.call(this,t,k)}function K(k){G.call(this,t,k)}function F(k){G.call(this,t,k)}function de(k){G.call(this,t,k)}function re(k){G.call(this,t,k)}function ge(k){G.call(this,t,k)}function oe(k){G.call(this,t,k)}function Pe(k){G.call(this,t,k)}function me(k){G.call(this,t,k)}function X(k){G.call(this,t,k)}function x(k){G.call(this,t,k)}function he(k){G.call(this,t,k)}function ce(k){G.call(this,t,k)}function Le(k){G.call(this,t,k)}function Oe(k){G.call(this,t,k)}function Ye(k){G.call(this,t,k)}function _e(k){G.call(this,t,k)}function Ee(k){G.call(this,t,k)}function Fe(k){G.call(this,t,k)}function De(k){G.call(this,t,k)}function Ce(k){G.call(this,t,k)}function Ne(k){G.call(this,t,k)}function at(k){G.call(this,t,k)}function ht(k){G.call(this,t,k)}function ct(k){G.call(this,t,k)}function ot(k){G.call(this,t,k)}function ut(k){st[k?"unshift":"push"](()=>{_=k,l(6,_)})}function Tt(k){st[k?"unshift":"push"](()=>{h=k,l(7,h)})}return t.$$set=k=>{"width"in k&&l(0,r=k.width),"height"in k&&l(1,o=k.height),"pixelRatio"in k&&l(11,a=k.pixelRatio),"style"in k&&l(2,f=k.style),"autoclear"in k&&l(12,u=k.autoclear),"layerEvents"in k&&l(3,p=k.layerEvents),"class"in k&&l(4,m=k.class),"$$scope"in k&&l(17,n=k.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&2048&&l(5,s=a??1),t.$$.dirty[0]&1&&l(16,d.width=r,d),t.$$.dirty[0]&2&&l(16,d.height=o,d),t.$$.dirty[0]&32&&l(16,d.pixelRatio=s,d),t.$$.dirty[0]&4096&&l(16,d.autoclear=u,d),t.$$.dirty[0]&71683&&d.redraw()},[r,o,f,p,m,s,_,h,E,I,R,a,u,g,S,z,d,n,i,P,D,V,ie,Q,Z,H,$,ue,fe,ee,ae,ye,be,we,ne,Me,O,v,N,K,F,de,re,ge,oe,Pe,me,X,x,he,ce,Le,Oe,Ye,_e,Ee,Fe,De,Ce,Ne,at,ht,ct,ot,ut,Tt]}class Is extends nt{constructor(e){super(),rt(this,e,ks,ws,it,{width:0,height:1,pixelRatio:11,style:2,autoclear:12,layerEvents:3,class:4,redraw:13,getCanvas:14,getContext:15},null,[-1,-1,-1])}get redraw(){return this.$$.ctx[13]}get getCanvas(){return this.$$.ctx[14]}get getContext(){return this.$$.ctx[15]}}function ys(t){let e;return{c(){e=C("div"),this.h()},l(l){e=M(l,"DIV",{"data-layer-id":!0}),L(e).forEach(w),this.h()},h(){y(e,"data-layer-id",t[0])},m(l,s){J(l,e,s)},p:$e,i:$e,o:$e,d(l){l&&w(e)}}}function Es(t,e,l){const{register:s,unregister:i,redraw:n}=Ss(),r=yl();let{setup:o=void 0}=e,{render:a=()=>{}}=e;const f=s({setup:o,render:a,dispatcher:r});return Mt(()=>i(f)),t.$$set=u=>{"setup"in u&&l(1,o=u.setup),"render"in u&&l(2,a=u.render)},t.$$.update=()=>{t.$$.dirty&4&&n()},[f,o,a]}class Ts extends nt{constructor(e){super(),rt(this,e,Es,ys,it,{setup:1,render:2})}}let tl;const zl=Date.now(),Ll=t=>(t(Date.now()-zl),tl=window.requestAnimationFrame(()=>Ll(t)),()=>window.cancelAnimationFrame(tl));function Rs(){}const As=Gl(Date.now()-zl,typeof window>"u"?Rs:Ll),{window:At}=Al;function ll(t){let e,l,s,i,n,r;l=new Is({props:{width:t[0],height:t[1],$$slots:{default:[Cs]},$$scope:{ctx:t}}}),l.$on("pointerdown",t[5]),l.$on("wheel",t[8]);const o=t[26].default,a=pt(o,t,t[27],null);return{c(){e=C("div"),je(l.$$.fragment),s=j(),a&&a.c(),this.h()},l(f){e=M(f,"DIV",{style:!0});var u=L(e);qe(l.$$.fragment,u),s=q(u),a&&a.l(u),u.forEach(w),this.h()},h(){He(e,"touch-action","none"),He(e,"cursor",t[2])},m(f,u){J(f,e,u),Ue(l,e,null),b(e,s),a&&a.m(e,null),i=!0,n||(r=A(e,"resize",t[9]),n=!0)},p(f,u){const p={};u[0]&1&&(p.width=f[0]),u[0]&2&&(p.height=f[1]),u[0]&134217736&&(p.$$scope={dirty:u,ctx:f}),l.$set(p),a&&a.p&&(!i||u[0]&134217728)&&vt(a,o,f,f[27],i?wt(o,f[27],u,null):bt(f[27]),null),(!i||u[0]&4)&&He(e,"cursor",f[2])},i(f){i||(Y(l.$$.fragment,f),Y(a,f),i=!0)},o(f){W(l.$$.fragment,f),W(a,f),i=!1},d(f){f&&w(e),Be(l),a&&a.d(f),n=!1,r()}}}function Cs(t){let e,l;return e=new Ts({props:{render:t[3]}}),{c(){je(e.$$.fragment)},l(s){qe(e.$$.fragment,s)},m(s,i){Ue(e,s,i),l=!0},p(s,i){const n={};i[0]&8&&(n.render=s[3]),e.$set(n)},i(s){l||(Y(e.$$.fragment,s),l=!0)},o(s){W(e.$$.fragment,s),l=!1},d(s){Be(e,s)}}}function Ms(t){let e,l,s,i,n=t[0]&&t[1]&&ll(t);return{c(){n&&n.c(),e=Ie()},l(r){n&&n.l(r),e=Ie()},m(r,o){n&&n.m(r,o),J(r,e,o),l=!0,s||(i=[A(At,"pointerup",t[6]),A(At,"pointermove",t[7]),A(At,"resize",t[9])],s=!0)},p(r,o){r[0]&&r[1]?n?(n.p(r,o),o[0]&3&&Y(n,1)):(n=ll(r),n.c(),Y(n,1),n.m(e.parentNode,e)):n&&(Ve(),W(n,1,1,()=>{n=null}),Je())},i(r){l||(Y(n),l=!0)},o(r){W(n),l=!1},d(r){r&&w(e),n&&n.d(r),s=!1,We(i)}}}const sl="25px Roboto Mono",il="17px Roboto Mono",nl=2.6;function Ps(t,e,l){let s,i,n,{$$slots:r={},$$scope:o}=e,{clickNode:a}=e,{circledNode:f}=e,{selectedJewel:u}=e,{selectedConqueror:p}=e,{seed:m}=e,{highlighted:_=[]}=e,{disabled:c=[]}=e,{highlightJewels:h=!1}=e;const d=Wl(As,v=>(!_||!_.length)&&!h?0:Math.round(v/40));Ct(t,d,v=>l(25,n=v));const g=[427,320,226,227,323,422,329];let S=10,z=0,E=0;const I={},R={},P=(v,N,K,F=!1,de=!1)=>{let re=F?Hl[N]:qt[N];!re&&F&&(re=qt[N]);const ge=re.filename;ge in(F?R:I)||((F?R:I)[ge]=new Image,(F?R:I)[ge].src=ge);const oe=re.coords[N],Pe=oe.w/S*nl,me=oe.h/S*nl,X=K.x-Pe/2,x=K.y-me/2;let he=x;de&&(he=x-me/2),v.drawImage((F?R:I)[ge],oe.x,oe.y,oe.w,oe.h,X,he,Pe,me),de&&(v.save(),v.translate(X,x),v.rotate(Math.PI),v.drawImage((F?R:I)[ge],oe.x,oe.y,oe.w,oe.h,-Pe,-(me/2),Pe,-me),v.restore())},D=(v,N,K)=>{const F=[];let de="";return v.split(" ").forEach(re=>{N.measureText(de+re).width<K?de+=" "+re:(F.push(de.trim()),de=re)}),de.length>0&&F.push(de.trim()),F};let V={x:Number.MIN_VALUE,y:Number.MIN_VALUE},ie="unset",Q,Z=0,H=0,$=0,ue=0,fe=!1;const ee=v=>{fe=!0,Z=v.offsetX,H=v.offsetY,$=z,ue=E,l(21,V={x:v.offsetX,y:v.offsetY}),Q&&a(Q)},ae=v=>{v.type==="pointerup"&&(fe=!1),l(21,V={x:v.offsetX,y:v.offsetY})},ye=v=>{fe&&(l(19,z=$-(Z-v.offsetX)*S),l(20,E=ue-(H-v.offsetY)*S)),l(21,V={x:v.offsetX,y:v.offsetY})},be=v=>{v.deltaY>0?S<30&&(l(19,z+=v.offsetX),l(20,E+=v.offsetY)):S>3&&(l(19,z-=v.offsetX),l(20,E-=v.offsetY)),l(18,S=Math.min(30,Math.max(3,S+v.deltaY/100))),v.preventDefault(),v.stopPropagation(),v.stopImmediatePropagation()};let we=0,ne=0;const Me=()=>{l(0,we=window.innerWidth),l(1,ne=window.innerHeight)};let O=!1;return t.$$set=v=>{"clickNode"in v&&l(10,a=v.clickNode),"circledNode"in v&&l(11,f=v.circledNode),"selectedJewel"in v&&l(12,u=v.selectedJewel),"selectedConqueror"in v&&l(13,p=v.selectedConqueror),"seed"in v&&l(14,m=v.seed),"highlighted"in v&&l(15,_=v.highlighted),"disabled"in v&&l(16,c=v.disabled),"highlightJewels"in v&&l(17,h=v.highlightJewels),"$$scope"in v&&l(27,o=v.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&262144&&l(24,s=Fl/S),t.$$.dirty[0]&8650752&&(!O&&Ke&&(l(23,O=!0),l(19,z=Ke.min_x+window.innerWidth/2*S),l(20,E=Ke.min_y+window.innerHeight/2*S)),Me()),t.$$.dirty[0]&58718208&&l(3,i=({context:v,width:N,height:K})=>{const F=window.performance.now();v.clearRect(0,0,N,K),v.fillStyle="#080c11",v.fillRect(0,0,N,K);const de={};Object.keys(Rt).forEach(me=>{const X=Rt[me],x=Ot(X.x,X.y,z,E,S),he=Math.max(...X.orbits);g.indexOf(parseInt(me))>=0||(he==1?P(v,"PSGroupBackground1",x,!1):he==2?P(v,"PSGroupBackground2",x,!1):(he==3||X.orbits.length>1)&&P(v,"PSGroupBackground3",x,!1,!0))}),Object.keys(tt).forEach(me=>{var ce;const X=tt[me],x=Dt(X.orbit,X.orbitIndex),he=It(X,z,E,S);(ce=X.out)==null||ce.forEach(Le=>{if(!tt[parseInt(Le)])return;const Oe=Math.min(parseInt(Le),parseInt(me)),Ye=Math.max(parseInt(Le),parseInt(me)),_e=Oe+":"+Ye;if(_e in de)return;de[_e]=!0;const Ee=tt[parseInt(Le)];if(!Ee||Ee.isMastery)return;const Fe=Dt(Ee.orbit,Ee.orbitIndex),De=It(Ee,z,E,S);if(v.beginPath(),X.group!=Ee.group||X.orbit!=Ee.orbit)v.moveTo(he.x,he.y),v.lineTo(De.x,De.y);else{let Ce=Math.PI/180-Math.PI/180*x,Ne=Math.PI/180-Math.PI/180*Fe;Ce-=Math.PI/2,Ne-=Math.PI/2;const at=Math.abs(Math.max(Ce,Ne)-Math.min(Ce,Ne)),ht=at>Math.PI?Math.max(Ce,Ne):Math.min(Ce,Ne),ct=at>Math.PI?Math.min(Ce,Ne):Math.max(Ce,Ne),ot=Rt[X.group],ut=Ot(ot.x,ot.y,z,E,S);v.arc(ut.x,ut.y,Ke.constants.orbitRadii[X.orbit]/S+1,ht,ct)}v.lineWidth=6/S,v.strokeStyle="#524518",v.stroke()})});let re;f&&(re=It(tt[f],z,E,S),v.strokeStyle="#ad2b2b");let ge=!1,oe;if(Object.keys(tt).forEach(me=>{const X=tt[me],x=It(X,z,E,S);let he=0,ce=!1;f&&Vt(x,re)<s&&(ce=!0),c.indexOf(X.skill)>=0&&(ce=!1),X.isKeystone?(he=110,P(v,X.icon,x,ce),ce?P(v,"KeystoneFrameAllocated",x,!1):P(v,"KeystoneFrameUnallocated",x,!1)):X.isNotable?(he=70,P(v,X.icon,x,ce),ce?P(v,"NotableFrameAllocated",x,!1):P(v,"NotableFrameUnallocated",x,!1)):X.isJewelSocket?(he=70,X.expansionJewel?P(v,"JewelSocketAltNormal",x,!1):ce?P(v,"JewelFrameAllocated",x,!1):P(v,"JewelFrameUnallocated",x,!1)):X.isMastery?P(v,X.inactiveIcon,x,ce):(he=50,P(v,X.icon,x,ce),ce?P(v,"PSSkillFrameActive",x,!1):P(v,"PSSkillFrame",x,!1)),(_.indexOf(X.skill)>=0||h&&X.isJewelSocket)&&(v.strokeStyle=`hsl(${n}, 100%, 50%)`,v.lineWidth=3,v.beginPath(),v.arc(x.x,x.y,(he+30)/S,0,Math.PI*2),v.stroke()),Vt(x,V)<he/S&&(oe=X,ge=ce)}),l(22,Q=oe),f&&(v.strokeStyle="#ad2b2b",v.lineWidth=1,v.beginPath(),v.arc(re.x,re.y,s,0,Math.PI*2),v.stroke()),Q){let me=Q.name,X=(Q.stats||[]).map(_e=>({text:_e,special:!1}));if(!Q.isJewelSocket&&ge&&Q.skill&&m&&u&&p){const _e=Tl.Calculate(se.TreeToPassive[Q.skill].Index,m,u,p);_e&&("AlternatePassiveSkill"in _e&&_e.AlternatePassiveSkill&&(X=[],me=_e.AlternatePassiveSkill.Name,"StatsKeys"in _e.AlternatePassiveSkill&&_e.AlternatePassiveSkill.StatsKeys.forEach((Ee,Fe)=>{const De=se.GetStatByIndex(Ee),Ce=Jt[De.ID]||"";Ce&&X.push({text:jt(Ce,_e.StatRolls[Fe])||De.ID,special:!0})})),_e.AlternatePassiveAdditionInformations&&_e.AlternatePassiveAdditionInformations.forEach(Ee=>{"StatsKeys"in Ee.AlternatePassiveAddition&&Ee.AlternatePassiveAddition.StatsKeys.forEach((Fe,De)=>{const Ce=se.GetStatByIndex(Fe),Ne=Jt[Ce.ID]||"";Ne&&X.push({text:jt(Ne,Ee.StatRolls[De])||Ce.ID,special:!0})})}))}v.font=sl;const x=v.measureText(me),he=Math.max(x.width+50,600);v.font=il;const ce=[],Le=30;let Oe=85;X&&X.length>0?X.forEach(_e=>{ce.length>0&&(Oe+=5),_e.text.split(`
`).forEach(Ee=>{ce.length>0&&(Oe+=10),D(Ee,v,he-Le).forEach(De=>{ce.push({text:De,offset:Oe,special:_e.special}),Oe+=20})})}):Q.isJewelSocket&&(ce.push({text:"Click to select this socket",offset:Oe,special:!0}),Oe+=20);const Ye=55;v.fillStyle="rgba(75,63,24,0.9)",v.fillRect(V.x,V.y,he,Ye),v.fillStyle="#ffffff",v.font=sl,v.textAlign="center",v.fillText(me,V.x+he/2,V.y+35),v.fillStyle="rgba(0,0,0,0.8)",v.fillRect(V.x,V.y+Ye,he,Oe-Ye),v.font=il,v.textAlign="left",ce.forEach(_e=>{_e.special?v.fillStyle="#8cf34c":v.fillStyle="#ffffff",v.fillText(_e.text,V.x+Le/2,V.y+_e.offset)})}Q&&Q.isJewelSocket?l(2,ie="pointer"):l(2,ie="unset"),v.fillStyle="#ffffff",v.textAlign="right",v.font="12px Roboto Mono";const Pe=window.performance.now();v.fillText(`${(Pe-F).toFixed(1)}ms`,N-5,17)})},[we,ne,ie,i,d,ee,ae,ye,be,Me,a,f,u,p,m,_,c,h,S,z,E,V,Q,O,s,n,r,o]}class zs extends nt{constructor(e){super(),rt(this,e,Ps,Ms,it,{clickNode:10,circledNode:11,selectedJewel:12,selectedConqueror:13,seed:14,highlighted:15,disabled:16,highlightJewels:17},null,[-1,-1])}}const et={25:1,26:1,42:1,49:1,56:1,63:1,70:2,95:4,117:1,124:4,134:1,150:2,216:1,434:1,482:1,483:1,484:1,488:1,554:1,556:1,593:3,594:3,595:3,619:1,943:1,944:1,945:1,946:1,2133:4,3108:3,3109:4,3110:4,3111:4,5815:4,8835:1,9091:1,9772:1,14775:2,209:1,447:1,573:2,1294:1,1361:1,2031:5,8177:2,448:2,486:1,579:2,1404:1,2030:5,9090:1,9711:2,9712:2,9713:2,9714:2,9716:1,9717:1,9718:1,9721:1,9722:1,9723:1,9724:1,186:2,490:1,1251:3,1654:1,3392:1,6042:1,6048:1,6049:1,6050:1,6136:1,7499:2};const{window:Ls}=Al;function rl(t,e,l){const s=t.slice();return s[78]=e[l],s[79]=e,s[80]=l,s}function al(t,e,l){const s=t.slice();return s[71]=e[l],s}function ol(t,e,l){const s=t.slice();return s[71]=e[l],s}function ul(t,e,l){const s=t.slice();return s[71]=e[l],s}function Ns(t){let e,l="<div></div> <div></div> <div></div>",s,i;return{c(){e=C("button"),e.innerHTML=l,this.h()},l(n){e=M(n,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(e)!=="svelte-rq6e1l"&&(e.innerHTML=l),this.h()},h(){y(e,"class","burger-menu absolute top-0 left-0 bg-black/80 backdrop-blur-sm rounded-br-lg p-4 pt-5")},m(n,r){J(n,e,r),s||(i=A(e,"click",t[66]),s=!0)},p:$e,i:$e,o:$e,d(n){n&&w(e),s=!1,i()}}}function Os(t){let e,l,s,i,n,r="<div></div> <div></div> <div></div>",o,a,f=(t[14]?t[10]("Results"):t[10]("Timeless Jewel"))+"",u,p,m,_,c,h,d,g=t[18]&&fl(t),S=!t[14]&&cl(t),z=t[18]&&t[14]&&Il(t);return{c(){e=C("div"),l=C("div"),s=C("div"),i=C("div"),n=C("button"),n.innerHTML=r,o=j(),a=C("h3"),u=U(f),p=j(),g&&g.c(),m=j(),S&&S.c(),_=j(),z&&z.c(),this.h()},l(E){e=M(E,"DIV",{class:!0});var I=L(e);l=M(I,"DIV",{class:!0});var R=L(l);s=M(R,"DIV",{class:!0});var P=L(s);i=M(P,"DIV",{class:!0});var D=L(i);n=M(D,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(n)!=="svelte-mvbl10"&&(n.innerHTML=r),o=q(D),a=M(D,"H3",{class:!0});var V=L(a);u=B(V,f),V.forEach(w),D.forEach(w),p=q(P),g&&g.l(P),P.forEach(w),m=q(R),S&&S.l(R),_=q(R),z&&z.l(R),R.forEach(w),I.forEach(w),this.h()},h(){y(n,"class","burger-menu mr-3"),y(a,"class","flex-grow"),y(i,"class","flex flex-row items-center"),y(s,"class","flex flex-row justify-between mb-2"),y(l,"class","p-4 max-h-screen flex flex-col"),y(e,"class","w-screen md:w-10/12 lg:w-2/3 xl:w-1/2 2xl:w-5/12 3xl:w-1/3 4xl:w-1/4 absolute top-0 left-0 bg-black/80 backdrop-blur-sm themed rounded-br-lg max-h-screen")},m(E,I){J(E,e,I),b(e,l),b(l,s),b(s,i),b(i,n),b(i,o),b(i,a),b(a,u),b(s,p),g&&g.m(s,null),b(l,m),S&&S.m(l,null),b(l,_),z&&z.m(l,null),c=!0,h||(d=A(n,"click",t[45]),h=!0)},p(E,I){(!c||I[0]&17408)&&f!==(f=(E[14]?E[10]("Results"):E[10]("Timeless Jewel"))+"")&&te(u,f),E[18]?g?g.p(E,I):(g=fl(E),g.c(),g.m(s,null)):g&&(g.d(1),g=null),E[14]?S&&(Ve(),W(S,1,1,()=>{S=null}),Je()):S?(S.p(E,I),I[0]&16384&&Y(S,1)):(S=cl(E),S.c(),Y(S,1),S.m(l,_)),E[18]&&E[14]?z?(z.p(E,I),I[0]&278528&&Y(z,1)):(z=Il(E),z.c(),Y(z,1),z.m(l,null)):z&&(Ve(),W(z,1,1,()=>{z=null}),Je())},i(E){c||(Y(S),Y(z),c=!0)},o(E){W(S),W(z),c=!1},d(E){E&&w(e),g&&g.d(),S&&S.d(),z&&z.d(),h=!1,d()}}}function fl(t){let e,l,s,i=(t[14]?t[10]("Config"):t[10]("Results"))+"",n,r,o,a=t[14]&&hl(t);return{c(){e=C("div"),a&&a.c(),l=j(),s=C("button"),n=U(i),this.h()},l(f){e=M(f,"DIV",{class:!0});var u=L(e);a&&a.l(u),l=q(u),s=M(u,"BUTTON",{class:!0});var p=L(s);n=B(p,i),p.forEach(w),u.forEach(w),this.h()},h(){y(s,"class","bg-neutral-100/20 px-4 p-1 rounded"),y(e,"class","flex flex-row")},m(f,u){J(f,e,u),a&&a.m(e,null),b(e,l),b(e,s),b(s,n),r||(o=A(s,"click",t[48]),r=!0)},p(f,u){f[14]?a?a.p(f,u):(a=hl(f),a.c(),a.m(e,l)):a&&(a.d(1),a=null),u[0]&17408&&i!==(i=(f[14]?f[10]("Config"):f[10]("Results"))+"")&&te(n,i)},d(f){f&&w(e),a&&a.d(),r=!1,o()}}}function hl(t){let e,l,s,i,n,r,o,a,f;return{c(){e=C("button"),l=U("Trade"),i=j(),n=C("button"),r=U("Grouped"),this.h()},l(u){e=M(u,"BUTTON",{class:!0});var p=L(e);l=B(p,"Trade"),p.forEach(w),i=q(u),n=M(u,"BUTTON",{class:!0});var m=L(n);r=B(m,"Grouped"),m.forEach(w),this.h()},h(){y(e,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 mr-2"),e.disabled=s=!t[18],y(n,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 mr-2 svelte-9h6fz6"),n.disabled=o=!t[18],ve(n,"grouped",t[5])},m(u,p){J(u,e,p),b(e,l),J(u,i,p),J(u,n,p),b(n,r),a||(f=[A(e,"click",t[46]),A(n,"click",t[47])],a=!0)},p(u,p){p[0]&262144&&s!==(s=!u[18])&&(e.disabled=s),p[0]&262144&&o!==(o=!u[18])&&(n.disabled=o),p[0]&32&&ve(n,"grouped",u[5])},d(u){u&&(w(e),w(i),w(n)),a=!1,We(f)}}}function cl(t){let e,l,s,i,n;function r(f){t[49](f)}let o={items:t[26]};t[0]!==void 0&&(o.value=t[0]),e=new Et({props:o}),st.push(()=>Nt(e,"value",r)),e.$on("change",t[32]);let a=t[0]&&dl(t);return{c(){je(e.$$.fragment),s=j(),a&&a.c(),i=Ie()},l(f){qe(e.$$.fragment,f),s=q(f),a&&a.l(f),i=Ie()},m(f,u){Ue(e,f,u),J(f,s,u),a&&a.m(f,u),J(f,i,u),n=!0},p(f,u){const p={};!l&&u[0]&1&&(l=!0,p.value=f[0],Pt(()=>l=!1)),e.$set(p),f[0]?a?(a.p(f,u),u[0]&1&&Y(a,1)):(a=dl(f),a.c(),Y(a,1),a.m(i.parentNode,i)):a&&(Ve(),W(a,1,1,()=>{a=null}),Je())},i(f){n||(Y(e.$$.fragment,f),Y(a),n=!0)},o(f){W(e.$$.fragment,f),W(a),n=!1},d(f){f&&(w(s),w(i)),Be(e,f),a&&a.d(f)}}}function dl(t){let e,l,s=t[10]("Conqueror")+"",i,n,r,o,a,f=t[1]&&Object.keys(se.TimelessJewelConquerors[t[0].value]).indexOf(t[1].value)>=0,u,p;function m(h){t[50](h)}let _={items:t[25]};t[1]!==void 0&&(_.value=t[1]),r=new Et({props:_}),st.push(()=>Nt(r,"value",m)),r.$on("change",t[27]);let c=f&&ml(t);return{c(){e=C("div"),l=C("h3"),i=U(s),n=j(),je(r.$$.fragment),a=j(),c&&c.c(),u=Ie(),this.h()},l(h){e=M(h,"DIV",{class:!0});var d=L(e);l=M(d,"H3",{class:!0});var g=L(l);i=B(g,s),g.forEach(w),n=q(d),qe(r.$$.fragment,d),d.forEach(w),a=q(h),c&&c.l(h),u=Ie(),this.h()},h(){y(l,"class","mb-2"),y(e,"class","mt-4")},m(h,d){J(h,e,d),b(e,l),b(l,i),b(e,n),Ue(r,e,null),J(h,a,d),c&&c.m(h,d),J(h,u,d),p=!0},p(h,d){(!p||d[0]&1024)&&s!==(s=h[10]("Conqueror")+"")&&te(i,s);const g={};d[0]&33554432&&(g.items=h[25]),!o&&d[0]&2&&(o=!0,g.value=h[1],Pt(()=>o=!1)),r.$set(g),d[0]&3&&(f=h[1]&&Object.keys(se.TimelessJewelConquerors[h[0].value]).indexOf(h[1].value)>=0),f?c?(c.p(h,d),d[0]&3&&Y(c,1)):(c=ml(h),c.c(),Y(c,1),c.m(u.parentNode,u)):c&&(Ve(),W(c,1,1,()=>{c=null}),Je())},i(h){p||(Y(r.$$.fragment,h),Y(c),p=!0)},o(h){W(r.$$.fragment,h),W(c),p=!1},d(h){h&&(w(e),w(a),w(u)),Be(r),c&&c.d(h)}}}function ml(t){let e,l,s=t[10]("Enter Seed")+"",i,n,r,o=t[10]("Select Stats")+"",a,f,u,p,m,_,c,h,d;const g=[Vs,Ds],S=[];function z(I,R){return I[11]==="seed"?0:I[11]==="stats"?1:-1}~(u=z(t))&&(p=S[u]=g[u](t));let E=!t[3]&&kl(t);return{c(){e=C("div"),l=C("button"),i=U(s),n=j(),r=C("button"),a=U(o),f=j(),p&&p.c(),m=j(),E&&E.c(),_=Ie(),this.h()},l(I){e=M(I,"DIV",{class:!0});var R=L(e);l=M(R,"BUTTON",{class:!0});var P=L(l);i=B(P,s),P.forEach(w),n=q(R),r=M(R,"BUTTON",{class:!0});var D=L(r);a=B(D,o),D.forEach(w),R.forEach(w),f=q(I),p&&p.l(I),m=q(I),E&&E.l(I),_=Ie(),this.h()},h(){y(l,"class","selection-button svelte-9h6fz6"),ve(l,"selected",t[11]==="seed"),y(r,"class","selection-button svelte-9h6fz6"),ve(r,"selected",t[11]==="stats"),y(e,"class","mt-4 w-full flex flex-row")},m(I,R){J(I,e,R),b(e,l),b(l,i),b(e,n),b(e,r),b(r,a),J(I,f,R),~u&&S[u].m(I,R),J(I,m,R),E&&E.m(I,R),J(I,_,R),c=!0,h||(d=[A(l,"click",t[51]),A(r,"click",t[52])],h=!0)},p(I,R){(!c||R[0]&1024)&&s!==(s=I[10]("Enter Seed")+"")&&te(i,s),(!c||R[0]&2048)&&ve(l,"selected",I[11]==="seed"),(!c||R[0]&1024)&&o!==(o=I[10]("Select Stats")+"")&&te(a,o),(!c||R[0]&2048)&&ve(r,"selected",I[11]==="stats");let P=u;u=z(I),u===P?~u&&S[u].p(I,R):(p&&(Ve(),W(S[P],1,1,()=>{S[P]=null}),Je()),~u?(p=S[u],p?p.p(I,R):(p=S[u]=g[u](I),p.c()),Y(p,1),p.m(m.parentNode,m)):p=null),I[3]?E&&(E.d(1),E=null):E?E.p(I,R):(E=kl(I),E.c(),E.m(_.parentNode,_))},i(I){c||(Y(p),c=!0)},o(I){W(p),c=!1},d(I){I&&(w(e),w(f),w(m),w(_)),~u&&S[u].d(I),E&&E.d(I),h=!1,We(d)}}}function Ds(t){let e,l,s=t[10]("Add Stat")+"",i,n,r,o,a=Object.keys(t[4]).length>0,f,u,p={items:t[23]};r=new Et({props:p}),t[60](r),r.$on("change",t[30]);let m=a&&_l(t);return{c(){e=C("div"),l=C("h3"),i=U(s),n=j(),je(r.$$.fragment),o=j(),m&&m.c(),f=Ie(),this.h()},l(_){e=M(_,"DIV",{class:!0});var c=L(e);l=M(c,"H3",{class:!0});var h=L(l);i=B(h,s),h.forEach(w),n=q(c),qe(r.$$.fragment,c),c.forEach(w),o=q(_),m&&m.l(_),f=Ie(),this.h()},h(){y(l,"class","mb-2"),y(e,"class","mt-4")},m(_,c){J(_,e,c),b(e,l),b(l,i),b(e,n),Ue(r,e,null),J(_,o,c),m&&m.m(_,c),J(_,f,c),u=!0},p(_,c){(!u||c[0]&1024)&&s!==(s=_[10]("Add Stat")+"")&&te(i,s);const h={};c[0]&8388608&&(h.items=_[23]),r.$set(h),c[0]&16&&(a=Object.keys(_[4]).length>0),a?m?m.p(_,c):(m=_l(_),m.c(),m.m(f.parentNode,f)):m&&(m.d(1),m=null)},i(_){u||(Y(r.$$.fragment,_),u=!0)},o(_){W(r.$$.fragment,_),u=!1},d(_){_&&(w(e),w(o),w(f)),t[60](null),Be(r),m&&m.d(_)}}}function Vs(t){let e,l,s=t[10]("Seed")+"",i,n,r,o,a,f,u,p,m,_,c,h=(t[2]<se.TimelessJewelSeedRanges[t[0].value].Min||t[2]>se.TimelessJewelSeedRanges[t[0].value].Max)&&pl(t),d=t[2]>=se.TimelessJewelSeedRanges[t[0].value].Min&&t[2]<=se.TimelessJewelSeedRanges[t[0].value].Max&&vl(t);return{c(){e=C("div"),l=C("h3"),i=U(s),n=j(),r=C("input"),f=j(),h&&h.c(),u=j(),d&&d.c(),p=Ie(),this.h()},l(g){e=M(g,"DIV",{class:!0});var S=L(e);l=M(S,"H3",{class:!0});var z=L(l);i=B(z,s),z.forEach(w),n=q(S),r=M(S,"INPUT",{type:!0,min:!0,max:!0}),f=q(S),h&&h.l(S),S.forEach(w),u=q(g),d&&d.l(g),p=Ie(),this.h()},h(){y(l,"class","mb-2"),y(r,"type","number"),y(r,"min",o=se.TimelessJewelSeedRanges[t[0].value].Min),y(r,"max",a=se.TimelessJewelSeedRanges[t[0].value].Max),y(e,"class","mt-4")},m(g,S){J(g,e,S),b(e,l),b(l,i),b(e,n),b(e,r),Ze(r,t[2]),b(e,f),h&&h.m(e,null),J(g,u,S),d&&d.m(g,S),J(g,p,S),m=!0,_||(c=[A(r,"input",t[53]),A(r,"blur",t[27])],_=!0)},p(g,S){(!m||S[0]&1024)&&s!==(s=g[10]("Seed")+"")&&te(i,s),(!m||S[0]&1&&o!==(o=se.TimelessJewelSeedRanges[g[0].value].Min))&&y(r,"min",o),(!m||S[0]&1&&a!==(a=se.TimelessJewelSeedRanges[g[0].value].Max))&&y(r,"max",a),S[0]&4&&Qe(r.value)!==g[2]&&Ze(r,g[2]),g[2]<se.TimelessJewelSeedRanges[g[0].value].Min||g[2]>se.TimelessJewelSeedRanges[g[0].value].Max?h?h.p(g,S):(h=pl(g),h.c(),h.m(e,null)):h&&(h.d(1),h=null),g[2]>=se.TimelessJewelSeedRanges[g[0].value].Min&&g[2]<=se.TimelessJewelSeedRanges[g[0].value].Max?d?(d.p(g,S),S[0]&5&&Y(d,1)):(d=vl(g),d.c(),Y(d,1),d.m(p.parentNode,p)):d&&(Ve(),W(d,1,1,()=>{d=null}),Je())},i(g){m||(Y(d),m=!0)},o(g){W(d),m=!1},d(g){g&&(w(e),w(u),w(p)),h&&h.d(),d&&d.d(g),_=!1,We(c)}}}function _l(t){let e,l,s,i,n,r=t[10]("Min Total Weight")+"",o,a,f,u,p,m,_,c=t[10]("Select All")+"",h,d,g,S,z=t[10]("Notables")+"",E,I,R,P,D=t[10]("Passives")+"",V,ie,Q,Z,H=t[10]("Deselect")+"",$,ue,fe,ee,ae,ye,be,we=ze(Object.keys(t[4])),ne=[];for(let N=0;N<we.length;N+=1)ne[N]=gl(rl(t,we,N));function Me(N,K){return N[16]?js:Js}let O=Me(t),v=O(t);return{c(){e=C("div");for(let N=0;N<ne.length;N+=1)ne[N].c();l=j(),s=C("div"),i=C("div"),n=C("div"),o=U(r),a=j(),f=C("input"),u=j(),p=C("div"),m=C("div"),_=C("button"),h=U(c),g=j(),S=C("button"),E=U(z),R=j(),P=C("button"),V=U(D),Q=j(),Z=C("button"),$=U(H),fe=j(),ee=C("div"),ae=C("button"),v.c(),this.h()},l(N){e=M(N,"DIV",{class:!0});var K=L(e);for(let Le=0;Le<ne.length;Le+=1)ne[Le].l(K);K.forEach(w),l=q(N),s=M(N,"DIV",{class:!0});var F=L(s);i=M(F,"DIV",{class:!0});var de=L(i);n=M(de,"DIV",{class:!0});var re=L(n);o=B(re,r),re.forEach(w),a=q(de),f=M(de,"INPUT",{type:!0,min:!0}),de.forEach(w),F.forEach(w),u=q(N),p=M(N,"DIV",{class:!0});var ge=L(p);m=M(ge,"DIV",{class:!0});var oe=L(m);_=M(oe,"BUTTON",{class:!0});var Pe=L(_);h=B(Pe,c),Pe.forEach(w),g=q(oe),S=M(oe,"BUTTON",{class:!0});var me=L(S);E=B(me,z),me.forEach(w),R=q(oe),P=M(oe,"BUTTON",{class:!0});var X=L(P);V=B(X,D),X.forEach(w),Q=q(oe),Z=M(oe,"BUTTON",{class:!0});var x=L(Z);$=B(x,H),x.forEach(w),oe.forEach(w),fe=q(ge),ee=M(ge,"DIV",{class:!0});var he=L(ee);ae=M(he,"BUTTON",{class:!0});var ce=L(ae);v.l(ce),ce.forEach(w),he.forEach(w),ge.forEach(w),this.h()},h(){y(e,"class","mt-4 flex flex-col overflow-auto min-h-[100px]"),y(n,"class","mr-2 min-w-fit"),y(f,"type","number"),y(f,"min","0"),y(i,"class","flex flex-row items-center"),y(s,"class","flex flex-col mt-2"),y(_,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),_.disabled=d=t[16]||t[12].size==0,y(S,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),S.disabled=I=t[16]||t[12].size==0,y(P,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),P.disabled=ie=t[16]||t[12].size==0,y(Z,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 flex-grow"),Z.disabled=ue=t[16]||t[12].size>=t[9].length,y(m,"class","flex flex-row"),y(ae,"class","p-2 px-3 bg-green-500/40 rounded disabled:bg-green-900/40 flex-grow"),ae.disabled=t[16],y(ee,"class","flex flex-row mt-2"),y(p,"class","flex flex-col mt-4")},m(N,K){J(N,e,K);for(let F=0;F<ne.length;F+=1)ne[F]&&ne[F].m(e,null);J(N,l,K),J(N,s,K),b(s,i),b(i,n),b(n,o),b(i,a),b(i,f),Ze(f,t[15]),J(N,u,K),J(N,p,K),b(p,m),b(m,_),b(_,h),b(m,g),b(m,S),b(S,E),b(m,R),b(m,P),b(P,V),b(m,Q),b(m,Z),b(Z,$),b(p,fe),b(p,ee),b(ee,ae),v.m(ae,null),ye||(be=[A(f,"input",t[64]),A(_,"click",t[35]),A(S,"click",t[36]),A(P,"click",t[37]),A(Z,"click",t[38]),A(ae,"click",t[65])],ye=!0)},p(N,K){if(K[0]&1040|K[1]&1){we=ze(Object.keys(N[4]));let F;for(F=0;F<we.length;F+=1){const de=rl(N,we,F);ne[F]?ne[F].p(de,K):(ne[F]=gl(de),ne[F].c(),ne[F].m(e,null))}for(;F<ne.length;F+=1)ne[F].d(1);ne.length=we.length}K[0]&1024&&r!==(r=N[10]("Min Total Weight")+"")&&te(o,r),K[0]&32768&&Qe(f.value)!==N[15]&&Ze(f,N[15]),K[0]&1024&&c!==(c=N[10]("Select All")+"")&&te(h,c),K[0]&69632&&d!==(d=N[16]||N[12].size==0)&&(_.disabled=d),K[0]&1024&&z!==(z=N[10]("Notables")+"")&&te(E,z),K[0]&69632&&I!==(I=N[16]||N[12].size==0)&&(S.disabled=I),K[0]&1024&&D!==(D=N[10]("Passives")+"")&&te(V,D),K[0]&69632&&ie!==(ie=N[16]||N[12].size==0)&&(P.disabled=ie),K[0]&1024&&H!==(H=N[10]("Deselect")+"")&&te($,H),K[0]&70144&&ue!==(ue=N[16]||N[12].size>=N[9].length)&&(Z.disabled=ue),O===(O=Me(N))&&v?v.p(N,K):(v.d(1),v=O(N),v&&(v.c(),v.m(ae,null))),K[0]&65536&&(ae.disabled=N[16])},d(N){N&&(w(e),w(l),w(s),w(u),w(p)),lt(ne,N),v.d(),ye=!1,We(be)}}}function gl(t){let e,l,s,i="-",n,r,o=ft(t[4][t[78]].id)+"",a,f,u,p,m,_=t[10]("Min")+"",c,h,d,g,S,z,E,I=t[10]("Weight")+"",R,P,D,V,ie,Q,Z;function H(){return t[61](t[78])}function $(){t[62].call(g,t[78])}function ue(){t[63].call(V,t[78])}return{c(){e=C("div"),l=C("div"),s=C("button"),s.textContent=i,n=j(),r=C("span"),a=U(o),f=j(),u=C("div"),p=C("div"),m=C("div"),c=U(_),h=U(":"),d=j(),g=C("input"),S=j(),z=C("div"),E=C("div"),R=U(I),P=U(":"),D=j(),V=C("input"),ie=j(),this.h()},l(fe){e=M(fe,"DIV",{class:!0});var ee=L(e);l=M(ee,"DIV",{});var ae=L(l);s=M(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),xe(s)!=="svelte-bzfob2"&&(s.textContent=i),n=q(ae),r=M(ae,"SPAN",{});var ye=L(r);a=B(ye,o),ye.forEach(w),ae.forEach(w),f=q(ee),u=M(ee,"DIV",{class:!0});var be=L(u);p=M(be,"DIV",{class:!0});var we=L(p);m=M(we,"DIV",{class:!0});var ne=L(m);c=B(ne,_),h=B(ne,":"),ne.forEach(w),d=q(we),g=M(we,"INPUT",{type:!0,min:!0}),we.forEach(w),S=q(be),z=M(be,"DIV",{class:!0});var Me=L(z);E=M(Me,"DIV",{class:!0});var O=L(E);R=B(O,I),P=B(O,":"),O.forEach(w),D=q(Me),V=M(Me,"INPUT",{type:!0,min:!0}),Me.forEach(w),be.forEach(w),ie=q(ee),ee.forEach(w),this.h()},h(){y(s,"class","p-2 px-4 bg-red-500/40 rounded mr-2"),y(m,"class","mr-2"),y(g,"type","number"),y(g,"min","0"),y(p,"class","mr-4 flex flex-row items-center"),y(E,"class","mr-2"),y(V,"type","number"),y(V,"min","0"),y(z,"class","flex flex-row items-center"),y(u,"class","mt-2 flex flex-row"),y(e,"class","mb-4 flex flex-row items-start flex-col border-neutral-100/40 border-b pb-4")},m(fe,ee){J(fe,e,ee),b(e,l),b(l,s),b(l,n),b(l,r),b(r,a),b(e,f),b(e,u),b(u,p),b(p,m),b(m,c),b(m,h),b(p,d),b(p,g),Ze(g,t[4][t[78]].min),b(u,S),b(u,z),b(z,E),b(E,R),b(E,P),b(z,D),b(z,V),Ze(V,t[4][t[78]].weight),b(e,ie),Q||(Z=[A(s,"click",H),A(g,"input",$),A(V,"input",ue)],Q=!0)},p(fe,ee){t=fe,ee[0]&16&&o!==(o=ft(t[4][t[78]].id)+"")&&te(a,o),ee[0]&1024&&_!==(_=t[10]("Min")+"")&&te(c,_),ee[0]&16&&Qe(g.value)!==t[4][t[78]].min&&Ze(g,t[4][t[78]].min),ee[0]&1024&&I!==(I=t[10]("Weight")+"")&&te(R,I),ee[0]&16&&Qe(V.value)!==t[4][t[78]].weight&&Ze(V,t[4][t[78]].weight)},d(fe){fe&&w(e),Q=!1,We(Z)}}}function Js(t){let e=t[10]("Search")+"",l;return{c(){l=U(e)},l(s){l=B(s,e)},m(s,i){J(s,l,i)},p(s,i){i[0]&1024&&e!==(e=s[10]("Search")+"")&&te(l,e)},d(s){s&&w(l)}}}function js(t){let e,l,s=se.TimelessJewelSeedRanges[t[0].value].Max+"",i;return{c(){e=U(t[17]),l=U(" / "),i=U(s)},l(n){e=B(n,t[17]),l=B(n," / "),i=B(n,s)},m(n,r){J(n,e,r),J(n,l,r),J(n,i,r)},p(n,r){r[0]&131072&&te(e,n[17]),r[0]&1&&s!==(s=se.TimelessJewelSeedRanges[n[0].value].Max+"")&&te(i,s)},d(n){n&&(w(e),w(l),w(i))}}}function pl(t){let e,l=t[10]("Seed must be between",{values:{min:se.TimelessJewelSeedRanges[t[0].value].Min,max:se.TimelessJewelSeedRanges[t[0].value].Max}})+"",s;return{c(){e=C("div"),s=U(l),this.h()},l(i){e=M(i,"DIV",{class:!0});var n=L(e);s=B(n,l),n.forEach(w),this.h()},h(){y(e,"class","mt-2")},m(i,n){J(i,e,n),b(e,s)},p(i,n){n[0]&1025&&l!==(l=i[10]("Seed must be between",{values:{min:se.TimelessJewelSeedRanges[i[0].value].Min,max:se.TimelessJewelSeedRanges[i[0].value].Max}})+"")&&te(s,l)},d(i){i&&w(e)}}}function vl(t){let e,l,s,i=t[10]("Sort Order")+"",n,r,o,a,f,u,p,m=t[10]("Colors")+"",_,c,h,d,g=t[10]("Split")+"",S,z,E,I,R,P;function D(H){t[54](H)}let V={items:t[41]};t[6]!==void 0&&(V.value=t[6]),o=new Et({props:V}),st.push(()=>Nt(o,"value",D));function ie(H,$){return H[8]?qs:Us}let Q=ie(t),Z=Q(t);return{c(){e=C("div"),l=C("div"),s=C("h3"),n=U(i),r=j(),je(o.$$.fragment),f=j(),u=C("div"),p=C("button"),_=U(m),c=j(),h=C("div"),d=C("button"),S=U(g),z=j(),Z.c(),E=Ie(),this.h()},l(H){e=M(H,"DIV",{class:!0});var $=L(e);l=M($,"DIV",{class:!0});var ue=L(l);s=M(ue,"H3",{class:!0});var fe=L(s);n=B(fe,i),fe.forEach(w),r=q(ue),qe(o.$$.fragment,ue),ue.forEach(w),f=q($),u=M($,"DIV",{class:!0});var ee=L(u);p=M(ee,"BUTTON",{class:!0});var ae=L(p);_=B(ae,m),ae.forEach(w),ee.forEach(w),c=q($),h=M($,"DIV",{class:!0});var ye=L(h);d=M(ye,"BUTTON",{class:!0});var be=L(d);S=B(be,g),be.forEach(w),ye.forEach(w),$.forEach(w),z=q(H),Z.l(H),E=Ie(),this.h()},h(){y(s,"class","mb-2"),y(l,"class","flex-grow"),y(p,"class","bg-neutral-500/20 p-2 px-4 rounded svelte-9h6fz6"),ve(p,"selected",t[7]),y(u,"class","ml-2"),y(d,"class","bg-neutral-500/20 p-2 px-4 rounded svelte-9h6fz6"),ve(d,"selected",t[8]),y(h,"class","ml-2"),y(e,"class","flex flex-row mt-4 items-end")},m(H,$){J(H,e,$),b(e,l),b(l,s),b(s,n),b(l,r),Ue(o,l,null),b(e,f),b(e,u),b(u,p),b(p,_),b(e,c),b(e,h),b(h,d),b(d,S),J(H,z,$),Z.m(H,$),J(H,E,$),I=!0,R||(P=[A(p,"click",t[55]),A(d,"click",t[56])],R=!0)},p(H,$){(!I||$[0]&1024)&&i!==(i=H[10]("Sort Order")+"")&&te(n,i);const ue={};!a&&$[0]&64&&(a=!0,ue.value=H[6],Pt(()=>a=!1)),o.$set(ue),(!I||$[0]&1024)&&m!==(m=H[10]("Colors")+"")&&te(_,m),(!I||$[0]&128)&&ve(p,"selected",H[7]),(!I||$[0]&1024)&&g!==(g=H[10]("Split")+"")&&te(S,g),(!I||$[0]&256)&&ve(d,"selected",H[8]),Q===(Q=ie(H))&&Z?Z.p(H,$):(Z.d(1),Z=Q(H),Z&&(Z.c(),Z.m(E.parentNode,E)))},i(H){I||(Y(o.$$.fragment,H),I=!0)},o(H){W(o.$$.fragment,H),I=!1},d(H){H&&(w(e),w(z),w(E)),Be(o),Z.d(H),R=!1,We(P)}}}function qs(t){let e,l,s="Notables",i,n,r,o,a="Smalls",f,u,p=ze(t[40](t[39](t[24],t[7],"notables"),t[6].value)),m=[];for(let h=0;h<p.length;h+=1)m[h]=bl(ol(t,p,h));let _=ze(t[40](t[39](t[24],t[7],"passives"),t[6].value)),c=[];for(let h=0;h<_.length;h+=1)c[h]=wl(al(t,_,h));return{c(){e=C("div"),l=C("h3"),l.textContent=s,i=j(),n=C("ul");for(let h=0;h<m.length;h+=1)m[h].c();r=j(),o=C("h3"),o.textContent=a,f=j(),u=C("ul");for(let h=0;h<c.length;h+=1)c[h].c();this.h()},l(h){e=M(h,"DIV",{class:!0});var d=L(e);l=M(d,"H3",{"data-svelte-h":!0}),xe(l)!=="svelte-uhg2bi"&&(l.textContent=s),i=q(d),n=M(d,"UL",{class:!0});var g=L(n);for(let z=0;z<m.length;z+=1)m[z].l(g);g.forEach(w),r=q(d),o=M(d,"H3",{class:!0,"data-svelte-h":!0}),xe(o)!=="svelte-mdvksr"&&(o.textContent=a),f=q(d),u=M(d,"UL",{class:!0});var S=L(u);for(let z=0;z<c.length;z+=1)c[z].l(S);S.forEach(w),d.forEach(w),this.h()},h(){y(n,"class","mt-1 svelte-9h6fz6"),ve(n,"rainbow",t[7]),y(o,"class","mt-2"),y(u,"class","mt-1 svelte-9h6fz6"),ve(u,"rainbow",t[7]),y(e,"class","overflow-auto mt-4")},m(h,d){J(h,e,d),b(e,l),b(e,i),b(e,n);for(let g=0;g<m.length;g+=1)m[g]&&m[g].m(n,null);b(e,r),b(e,o),b(e,f),b(e,u);for(let g=0;g<c.length;g+=1)c[g]&&c[g].m(u,null)},p(h,d){if(d[0]&16777412|d[1]&776){p=ze(h[40](h[39](h[24],h[7],"notables"),h[6].value));let g;for(g=0;g<p.length;g+=1){const S=ol(h,p,g);m[g]?m[g].p(S,d):(m[g]=bl(S),m[g].c(),m[g].m(n,null))}for(;g<m.length;g+=1)m[g].d(1);m.length=p.length}if(d[0]&128&&ve(n,"rainbow",h[7]),d[0]&16777412|d[1]&776){_=ze(h[40](h[39](h[24],h[7],"passives"),h[6].value));let g;for(g=0;g<_.length;g+=1){const S=al(h,_,g);c[g]?c[g].p(S,d):(c[g]=wl(S),c[g].c(),c[g].m(u,null))}for(;g<c.length;g+=1)c[g].d(1);c.length=_.length}d[0]&128&&ve(u,"rainbow",h[7])},d(h){h&&w(e),lt(m,h),lt(c,h)}}}function Us(t){let e,l=ze(t[40](t[39](t[24],t[7],"all"),t[6].value)),s=[];for(let i=0;i<l.length;i+=1)s[i]=Sl(ul(t,l,i));return{c(){e=C("ul");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){e=M(i,"UL",{class:!0});var n=L(e);for(let r=0;r<s.length;r+=1)s[r].l(n);n.forEach(w),this.h()},h(){y(e,"class","mt-4 overflow-auto svelte-9h6fz6"),ve(e,"rainbow",t[7])},m(i,n){J(i,e,n);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null)},p(i,n){if(n[0]&16777412|n[1]&776){l=ze(i[40](i[39](i[24],i[7],"all"),i[6].value));let r;for(r=0;r<l.length;r+=1){const o=ul(i,l,r);s[r]?s[r].p(o,n):(s[r]=Sl(o),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=l.length}n[0]&128&&ve(e,"rainbow",i[7])},d(i){i&&w(e),lt(s,i)}}}function bl(t){let e,l,s,i=t[71].passives.length+"",n,r,o,a,f,u=t[71].stat+"",p,m,_;function c(){return t[58](t[71])}return{c(){e=C("li"),l=C("span"),s=U("("),n=U(i),r=U(")"),o=j(),a=C("span"),f=new zt(!1),p=j(),this.h()},l(h){e=M(h,"LI",{class:!0});var d=L(e);l=M(d,"SPAN",{class:!0});var g=L(l);s=B(g,"("),n=B(g,i),r=B(g,")"),g.forEach(w),o=q(d),a=M(d,"SPAN",{class:!0});var S=L(a);f=Lt(S,!1),S.forEach(w),p=q(d),d.forEach(w),this.h()},h(){y(l,"class","font-bold"),ve(l,"text-white",(et[t[71].id]||0)<3),f.a=null,y(a,"class","text-white"),y(e,"class","cursor-pointer")},m(h,d){J(h,e,d),b(e,l),b(l,s),b(l,n),b(l,r),b(e,o),b(e,a),f.m(u,a),b(e,p),m||(_=A(e,"click",c),m=!0)},p(h,d){t=h,d[0]&16777408&&i!==(i=t[71].passives.length+"")&&te(n,i),d[0]&16777408|d[1]&768&&ve(l,"text-white",(et[t[71].id]||0)<3),d[0]&16777408&&u!==(u=t[71].stat+"")&&f.p(u)},d(h){h&&w(e),m=!1,_()}}}function wl(t){let e,l,s,i=t[71].passives.length+"",n,r,o,a,f,u=t[71].stat+"",p,m,_;function c(){return t[59](t[71])}return{c(){e=C("li"),l=C("span"),s=U("("),n=U(i),r=U(")"),o=j(),a=C("span"),f=new zt(!1),p=j(),this.h()},l(h){e=M(h,"LI",{class:!0});var d=L(e);l=M(d,"SPAN",{class:!0});var g=L(l);s=B(g,"("),n=B(g,i),r=B(g,")"),g.forEach(w),o=q(d),a=M(d,"SPAN",{class:!0});var S=L(a);f=Lt(S,!1),S.forEach(w),p=q(d),d.forEach(w),this.h()},h(){y(l,"class","font-bold"),ve(l,"text-white",(et[t[71].id]||0)<3),f.a=null,y(a,"class","text-white"),y(e,"class","cursor-pointer")},m(h,d){J(h,e,d),b(e,l),b(l,s),b(l,n),b(l,r),b(e,o),b(e,a),f.m(u,a),b(e,p),m||(_=A(e,"click",c),m=!0)},p(h,d){t=h,d[0]&16777408&&i!==(i=t[71].passives.length+"")&&te(n,i),d[0]&16777408|d[1]&768&&ve(l,"text-white",(et[t[71].id]||0)<3),d[0]&16777408&&u!==(u=t[71].stat+"")&&f.p(u)},d(h){h&&w(e),m=!1,_()}}}function Sl(t){let e,l,s,i=t[71].passives.length+"",n,r,o,a,f,u=t[71].stat+"",p,m,_;function c(){return t[57](t[71])}return{c(){e=C("li"),l=C("span"),s=U("("),n=U(i),r=U(")"),o=j(),a=C("span"),f=new zt(!1),p=j(),this.h()},l(h){e=M(h,"LI",{class:!0});var d=L(e);l=M(d,"SPAN",{class:!0});var g=L(l);s=B(g,"("),n=B(g,i),r=B(g,")"),g.forEach(w),o=q(d),a=M(d,"SPAN",{class:!0});var S=L(a);f=Lt(S,!1),S.forEach(w),p=q(d),d.forEach(w),this.h()},h(){y(l,"class","font-bold"),ve(l,"text-white",(et[t[71].id]||0)<3),f.a=null,y(a,"class","text-white"),y(e,"class","cursor-pointer")},m(h,d){J(h,e,d),b(e,l),b(l,s),b(l,n),b(l,r),b(e,o),b(e,a),f.m(u,a),b(e,p),m||(_=A(e,"click",c),m=!0)},p(h,d){t=h,d[0]&16777408&&i!==(i=t[71].passives.length+"")&&te(n,i),d[0]&16777408|d[1]&768&&ve(l,"text-white",(et[t[71].id]||0)<3),d[0]&16777408&&u!==(u=t[71].stat+"")&&f.p(u)},d(h){h&&w(e),m=!1,_()}}}function kl(t){let e,l=t[10]("Click on a jewel socket")+"",s;return{c(){e=C("h2"),s=U(l),this.h()},l(i){e=M(i,"H2",{class:!0});var n=L(e);s=B(n,l),n.forEach(w),this.h()},h(){y(e,"class","mt-4")},m(i,n){J(i,e,n),b(e,s)},p(i,n){n[0]&1024&&l!==(l=i[10]("Click on a jewel socket")+"")&&te(s,l)},d(i){i&&w(e)}}}function Il(t){let e,l;return e=new cs({props:{searchResults:t[18],groupResults:t[5],highlight:t[34],jewel:t[19],conqueror:t[20]}}),{c(){je(e.$$.fragment)},l(s){qe(e.$$.fragment,s)},m(s,i){Ue(e,s,i),l=!0},p(s,i){const n={};i[0]&262144&&(n.searchResults=s[18]),i[0]&32&&(n.groupResults=s[5]),i[0]&524288&&(n.jewel=s[19]),i[0]&1048576&&(n.conqueror=s[20]),e.$set(n)},i(s){l||(Y(e.$$.fragment,s),l=!0)},o(s){W(e.$$.fragment,s),l=!1},d(s){Be(e,s)}}}function Bs(t){let e,l,s,i,n='<a href="https://github.com/Vilsol/timeless-jewels" target="_blank" rel="noopener">Source (Github)</a>',r;const o=[Os,Ns],a=[];function f(u,p){return u[22]?1:0}return e=f(t),l=a[e]=o[e](t),{c(){l.c(),s=j(),i=C("div"),i.innerHTML=n,this.h()},l(u){l.l(u),s=q(u),i=M(u,"DIV",{class:!0,"data-svelte-h":!0}),xe(i)!=="svelte-1xcazan"&&(i.innerHTML=n),this.h()},h(){y(i,"class","text-orange-500 absolute bottom-0 right-0 m-2")},m(u,p){a[e].m(u,p),J(u,s,p),J(u,i,p),r=!0},p(u,p){let m=e;e=f(u),e===m?a[e].p(u,p):(Ve(),W(a[m],1,1,()=>{a[m]=null}),Je(),l=a[e],l?l.p(u,p):(l=a[e]=o[e](u),l.c()),Y(l,1),l.m(s.parentNode,s))},i(u){r||(Y(l),r=!0)},o(u){W(l),r=!1},d(u){u&&(w(s),w(i)),a[e].d(u)}}}function Fs(t){var n,r;let e,l,s,i;return e=new zs({props:{clickNode:t[29],circledNode:t[3],selectedJewel:(n=t[0])==null?void 0:n.value,selectedConqueror:(r=t[1])==null?void 0:r.value,highlighted:t[21],seed:t[2],highlightJewels:!t[3],disabled:[...t[12]],$$slots:{default:[Bs]},$$scope:{ctx:t}}}),{c(){je(e.$$.fragment)},l(o){qe(e.$$.fragment,o)},m(o,a){Ue(e,o,a),l=!0,s||(i=A(Ls,"paste",t[42]),s=!0)},p(o,a){var u,p;const f={};a[0]&8&&(f.circledNode=o[3]),a[0]&1&&(f.selectedJewel=(u=o[0])==null?void 0:u.value),a[0]&2&&(f.selectedConqueror=(p=o[1])==null?void 0:p.value),a[0]&2097152&&(f.highlighted=o[21]),a[0]&4&&(f.seed=o[2]),a[0]&8&&(f.highlightJewels=!o[3]),a[0]&4096&&(f.disabled=[...o[12]]),a[0]&65011711|a[2]&524288&&(f.$$scope={dirty:a,ctx:o}),e.$set(f)},i(o){l||(Y(e.$$.fragment,o),l=!0)},o(o){W(e.$$.fragment,o),l=!1},d(o){Be(e,o),s=!1,i()}}}function Hs(t,e,l){let s,i,n,r,o,a,f;Ct(t,Ul,T=>l(10,a=T)),Ct(t,Bl,T=>l(67,f=T));const u=f.url.searchParams,p=Object.keys(se.TimelessJewels).map(T=>({value:parseInt(T),label:a(se.TimelessJewels[T])}));let m=u.has("jewel")?p.find(T=>T.value==u.get("jewel")):void 0,_=u.has("conqueror")?{value:u.get("conqueror"),label:u.get("conqueror")}:void 0,c=u.has("seed")?parseInt(u.get("seed")):0,h=u.has("location")?parseInt(u.get("location")):void 0,d={};u.has("stat")&&u.getAll("stat").forEach(T=>{const le=parseInt(T);l(4,d[le]={weight:1,min:0,id:le},d)});let g=u.has("mode")?u.get("mode"):"";const S=()=>{const T=new URL(window.location.origin+window.location.pathname);m&&T.searchParams.append("jewel",m.value.toString()),_&&T.searchParams.append("conqueror",_.value),c&&T.searchParams.append("seed",c.toString()),h&&T.searchParams.append("location",h.toString()),g&&T.searchParams.append("mode",g),Object.keys(d).forEach(le=>{T.searchParams.append("stat",le.toString())}),ql(T.toString())},z=T=>{l(11,g=T),S()};let E=new Set;const I=T=>{T.isJewelSocket?(l(3,h=T.skill),S()):T.isMastery||(E.has(T.skill)?E.delete(T.skill):E.add(T.skill),l(12,E))},R=JSON.parse(se.PossibleStats);let P;const D=T=>{l(4,d[T.detail.value]={weight:1,min:0,id:T.detail.value},d),l(4,d),P.handleClear(),S()},V=T=>{delete d[T],l(4,d),S()},ie=()=>{l(4,d={}),S()};let Q=!1,Z=0,H=!1,$=0,ue,fe=1,ee="";const ae=()=>{if(!h)return;l(19,fe=m.value),l(20,ee=_.value),l(16,H=!0),l(18,ue=void 0);const T={jewel:m.value,conqueror:_.value,nodes:i.filter(le=>!E.has(le.skill)).map(le=>se.TreeToPassive[le.skill]).filter(le=>!!le).map(le=>le.Index),stats:Object.keys(d).map(le=>d[le]),minTotalWeight:Z};Yl.search(T,Xl(le=>l(17,$=le))).then(le=>{l(18,ue=le),l(16,H=!1),l(14,Q=!0)})};let ye=[];const be=(T,le)=>{l(2,c=T),l(21,ye=le),S()},we=()=>{E.clear(),l(12,E)},ne=()=>{i.forEach(T=>{T.isNotable&&E.delete(T.skill)}),l(12,E)},Me=()=>{i.forEach(T=>{T.isNotable||E.delete(T.skill)}),l(12,E)},O=()=>{i.filter(T=>!T.isJewelSocket&&!T.isMastery).forEach(T=>E.add(T.skill)),l(12,E)};let v=localStorage.getItem("groupResults")===null?!0:localStorage.getItem("groupResults")==="true";const N={physical:"#c79d93",cast:"#b3f8fe",fire:"#ff9a77",cold:"#93d8ff",lightning:"#f8cb76",attack:"#da814d",life:"#c96e6e",chaos:"#d8a7d3",unique:"#af6025",critical:"#b2a7d6"},K=T=>(Object.keys(N).forEach(le=>{const pe=N[le];T=T.replace(new RegExp(`(${le}(?:$|\\s))|((?:^|\\s)${le})`,"gi"),`<span style='color: ${pe}; font-weight: bold'>$1$2</span>`)}),T),F=(T,le,pe)=>{const Se={};return T.forEach(ke=>{Ke.nodes[ke.node].isKeystone||pe!=="all"&&(pe==="notables"&&!Ke.nodes[ke.node].isNotable||pe==="passives"&&Ke.nodes[ke.node].isNotable)||(ke.result.AlternatePassiveSkill&&ke.result.AlternatePassiveSkill.StatsKeys&&ke.result.AlternatePassiveSkill.StatsKeys.forEach(Ae=>{Se[Ae]=[...Se[Ae]||[],ke.node]}),ke.result.AlternatePassiveAdditionInformations&&ke.result.AlternatePassiveAdditionInformations.forEach(Ae=>{Ae.AlternatePassiveAddition.StatsKeys&&Ae.AlternatePassiveAddition.StatsKeys.forEach(Xe=>{Se[Xe]=[...Se[Xe]||[],ke.node]})}))}),Object.keys(Se).map(ke=>{const Ae=ft(parseInt(ke));return{stat:le?K(Ae):Ae,rawStat:Ae,id:ke,passives:Se[ke]}})},de=(T,le)=>{switch(le){case"alphabet":return T.sort((pe,Se)=>pe.rawStat.replace(/[#+%]/gi,"").trim().toLowerCase().localeCompare(Se.rawStat.replace(/[#+%]/gi,"").trim().toLowerCase()));case"count":return T.sort((pe,Se)=>Se.passives.length-pe.passives.length);case"rarity":return T.sort((pe,Se)=>R[m.value][pe.id]-R[m.value][Se.id]);case"value":return T.sort((pe,Se)=>{const ke=et[pe.id]||0,Ae=et[Se.id]||0;return ke!=Ae?Ae-ke:R[m.value][pe.id]-R[m.value][Se.id]})}return T},re=[{label:a("Count"),value:"count"},{label:a("Alphabetical"),value:"alphabet"},{label:a("Rarity"),value:"rarity"},{label:a("Value"),value:"value"}];let ge=re.find(T=>T.value===(localStorage.getItem("sortOrder")||"count")),oe=localStorage.getItem("colored")===null?!0:localStorage.getItem("colored")==="true",Pe=localStorage.getItem("split")===null?!0:localStorage.getItem("split")==="true";const me=T=>{if(T.type!=="paste")return;const pe=(T.clipboardData||window.clipboardData).getData("text").split(`
`);if(pe.length<14)return;const Se=p.find(Xe=>Xe.label===pe[2]);if(!Se)return;let ke,Ae;for(let Xe=10;Xe<pe.length;Xe++)if(Ae=Object.keys(se.TimelessJewelConquerors[Se.value]).find(St=>pe[Xe].indexOf(St)>=0),Ae){const St=/(\d+)/.exec(pe[Xe]);if(St.length===0)continue;ke=parseInt(St[1]);break}!Ae||!ke||(l(14,Q=!1),l(11,g="seed"),l(2,c=ke),l(0,m=Se),l(1,_={label:Ae,value:Ae}),S())};let X=!1;const x=()=>l(22,X=!0),he=()=>Rl(fe,ee,ue.raw),ce=()=>l(5,v=!v),Le=()=>l(14,Q=!Q);function Oe(T){m=T,l(0,m)}function Ye(T){_=T,l(1,_)}const _e=()=>z("seed"),Ee=()=>z("stats");function Fe(){c=Qe(this.value),l(2,c)}function De(T){ge=T,l(6,ge)}const Ce=()=>l(7,oe=!oe),Ne=()=>l(8,Pe=!Pe),at=T=>be(c,T.passives),ht=T=>be(c,T.passives),ct=T=>be(c,T.passives);function ot(T){st[T?"unshift":"push"](()=>{P=T,l(13,P)})}const ut=T=>V(d[T].id);function Tt(T){d[T].min=Qe(this.value),l(4,d)}function k(T){d[T].weight=Qe(this.value),l(4,d)}function dt(){Z=Qe(this.value),l(15,Z)}const mt=()=>ae(),_t=()=>l(22,X=!1);return t.$$.update=()=>{t.$$.dirty[0]&1025&&l(25,s=m?Object.keys(se.TimelessJewelConquerors[m.value]).map(T=>({value:T,label:a(T)})):[]),t.$$.dirty[0]&8&&l(9,i=h?Kl(Ke.nodes[h]).filter(T=>!T.isJewelSocket&&!T.isMastery):[]),t.$$.dirty[0]&519&&l(24,n=!c||!m||!_||Object.keys(se.TimelessJewelConquerors[m.value]).indexOf(_.value)<0?[]:i.filter(T=>!!se.TreeToPassive[T.skill]).map(T=>({node:T.skill,result:Tl.Calculate(se.TreeToPassive[T.skill].Index,c,m.value,_.value)}))),t.$$.dirty[0]&1&&l(44,r=m?Object.keys(R[m.value]):[]),t.$$.dirty[0]&16|t.$$.dirty[1]&8192&&l(23,o=r.map(T=>{const le=parseInt(T);return{label:ft(le),value:le}}).filter(T=>!(T.value in d))),t.$$.dirty[0]&32&&localStorage.setItem("groupResults",v?"true":"false"),t.$$.dirty[0]&64&&localStorage.setItem("sortOrder",ge.value),t.$$.dirty[0]&128&&localStorage.setItem("colored",oe?"true":"false"),t.$$.dirty[0]&256&&localStorage.setItem("split",Pe?"true":"false")},[m,_,c,h,d,v,ge,oe,Pe,i,a,g,E,P,Q,Z,H,$,ue,fe,ee,ye,X,o,n,s,p,S,z,I,D,V,ie,ae,be,we,ne,Me,O,F,de,re,me,N,r,x,he,ce,Le,Oe,Ye,_e,Ee,Fe,De,Ce,Ne,at,ht,ct,ot,ut,Tt,k,dt,mt,_t]}class xs extends nt{constructor(e){super(),rt(this,e,Hs,Fs,it,{colorKeys:43},null,[-1,-1,-1])}get colorKeys(){return this.$$.ctx[43]}}export{xs as component};
