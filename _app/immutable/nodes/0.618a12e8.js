import{s as O,e as j,i as C,d as y,r as P,u as A,v as V,w as N,x as W,f as b,l as I,a as $,g as p,h as w,m as R,c as G,j as v,y as _,n as D,z as S}from"../chunks/scheduler.9ae0719f.js";import{S as L,i as M,t as T,c as q,a as E,g as F}from"../chunks/index.dd85e640.js";import"../chunks/i18n.39b8106f.js";import{a as H}from"../chunks/paths.080cd0a8.js";import{i as z,$ as B,a as Y}from"../chunks/index.ef3acaca.js";import{l as J,s as X}from"../chunks/worker.78231c3f.js";const K=!0,ae=Object.freeze(Object.defineProperty({__proto__:null,prerender:K},Symbol.toStringTag,{value:"Module"}));(()=>{const r=()=>{const o=new Error("not implemented");return o.code="ENOSYS",o};if(!globalThis.fs){let o="";globalThis.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(s,n){o+=h.decode(n);const i=o.lastIndexOf(`
`);return i!=-1&&(console.log(o.substring(0,i)),o=o.substring(i+1)),n.length},write(s,n,i,u,a,f){if(i!==0||u!==n.length||a!==null){f(r());return}const d=this.writeSync(s,n);f(null,d)},chmod(s,n,i){i(r())},chown(s,n,i,u){u(r())},close(s,n){n(r())},fchmod(s,n,i){i(r())},fchown(s,n,i,u){u(r())},fstat(s,n){n(r())},fsync(s,n){n(null)},ftruncate(s,n,i){i(r())},lchown(s,n,i,u){u(r())},link(s,n,i){i(r())},lstat(s,n){n(r())},mkdir(s,n,i){i(r())},open(s,n,i,u){u(r())},read(s,n,i,u,a,f){f(r())},readdir(s,n){n(r())},readlink(s,n){n(r())},rename(s,n,i){i(r())},rmdir(s,n){n(r())},stat(s,n){n(r())},symlink(s,n,i){i(r())},truncate(s,n,i){i(r())},unlink(s,n){n(r())},utimes(s,n,i,u){u(r())}}}if(globalThis.process||(globalThis.process={getuid(){return-1},getgid(){return-1},geteuid(){return-1},getegid(){return-1},getgroups(){throw r()},pid:-1,ppid:-1,umask(){throw r()},cwd(){throw r()},chdir(){throw r()}}),!globalThis.crypto)throw new Error("globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)");if(!globalThis.performance)throw new Error("globalThis.performance is not available, polyfill required (performance.now only)");if(!globalThis.TextEncoder)throw new Error("globalThis.TextEncoder is not available, polyfill required");if(!globalThis.TextDecoder)throw new Error("globalThis.TextDecoder is not available, polyfill required");const c=new TextEncoder("utf-8"),h=new TextDecoder("utf-8");globalThis.Go=class{constructor(){this.argv=["js"],this.env={},this.exit=e=>{e!==0&&console.warn("exit code:",e)},this._exitPromise=new Promise(e=>{this._resolveExitPromise=e}),this._pendingEvent=null,this._scheduledTimeouts=new Map,this._nextCallbackTimeoutID=1;const o=(e,t)=>{this.mem.setUint32(e+0,t,!0),this.mem.setUint32(e+4,Math.floor(t/4294967296),!0)},s=e=>{const t=this.mem.getUint32(e+0,!0),l=this.mem.getInt32(e+4,!0);return t+l*4294967296},n=e=>{const t=this.mem.getFloat64(e,!0);if(t===0)return;if(!isNaN(t))return t;const l=this.mem.getUint32(e,!0);return this._values[l]},i=(e,t)=>{if(typeof t=="number"&&t!==0){if(isNaN(t)){this.mem.setUint32(e+4,2146959360,!0),this.mem.setUint32(e,0,!0);return}this.mem.setFloat64(e,t,!0);return}if(t===void 0){this.mem.setFloat64(e,0,!0);return}let m=this._ids.get(t);m===void 0&&(m=this._idPool.pop(),m===void 0&&(m=this._values.length),this._values[m]=t,this._goRefCounts[m]=0,this._ids.set(t,m)),this._goRefCounts[m]++;let g=0;switch(typeof t){case"object":t!==null&&(g=1);break;case"string":g=2;break;case"symbol":g=3;break;case"function":g=4;break}this.mem.setUint32(e+4,2146959360|g,!0),this.mem.setUint32(e,m,!0)},u=e=>{const t=s(e+0),l=s(e+8);return new Uint8Array(this._inst.exports.mem.buffer,t,l)},a=e=>{const t=s(e+0),l=s(e+8),m=new Array(l);for(let g=0;g<l;g++)m[g]=n(t+g*8);return m},f=e=>{const t=s(e+0),l=s(e+8);return h.decode(new DataView(this._inst.exports.mem.buffer,t,l))},d=Date.now()-performance.now();this.importObject={_gotest:{add:(e,t)=>e+t},gojs:{"runtime.wasmExit":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);this.exited=!0,delete this._inst,delete this._values,delete this._goRefCounts,delete this._ids,delete this._idPool,this.exit(t)},"runtime.wasmWrite":e=>{e>>>=0;const t=s(e+8),l=s(e+16),m=this.mem.getInt32(e+24,!0);fs.writeSync(t,new Uint8Array(this._inst.exports.mem.buffer,l,m))},"runtime.resetMemoryDataView":e=>{this.mem=new DataView(this._inst.exports.mem.buffer)},"runtime.nanotime1":e=>{e>>>=0,o(e+8,(d+performance.now())*1e6)},"runtime.walltime":e=>{e>>>=0;const t=new Date().getTime();o(e+8,t/1e3),this.mem.setInt32(e+16,t%1e3*1e6,!0)},"runtime.scheduleTimeoutEvent":e=>{e>>>=0;const t=this._nextCallbackTimeoutID;this._nextCallbackTimeoutID++,this._scheduledTimeouts.set(t,setTimeout(()=>{for(this._resume();this._scheduledTimeouts.has(t);)console.warn("scheduleTimeoutEvent: missed timeout event"),this._resume()},s(e+8))),this.mem.setInt32(e+16,t,!0)},"runtime.clearTimeoutEvent":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);clearTimeout(this._scheduledTimeouts.get(t)),this._scheduledTimeouts.delete(t)},"runtime.getRandomData":e=>{e>>>=0,crypto.getRandomValues(u(e+8))},"syscall/js.finalizeRef":e=>{e>>>=0;const t=this.mem.getUint32(e+8,!0);if(this._goRefCounts[t]--,this._goRefCounts[t]===0){const l=this._values[t];this._values[t]=null,this._ids.delete(l),this._idPool.push(t)}},"syscall/js.stringVal":e=>{e>>>=0,i(e+24,f(e+8))},"syscall/js.valueGet":e=>{e>>>=0;const t=Reflect.get(n(e+8),f(e+16));e=this._inst.exports.getsp()>>>0,i(e+32,t)},"syscall/js.valueSet":e=>{e>>>=0,Reflect.set(n(e+8),f(e+16),n(e+32))},"syscall/js.valueDelete":e=>{e>>>=0,Reflect.deleteProperty(n(e+8),f(e+16))},"syscall/js.valueIndex":e=>{e>>>=0,i(e+24,Reflect.get(n(e+8),s(e+16)))},"syscall/js.valueSetIndex":e=>{e>>>=0,Reflect.set(n(e+8),s(e+16),n(e+24))},"syscall/js.valueCall":e=>{e>>>=0;try{const t=n(e+8),l=Reflect.get(t,f(e+16)),m=a(e+32),g=Reflect.apply(l,t,m);e=this._inst.exports.getsp()>>>0,i(e+56,g),this.mem.setUint8(e+64,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+56,t),this.mem.setUint8(e+64,0)}},"syscall/js.valueInvoke":e=>{e>>>=0;try{const t=n(e+8),l=a(e+16),m=Reflect.apply(t,void 0,l);e=this._inst.exports.getsp()>>>0,i(e+40,m),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueNew":e=>{e>>>=0;try{const t=n(e+8),l=a(e+16),m=Reflect.construct(t,l);e=this._inst.exports.getsp()>>>0,i(e+40,m),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueLength":e=>{e>>>=0,o(e+16,parseInt(n(e+8).length))},"syscall/js.valuePrepareString":e=>{e>>>=0;const t=c.encode(String(n(e+8)));i(e+16,t),o(e+24,t.length)},"syscall/js.valueLoadString":e=>{e>>>=0;const t=n(e+8);u(e+16).set(t)},"syscall/js.valueInstanceOf":e=>{e>>>=0,this.mem.setUint8(e+24,n(e+8)instanceof n(e+16)?1:0)},"syscall/js.copyBytesToGo":e=>{e>>>=0;const t=u(e+8),l=n(e+32);if(!(l instanceof Uint8Array||l instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const m=l.subarray(0,t.length);t.set(m),o(e+40,m.length),this.mem.setUint8(e+48,1)},"syscall/js.copyBytesToJS":e=>{e>>>=0;const t=n(e+8),l=u(e+16);if(!(t instanceof Uint8Array||t instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const m=l.subarray(0,t.length);t.set(m),o(e+40,m.length),this.mem.setUint8(e+48,1)},debug:e=>{console.log(e)}}}}async run(o){if(!(o instanceof WebAssembly.Instance))throw new Error("Go.run: WebAssembly.Instance expected");this._inst=o,this.mem=new DataView(this._inst.exports.mem.buffer),this._values=[NaN,0,null,!0,!1,globalThis,this],this._goRefCounts=new Array(this._values.length).fill(1/0),this._ids=new Map([[0,1],[null,2],[!0,3],[!1,4],[globalThis,5],[this,6]]),this._idPool=[],this.exited=!1;let s=4096;const n=e=>{const t=s,l=c.encode(e+"\0");return new Uint8Array(this.mem.buffer,s,l.length).set(l),s+=l.length,s%8!==0&&(s+=8-s%8),t},i=this.argv.length,u=[];this.argv.forEach(e=>{u.push(n(e))}),u.push(0),Object.keys(this.env).sort().forEach(e=>{u.push(n(`${e}=${this.env[e]}`))}),u.push(0);const f=s;u.forEach(e=>{this.mem.setUint32(s,e,!0),this.mem.setUint32(s+4,0,!0),s+=8});const d=4096+8192;if(s>=d)throw new Error("total length of command line and environment variables exceeds limit");this._inst.exports.run(i,f),this.exited&&this._resolveExitPromise(),await this._exitPromise}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper(o){const s=this;return function(){const n={id:o,this:this,args:arguments};return s._pendingEvent=n,s._resume(),n.result}}}})();function Q(r){let c;const h=r[3].default,o=A(h,r,r[2],null);return{c(){o&&o.c()},l(s){o&&o.l(s)},m(s,n){o&&o.m(s,n),c=!0},p(s,n){o&&o.p&&(!c||n&4)&&V(o,h,s,s[2],c?W(h,s[2],n,null):N(s[2]),null)},i(s){c||(E(o,s),c=!0)},o(s){T(o,s),c=!1},d(s){o&&o.d(s)}}}function Z(r){let c,h,o,s,n,i=r[1]("app_name")+"",u,a,f,d=r[1]("loading")+"",e;return{c(){c=b("div"),h=b("div"),o=b("div"),s=b("div"),n=b("h1"),u=I(i),a=$(),f=b("h2"),e=I(d),this.h()},l(t){c=p(t,"DIV",{class:!0});var l=w(c);h=p(l,"DIV",{class:!0});var m=w(h);o=p(m,"DIV",{class:!0});var g=w(o);s=p(g,"DIV",{});var x=w(s);n=p(x,"H1",{class:!0});var U=w(n);u=R(U,i),U.forEach(y),a=G(x),f=p(x,"H2",{class:!0});var k=w(f);e=R(k,d),k.forEach(y),x.forEach(y),g.forEach(y),m.forEach(y),l.forEach(y),this.h()},h(){v(n,"class","text-white mb-10 text-center"),v(f,"class","text-center"),v(o,"class","py-10 flex flex-col justify-between"),v(h,"class","flex flex-col"),v(c,"class","flex flex-row justify-center h-screen")},m(t,l){C(t,c,l),_(c,h),_(h,o),_(o,s),_(s,n),_(n,u),_(s,a),_(s,f),_(f,e)},p(t,l){l&2&&i!==(i=t[1]("app_name")+"")&&D(u,i),l&2&&d!==(d=t[1]("loading")+"")&&D(e,d)},i:S,o:S,d(t){t&&y(c)}}}function ee(r){let c,h,o,s;const n=[Z,Q],i=[];function u(a,f){return a[0]?0:1}return c=u(r),h=i[c]=n[c](r),{c(){h.c(),o=j()},l(a){h.l(a),o=j()},m(a,f){i[c].m(a,f),C(a,o,f),s=!0},p(a,[f]){let d=c;c=u(a),c===d?i[c].p(a,f):(F(),T(i[d],1,1,()=>{i[d]=null}),q(),h=i[c],h?h.p(a,f):(h=i[c]=n[c](a),h.c()),E(h,1),h.m(o.parentNode,o))},i(a){s||(E(h),s=!0)},o(a){T(h),s=!1},d(a){a&&y(o),i[c].d(a)}}}function te(r,c,h){let o;P(r,Y,a=>h(1,o=a));let{$$slots:s={},$$scope:n}=c,i=!0;const u=new Go;return fetch(H+"/calculator.wasm").then(a=>a.arrayBuffer()).then(a=>{WebAssembly.instantiate(a,u.importObject).then(f=>{u.run(f.instance),h(0,i=!1),z(),J(navigator.language)}),X.boot(a)}),document.title=o("app_name"),B.set(localStorage.getItem("locale")||navigator.language),r.$$set=a=>{"$$scope"in a&&h(2,n=a.$$scope)},[i,o,n,s]}class ce extends L{constructor(c){super(),M(this,c,te,ee,O,{})}}export{ce as component,ae as universal};
