var Ul=Object.defineProperty;var Bl=(t,e,l)=>e in t?Ul(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var Ae=(t,e,l)=>(Bl(t,typeof e!="symbol"?e+"":e,l),l);import{s as it,f as R,a as j,l as B,g as P,h as L,A as Ye,c as q,m as F,d as S,j as A,i as J,y as w,D as M,n as se,z as et,G as st,F as Ze,u as vt,v as bt,w as wt,x as St,H as Rl,o as Dt,I as Vt,e as Ie,p as Qe,k as He,J as yt,K as Ce,L as Fl,M as Hl,N as Q,r as Ot,E as $e,O as ve,B as kt,C as xe,P as Jt,Q as jt}from"../chunks/scheduler.1588ed99.js";import{S as nt,i as at,g as je,c as qe,a as U,t as G,b as Ne,d as Oe,m as De,e as Ve,f as It}from"../chunks/index.afb56b95.js";import{e as Le,u as Kl,o as Yl,g as Xl,L as Gl,S as ft}from"../chunks/locale.46e14dad.js";import{c as Pl,d as ne,a as Wl}from"../chunks/index.a4b13433.js";import{p as Ql}from"../chunks/stores.3e46fdb3.js";import{a as Ke,o as Ml,t as ct,b as Zl,d as Lt,c as qt,e as lt,f as Ut,g as Tt,h as Bt,i as Ft,j as Ht,k as $l,m as Kt,n as xl,s as es,p as ts}from"../chunks/worker.f1695a37.js";import{r as ls,d as ss}from"../chunks/paths.c2bfc070.js";const zl=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Yt(t,e,l){const s=t.slice();return s[8]=e[l],s}function Xt(t,e,l){const s=t.slice();return s[11]=e[l],s}function Gt(t){let e,l=ct(t[11],t[8].stats[t[11]])+"",s;return{c(){e=R("li"),s=B(l)},l(i){e=P(i,"LI",{});var n=L(e);s=F(n,l),n.forEach(S)},m(i,n){J(i,e,n),w(e,s)},p(i,n){n&2&&l!==(l=ct(i[11],i[8].stats[i[11]])+"")&&se(s,l)},d(i){i&&S(e)}}}function Wt(t){let e,l,s=Ke.nodes[t[8].passive].name+"",i,n,a=t[8].passive+"",o,r,h,c,m,_=Le(Object.keys(t[8].stats)),g=[];for(let u=0;u<_.length;u+=1)g[u]=Gt(Xt(t,_,u));return{c(){e=R("div"),l=R("span"),i=B(s),n=B(" ("),o=B(a),r=B(")"),h=j(),c=R("ul");for(let u=0;u<g.length;u+=1)g[u].c();m=j(),this.h()},l(u){e=P(u,"DIV",{class:!0});var f=L(e);l=P(f,"SPAN",{});var d=L(l);i=F(d,s),n=F(d," ("),o=F(d,a),r=F(d,")"),d.forEach(S),h=q(f),c=P(f,"UL",{class:!0});var p=L(c);for(let k=0;k<g.length;k+=1)g[k].l(p);p.forEach(S),m=q(f),f.forEach(S),this.h()},h(){A(c,"class","list-disc pl-6 font-bold"),A(e,"class","mt-2")},m(u,f){J(u,e,f),w(e,l),w(l,i),w(l,n),w(l,o),w(l,r),w(e,h),w(e,c);for(let d=0;d<g.length;d+=1)g[d]&&g[d].m(c,null);w(e,m)},p(u,f){if(f&2&&s!==(s=Ke.nodes[u[8].passive].name+"")&&se(i,s),f&2&&a!==(a=u[8].passive+"")&&se(o,a),f&2){_=Le(Object.keys(u[8].stats));let d;for(d=0;d<_.length;d+=1){const p=Xt(u,_,d);g[d]?g[d].p(p,f):(g[d]=Gt(p),g[d].c(),g[d].m(c,null))}for(;d<g.length;d+=1)g[d].d(1);g.length=_.length}},d(u){u&&S(e),st(g,u)}}}function is(t){let e,l,s,i="Trade",n,a,o,r=t[1].seed+"",h,c,m=t[1].weight+"",_,g,u,f,d="Trade",p,k,N,z=Le(t[1].skills),y=[];for(let b=0;b<z.length;b+=1)y[b]=Wt(Yt(t,z,b));return{c(){e=R("div"),l=R("div"),s=R("button"),s.textContent=i,n=j(),a=R("div"),o=B("Seed "),h=B(r),c=B(" (weight "),_=B(m),g=B(")"),u=j(),f=R("button"),f.textContent=d,p=j();for(let b=0;b<y.length;b+=1)y[b].c();this.h()},l(b){e=P(b,"DIV",{class:!0});var E=L(e);l=P(E,"DIV",{class:!0});var C=L(l);s=P(C,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(s)!=="svelte-1wpptz2"&&(s.textContent=i),n=q(C),a=P(C,"DIV",{class:!0});var O=L(a);o=F(O,"Seed "),h=F(O,r),c=F(O," (weight "),_=F(O,m),g=F(O,")"),O.forEach(S),u=q(C),f=P(C,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(f)!=="svelte-vbldzr"&&(f.textContent=d),C.forEach(S),p=q(E);for(let ee=0;ee<y.length;ee+=1)y[ee].l(E);E.forEach(S),this.h()},h(){A(s,"class","px-3 invisible"),A(a,"class","font-bold text-orange-500 text-center"),A(f,"class","px-3 bg-blue-500/40 rounded"),A(l,"class","flex flex-row justify-between"),A(e,"class","my-2 border-white/50 border p-2 flex flex-col cursor-pointer")},m(b,E){J(b,e,E),w(e,l),w(l,s),w(l,n),w(l,a),w(a,o),w(a,h),w(a,c),w(a,_),w(a,g),w(l,u),w(l,f),w(e,p);for(let C=0;C<y.length;C+=1)y[C]&&y[C].m(e,null);k||(N=[M(f,"click",t[6]),M(e,"click",t[7])],k=!0)},p(b,[E]){if(E&2&&r!==(r=b[1].seed+"")&&se(h,r),E&2&&m!==(m=b[1].weight+"")&&se(_,m),E&2){z=Le(b[1].skills);let C;for(C=0;C<z.length;C+=1){const O=Yt(b,z,C);y[C]?y[C].p(O,E):(y[C]=Wt(O),y[C].c(),y[C].m(e,null))}for(;C<y.length;C+=1)y[C].d(1);y.length=z.length}},i:et,o:et,d(b){b&&S(e),st(y,b),k=!1,Ze(N)}}}function ns(t,e,l){let{highlight:s}=e,{set:i}=e,{jewel:n}=e,{conqueror:a}=e,{platform:o}=e,{league:r}=e;const h=()=>Ml(n,a,[i],o,r),c=()=>s(i.seed,i.skills.map(m=>m.passive));return t.$$set=m=>{"highlight"in m&&l(0,s=m.highlight),"set"in m&&l(1,i=m.set),"jewel"in m&&l(2,n=m.jewel),"conqueror"in m&&l(3,a=m.conqueror),"platform"in m&&l(4,o=m.platform),"league"in m&&l(5,r=m.league)},[s,i,n,a,o,r,h,c]}class Ll extends nt{constructor(e){super(),at(this,e,ns,is,it,{highlight:0,set:1,jewel:2,conqueror:3,platform:4,league:5})}}const At={AUTO:"auto",START:"start",CENTER:"center",END:"end"},We={HORIZONTAL:"horizontal",VERTICAL:"vertical"},pt={OBSERVED:0,REQUESTED:1},as={[We.VERTICAL]:"top",[We.HORIZONTAL]:"left"},Qt={[We.VERTICAL]:"scrollTop",[We.HORIZONTAL]:"scrollLeft"};class rs{constructor({itemSize:e,itemCount:l,estimatedItemSize:s}){this.itemSize=e,this.itemCount=l,this.estimatedItemSize=s,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return typeof this.itemSize=="function"}updateConfig({itemSize:e,itemCount:l,estimatedItemSize:s}){l!=null&&(this.itemCount=l),s!=null&&(this.estimatedItemSize=s),e!=null&&(this.itemSize=e),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&this.totalSize!=null?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(e){const{itemSize:l}=this;return typeof l=="function"?l(e):Array.isArray(l)?l[e]:l}computeTotalSizeAndPositionData(){let e=0;for(let l=0;l<this.itemCount;l++){const s=this.getSize(l),i=e;e+=s,this.itemSizeAndPositionData[l]={offset:i,size:s}}this.totalSize=e}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount)throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(e):this.itemSizeAndPositionData[e]}getJustInTimeSizeAndPositionForIndex(e){if(e>this.lastMeasuredIndex){const l=this.getSizeAndPositionOfLastMeasuredItem();let s=l.offset+l.size;for(let i=this.lastMeasuredIndex+1;i<=e;i++){const n=this.getSize(i);if(n==null||isNaN(n))throw Error(`Invalid size returned for index ${i} of value ${n}`);this.itemSizeAndPositionData[i]={offset:s,size:n},s+=n}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:e=At.START,containerSize:l,currentOffset:s,targetIndex:i}){if(l<=0)return 0;const n=this.getSizeAndPositionForIndex(i),a=n.offset,o=a-l+n.size;let r;switch(e){case At.END:r=o;break;case At.CENTER:r=a-(l-n.size)/2;break;case At.START:r=a;break;default:r=Math.max(o,Math.min(a,s))}const h=this.getTotalSize();return Math.max(0,Math.min(h-l,r))}getVisibleRange({containerSize:e=0,offset:l,overscanCount:s}){if(this.getTotalSize()===0)return{};const n=l+e;let a=this.findNearestItem(l);if(a===void 0)throw Error(`Invalid offset ${l} specified`);const o=this.getSizeAndPositionForIndex(a);l=o.offset+o.size;let r=a;for(;l<n&&r<this.itemCount-1;)r++,l+=this.getSizeAndPositionForIndex(r).size;return s&&(a=Math.max(0,a-s),r=Math.min(r+s,this.itemCount-1)),{start:a,stop:r}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const l=this.getSizeAndPositionOfLastMeasuredItem(),s=Math.max(0,this.lastMeasuredIndex);return l.offset>=e?this.binarySearch({high:s,low:0,offset:e}):this.exponentialSearch({index:s,offset:e})}binarySearch({low:e,high:l,offset:s}){let i=0,n=0;for(;e<=l;){if(i=e+Math.floor((l-e)/2),n=this.getSizeAndPositionForIndex(i).offset,n===s)return i;n<s?e=i+1:n>s&&(l=i-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:l}){let s=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<l;)e+=s,s*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:l})}}const os=t=>({}),Zt=t=>({});function $t(t,e,l){const s=t.slice();return s[37]=e[l],s}const us=t=>({style:t[0]&4,index:t[0]&4}),xt=t=>({style:t[37].style,index:t[37].index}),fs=t=>({}),el=t=>({});function tl(t,e){let l,s;const i=e[21].item,n=vt(i,e,e[20],xt);return{key:t,first:null,c(){l=Ie(),n&&n.c(),this.h()},l(a){l=Ie(),n&&n.l(a),this.h()},h(){this.first=l},m(a,o){J(a,l,o),n&&n.m(a,o),s=!0},p(a,o){e=a,n&&n.p&&(!s||o[0]&1048580)&&bt(n,i,e,e[20],s?St(i,e[20],o,us):wt(e[20]),xt)},i(a){s||(U(n,a),s=!0)},o(a){G(n,a),s=!1},d(a){a&&S(l),n&&n.d(a)}}}function cs(t){let e,l,s,i=[],n=new Map,a,o;const r=t[21].header,h=vt(r,t,t[20],el);let c=Le(t[2]);const m=u=>u[0]?u[0](u[37].index):u[37].index;for(let u=0;u<c.length;u+=1){let f=$t(t,c,u),d=m(f);n.set(d,i[u]=tl(d,f))}const _=t[21].footer,g=vt(_,t,t[20],Zt);return{c(){e=R("div"),h&&h.c(),l=j(),s=R("div");for(let u=0;u<i.length;u+=1)i[u].c();a=j(),g&&g.c(),this.h()},l(u){e=P(u,"DIV",{class:!0,style:!0});var f=L(e);h&&h.l(f),l=q(f),s=P(f,"DIV",{class:!0,style:!0});var d=L(s);for(let p=0;p<i.length;p+=1)i[p].l(d);d.forEach(S),a=q(f),g&&g.l(f),f.forEach(S),this.h()},h(){A(s,"class","virtual-list-inner svelte-1d4hv8l"),A(s,"style",t[4]),A(e,"class","virtual-list-wrapper svelte-1d4hv8l"),A(e,"style",t[3])},m(u,f){J(u,e,f),h&&h.m(e,null),w(e,l),w(e,s);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(s,null);w(e,a),g&&g.m(e,null),t[22](e),o=!0},p(u,f){h&&h.p&&(!o||f[0]&1048576)&&bt(h,r,u,u[20],o?St(r,u[20],f,fs):wt(u[20]),el),f[0]&1048581&&(c=Le(u[2]),je(),i=Kl(i,f,m,1,u,c,n,s,Yl,tl,null,$t),qe()),(!o||f[0]&16)&&A(s,"style",u[4]),g&&g.p&&(!o||f[0]&1048576)&&bt(g,_,u,u[20],o?St(_,u[20],f,os):wt(u[20]),Zt),(!o||f[0]&8)&&A(e,"style",u[3])},i(u){if(!o){U(h,u);for(let f=0;f<c.length;f+=1)U(i[f]);U(g,u),o=!0}},o(u){G(h,u);for(let f=0;f<i.length;f+=1)G(i[f]);G(g,u),o=!1},d(u){u&&S(e),h&&h.d(u);for(let f=0;f<i.length;f+=1)i[f].d();g&&g.d(u),t[22](null)}}}const hs=(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get(){return t={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return t})();function ds(t,e,l){let{$$slots:s={},$$scope:i}=e,{height:n}=e,{width:a="100%"}=e,{itemCount:o}=e,{itemSize:r}=e,{estimatedItemSize:h=null}=e,{stickyIndices:c=null}=e,{getKey:m=null}=e,{scrollDirection:_=We.VERTICAL}=e,{scrollOffset:g=null}=e,{scrollToIndex:u=null}=e,{scrollToAlignment:f=null}=e,{scrollToBehaviour:d="instant"}=e,{overscanCount:p=3}=e;const k=Rl(),N=new rs({itemCount:o,itemSize:r,estimatedItemSize:we()});let z=!1,y,b=[],E={offset:g||u!=null&&b.length&&ue(u)||0,scrollChangeReason:pt.REQUESTED},C=E,O={scrollToIndex:u,scrollToAlignment:f,scrollOffset:g,itemCount:o,itemSize:r,estimatedItemSize:h},ee={},Z="",W="";ce(),Dt(()=>{l(18,z=!0),y.addEventListener("scroll",Ee,hs),g!=null?he(g):u!=null&&he(ue(u))}),Vt(()=>{z&&y.removeEventListener("scroll",Ee)});function H(){if(!z)return;const V=O.scrollToIndex!==u||O.scrollToAlignment!==f,v=O.itemCount!==o||O.itemSize!==r||O.estimatedItemSize!==h;v&&(N.updateConfig({itemSize:r,itemCount:o,estimatedItemSize:we()}),le()),O.scrollOffset!==g?l(19,E={offset:g||0,scrollChangeReason:pt.REQUESTED}):typeof u=="number"&&(V||v)&&l(19,E={offset:ue(u,f,o),scrollChangeReason:pt.REQUESTED}),O={scrollToIndex:u,scrollToAlignment:f,scrollOffset:g,itemCount:o,itemSize:r,estimatedItemSize:h}}function $(){if(!z)return;const{offset:V,scrollChangeReason:v}=E;(C.offset!==V||C.scrollChangeReason!==v)&&ce(),C.offset!==V&&v===pt.REQUESTED&&he(V),C=E}function ce(){const{offset:V}=E,{start:v,stop:D}=N.getVisibleRange({containerSize:_===We.VERTICAL?n:a,offset:V,overscanCount:p});let Y=[];const K=N.getTotalSize();_===We.VERTICAL?(l(3,Z=`height:${n}px;width:${a};`),l(4,W=`flex-direction:column;height:${K}px;`)):(l(3,Z=`height:${n};width:${a}px`),l(4,W=`min-height:100%;width:${K}px;`));const de=c!=null&&c.length!==0;if(de)for(let re=0;re<c.length;re++){const pe=c[re];Y.push({index:pe,style:ae(pe,!0)})}if(v!==void 0&&D!==void 0){for(let re=v;re<=D;re++)de&&c.includes(re)||Y.push({index:re,style:ae(re,!1)});k("itemsUpdated",{start:v,end:D})}l(2,b=Y)}function he(V){"scroll"in y?y.scroll({[as[_]]:V,behavior:d}):l(1,y[Qt[_]]=V,y)}function le(V=0){ee={},N.resetItem(V),ce()}function ue(V,v=f,D=o){return(V<0||V>=D)&&(V=0),N.getUpdatedOffsetForIndex({align:v,containerSize:_===We.VERTICAL?n:a,currentOffset:E.offset||0,targetIndex:V})}function Ee(V){const v=be();v<0||E.offset===v||V.target!==y||(l(19,E={offset:v,scrollChangeReason:pt.OBSERVED}),k("afterScroll",{offset:v,event:V}))}function be(){return y[Qt[_]]}function we(){return h||typeof r=="number"&&r||50}function ae(V,v){if(ee[V])return ee[V];const{size:D,offset:Y}=N.getSizeAndPositionForIndex(V);let K;return _===We.VERTICAL?(K=`left:0;width:100%;height:${D}px;`,v?K+=`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${Y}px;margin-bottom:${-(Y+D)}px;`:K+=`position:absolute;top:${Y}px;`):(K=`top:0;width:${D}px;`,v?K+=`position:sticky;z-index:1;left:0;margin-left:${Y}px;margin-right:${-(Y+D)}px;`:K+=`position:absolute;height:100%;left:${Y}px;`),ee[V]=K}function Me(V){Qe[V?"unshift":"push"](()=>{y=V,l(1,y)})}return t.$$set=V=>{"height"in V&&l(5,n=V.height),"width"in V&&l(6,a=V.width),"itemCount"in V&&l(7,o=V.itemCount),"itemSize"in V&&l(8,r=V.itemSize),"estimatedItemSize"in V&&l(9,h=V.estimatedItemSize),"stickyIndices"in V&&l(10,c=V.stickyIndices),"getKey"in V&&l(0,m=V.getKey),"scrollDirection"in V&&l(11,_=V.scrollDirection),"scrollOffset"in V&&l(12,g=V.scrollOffset),"scrollToIndex"in V&&l(13,u=V.scrollToIndex),"scrollToAlignment"in V&&l(14,f=V.scrollToAlignment),"scrollToBehaviour"in V&&l(15,d=V.scrollToBehaviour),"overscanCount"in V&&l(16,p=V.overscanCount),"$$scope"in V&&l(20,i=V.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&29568&&H(),t.$$.dirty[0]&524288&&$(),t.$$.dirty[0]&263264&&z&&le(0)},[m,y,b,Z,W,n,a,o,r,h,c,_,g,u,f,d,p,le,z,E,i,s,Me]}class Nl extends nt{constructor(e){super(),at(this,e,ds,cs,it,{height:5,width:6,itemCount:7,itemSize:8,estimatedItemSize:9,stickyIndices:10,getKey:0,scrollDirection:11,scrollOffset:12,scrollToIndex:13,scrollToAlignment:14,scrollToBehaviour:15,overscanCount:16,recomputeSizes:17},null,[-1,-1])}get recomputeSizes(){return this.$$.ctx[17]}}function ll(t,e,l){const s=t.slice();return s[11]=e[l],s}function ms(t){let e,l,s;return l=new Nl({props:{height:"auto",overscanCount:15,itemCount:t[0].raw.length,itemSize:t[0].raw.map(t[8]),$$slots:{item:[gs,({style:i,index:n})=>({14:i,15:n}),({style:i,index:n})=>(i?16384:0)|(n?32768:0)]},$$scope:{ctx:t}}}),{c(){e=R("div"),Ne(l.$$.fragment),this.h()},l(i){e=P(i,"DIV",{class:!0});var n=L(e);Oe(l.$$.fragment,n),n.forEach(S),this.h()},h(){A(e,"class","mt-4 flex flex-col overflow-auto")},m(i,n){J(i,e,n),De(l,e,null),s=!0},p(i,n){const a={};n&1&&(a.itemCount=i[0].raw.length),n&1&&(a.itemSize=i[0].raw.map(i[8])),n&114811&&(a.$$scope={dirty:n,ctx:i}),l.$set(a)},i(i){s||(U(l.$$.fragment,i),s=!0)},o(i){G(l.$$.fragment,i),s=!1},d(i){i&&S(e),Ve(l)}}}function _s(t){let e,l,s=Le(Object.keys(t[0].grouped).map(t[9]).sort(nl).reverse()),i=[];for(let a=0;a<s.length;a+=1)i[a]=il(ll(t,s,a));const n=a=>G(i[a],1,1,()=>{i[a]=null});return{c(){e=R("div");for(let a=0;a<i.length;a+=1)i[a].c();this.h()},l(a){e=P(a,"DIV",{class:!0});var o=L(e);for(let r=0;r<i.length;r+=1)i[r].l(o);o.forEach(S),this.h()},h(){A(e,"class","flex flex-col overflow-auto")},m(a,o){J(a,e,o);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(e,null);l=!0},p(a,o){if(o&49659){s=Le(Object.keys(a[0].grouped).map(a[9]).sort(nl).reverse());let r;for(r=0;r<s.length;r+=1){const h=ll(a,s,r);i[r]?(i[r].p(h,o),U(i[r],1)):(i[r]=il(h),i[r].c(),U(i[r],1),i[r].m(e,null))}for(je(),r=s.length;r<i.length;r+=1)n(r);qe()}},i(a){if(!l){for(let o=0;o<s.length;o+=1)U(i[o]);l=!0}},o(a){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)G(i[o]);l=!1},d(a){a&&S(e),st(i,a)}}}function gs(t){let e,l,s,i;return l=new Ll({props:{set:t[0].raw[t[15]],highlight:t[1],jewel:t[3],conqueror:t[4],platform:t[5],league:t[6]}}),{c(){e=R("div"),Ne(l.$$.fragment),this.h()},l(n){e=P(n,"DIV",{slot:!0,style:!0});var a=L(e);Oe(l.$$.fragment,a),a.forEach(S),this.h()},h(){A(e,"slot","item"),A(e,"style",s=t[14])},m(n,a){J(n,e,a),De(l,e,null),i=!0},p(n,a){const o={};a&32769&&(o.set=n[0].raw[n[15]]),a&2&&(o.highlight=n[1]),a&8&&(o.jewel=n[3]),a&16&&(o.conqueror=n[4]),a&32&&(o.platform=n[5]),a&64&&(o.league=n[6]),l.$set(o),(!i||a&16384&&s!==(s=n[14]))&&A(e,"style",s)},i(n){i||(U(l.$$.fragment,n),i=!0)},o(n){G(l.$$.fragment,n),i=!1},d(n){n&&S(e),Ve(l)}}}function sl(t){let e,l,s,i;return l=new Nl({props:{height:"auto",overscanCount:10,itemCount:t[0].grouped[t[11]].length,itemSize:t[0].grouped[t[11]].map(t[8]),$$slots:{item:[ps,({style:n,index:a})=>({14:n,15:a}),({style:n,index:a})=>(n?16384:0)|(a?32768:0)]},$$scope:{ctx:t}}}),{c(){e=R("div"),Ne(l.$$.fragment),s=j(),this.h()},l(n){e=P(n,"DIV",{class:!0});var a=L(e);Oe(l.$$.fragment,a),s=q(a),a.forEach(S),this.h()},h(){A(e,"class","flex flex-col overflow-auto min-h-[200px] mb-2")},m(n,a){J(n,e,a),De(l,e,null),w(e,s),i=!0},p(n,a){const o={};a&1&&(o.itemCount=n[0].grouped[n[11]].length),a&1&&(o.itemSize=n[0].grouped[n[11]].map(n[8])),a&114811&&(o.$$scope={dirty:a,ctx:n}),l.$set(o)},i(n){i||(U(l.$$.fragment,n),i=!0)},o(n){G(l.$$.fragment,n),i=!1},d(n){n&&S(e),Ve(l)}}}function ps(t){let e,l,s,i;return l=new Ll({props:{set:t[0].grouped[t[11]][t[15]],highlight:t[1],jewel:t[3],conqueror:t[4],platform:t[5],league:t[6]}}),{c(){e=R("div"),Ne(l.$$.fragment),this.h()},l(n){e=P(n,"DIV",{slot:!0,style:!0});var a=L(e);Oe(l.$$.fragment,a),a.forEach(S),this.h()},h(){A(e,"slot","item"),A(e,"style",s=t[14])},m(n,a){J(n,e,a),De(l,e,null),i=!0},p(n,a){const o={};a&32769&&(o.set=n[0].grouped[n[11]][n[15]]),a&2&&(o.highlight=n[1]),a&8&&(o.jewel=n[3]),a&16&&(o.conqueror=n[4]),a&32&&(o.platform=n[5]),a&64&&(o.league=n[6]),l.$set(o),(!i||a&16384&&s!==(s=n[14]))&&A(e,"style",s)},i(n){i||(U(l.$$.fragment,n),i=!0)},o(n){G(l.$$.fragment,n),i=!1},d(n){n&&S(e),Ve(l)}}}function il(t){let e,l,s=t[11]+"",i,n,a=t[11]>1?"es":"",o,r,h=t[0].grouped[t[11]].length+"",c,m,_,g,u=t[7]===t[11]?"^":"V",f,d,p,k,N,z;function y(){return t[10](t[11])}let b=t[7]===t[11]&&sl(t);return{c(){e=R("button"),l=R("span"),i=B(s),n=B(" Match"),o=B(a),r=B(" ["),c=B(h),m=B("]"),_=j(),g=R("span"),f=B(u),d=j(),b&&b.c(),p=Ie(),this.h()},l(E){e=P(E,"BUTTON",{class:!0});var C=L(e);l=P(C,"SPAN",{});var O=L(l);i=F(O,s),n=F(O," Match"),o=F(O,a),r=F(O," ["),c=F(O,h),m=F(O,"]"),O.forEach(S),_=q(C),g=P(C,"SPAN",{});var ee=L(g);f=F(ee,u),ee.forEach(S),C.forEach(S),d=q(E),b&&b.l(E),p=Ie(),this.h()},h(){A(e,"class","text-lg w-full p-2 px-4 bg-neutral-500/30 rounded flex flex-row justify-between mb-2")},m(E,C){J(E,e,C),w(e,l),w(l,i),w(l,n),w(l,o),w(l,r),w(l,c),w(l,m),w(e,_),w(e,g),w(g,f),J(E,d,C),b&&b.m(E,C),J(E,p,C),k=!0,N||(z=M(e,"click",y),N=!0)},p(E,C){t=E,(!k||C&1)&&s!==(s=t[11]+"")&&se(i,s),(!k||C&1)&&a!==(a=t[11]>1?"es":"")&&se(o,a),(!k||C&1)&&h!==(h=t[0].grouped[t[11]].length+"")&&se(c,h),(!k||C&129)&&u!==(u=t[7]===t[11]?"^":"V")&&se(f,u),t[7]===t[11]?b?(b.p(t,C),C&129&&U(b,1)):(b=sl(t),b.c(),U(b,1),b.m(p.parentNode,p)):b&&(je(),G(b,1,1,()=>{b=null}),qe())},i(E){k||(U(b),k=!0)},o(E){G(b),k=!1},d(E){E&&(S(e),S(d),S(p)),b&&b.d(E),N=!1,z()}}}function vs(t){let e,l,s,i;const n=[_s,ms],a=[];function o(r,h){return r[2]?0:1}return e=o(t),l=a[e]=n[e](t),{c(){l.c(),s=Ie()},l(r){l.l(r),s=Ie()},m(r,h){a[e].m(r,h),J(r,s,h),i=!0},p(r,[h]){let c=e;e=o(r),e===c?a[e].p(r,h):(je(),G(a[c],1,1,()=>{a[c]=null}),qe(),l=a[e],l?l.p(r,h):(l=a[e]=n[e](r),l.c()),U(l,1),l.m(s.parentNode,s))},i(r){i||(U(l),i=!0)},o(r){G(l),i=!1},d(r){r&&S(s),a[e].d(r)}}}const nl=(t,e)=>t-e;function bs(t,e,l){let{searchResults:s}=e,{highlight:i}=e,{groupResults:n=!0}=e,{jewel:a}=e,{conqueror:o}=e,{platform:r}=e,{league:h}=e;const c=u=>8+48+u.skills.reduce((f,d)=>f+32+Object.keys(d.stats).length*24,0);let m="";const _=u=>parseInt(u),g=u=>l(7,m=m===u?"":u);return t.$$set=u=>{"searchResults"in u&&l(0,s=u.searchResults),"highlight"in u&&l(1,i=u.highlight),"groupResults"in u&&l(2,n=u.groupResults),"jewel"in u&&l(3,a=u.jewel),"conqueror"in u&&l(4,o=u.conqueror),"platform"in u&&l(5,r=u.platform),"league"in u&&l(6,h=u.league)},[s,i,n,a,o,r,h,m,c,_,g]}class ws extends nt{constructor(e){super(),at(this,e,bs,vs,it,{searchResults:0,highlight:1,groupResults:2,jewel:3,conqueror:4,platform:5,league:6})}}class Ss{constructor(){Ae(this,"currentLayerId");Ae(this,"setups");Ae(this,"renderers");Ae(this,"dispatchers");Ae(this,"needsSetup");Ae(this,"needsRedraw");Ae(this,"context");Ae(this,"width");Ae(this,"height");Ae(this,"autoclear");Ae(this,"pixelRatio");Ae(this,"renderLoop");Ae(this,"layerObserver");Ae(this,"layerRef");Ae(this,"layerSequence");Ae(this,"renderingLayerId");Ae(this,"activeLayerId");Ae(this,"activeLayerDispatcher");this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.getRenderingLayerId=this.getRenderingLayerId.bind(this),this.currentLayerId=1,this.setups=new Map,this.renderers=new Map,this.dispatchers=new Map,this.needsSetup=!1,this.needsRedraw=!0,this.renderingLayerId=0,this.activeLayerId=0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}register({setup:e,render:l,dispatcher:s}){return e&&(this.setups.set(this.currentLayerId,e),this.needsSetup=!0),this.renderers.set(this.currentLayerId,l),this.dispatchers.set(this.currentLayerId,s),this.needsRedraw=!0,this.currentLayerId++}unregister(e){this.renderers.delete(e),this.dispatchers.delete(e),this.needsRedraw=!0}setup(e,l){this.context=e,this.layerRef=l,this.observeLayerSequence(),this.startRenderLoop()}observeLayerSequence(){this.layerObserver=new MutationObserver(this.getLayerSequence.bind(this)),this.layerObserver.observe(this.layerRef,{childList:!0}),this.getLayerSequence()}getLayerSequence(){const e=[...this.layerRef.children];this.layerSequence=e.map(l=>+(l.dataset.layerId??-1)),this.redraw()}startRenderLoop(){this.render(),this.renderLoop=requestAnimationFrame(()=>this.startRenderLoop())}render(){var n;const e=this.context,l=this.width,s=this.height,i=this.pixelRatio;if(this.needsSetup){for(const[a,o]of this.setups)o({context:e,width:l,height:s}),this.setups.delete(a);this.needsSetup=!1}if(this.needsRedraw){e.setTransform(i,0,0,i,0,0),this.autoclear&&e.clearRect(0,0,l,s);for(const a of this.layerSequence)this.renderingLayerId=a,(n=this.renderers.get(a))==null||n({context:e,width:l,height:s});this.needsRedraw=!1}}setActiveLayer(e,l){this.activeLayerId!==e&&(l instanceof MouseEvent&&(this.dispatchLayerEvent(new PointerEvent("pointerleave",l)),this.dispatchLayerEvent(new MouseEvent("mouseleave",l))),this.activeLayerId=e,this.activeLayerDispatcher=this.dispatchers.get(e),l instanceof MouseEvent&&(this.dispatchLayerEvent(new PointerEvent("pointerenter",l)),this.dispatchLayerEvent(new MouseEvent("mouseenter",l))))}dispatchLayerEvent(e){if(this.activeLayerDispatcher){if(window.TouchEvent&&e instanceof TouchEvent){const{left:l,top:s}=e.target.getBoundingClientRect(),{clientX:i,clientY:n}=e.changedTouches[0],a={x:i-l,y:n-s,originalEvent:e};this.activeLayerDispatcher(e.type,a)}else if(e instanceof MouseEvent){const l={x:e.offsetX,y:e.offsetY,originalEvent:e};this.activeLayerDispatcher(e.type,l)}}}getRenderingLayerId(){return this.renderingLayerId}destroy(){typeof window>"u"||(this.layerObserver.disconnect(),cancelAnimationFrame(this.renderLoop))}}const ks=t=>{const e=t*2,l=e>>16&255,s=e>>8&255,i=e&255;return`rgb(${l}, ${s}, ${i})`},Is=(t,e,l)=>{const s=(t<<16|e<<8|l)/2;return s%1?0:s},Es=["drawImage"],ys=["filter","shadowBlur","globalCompositeOperation","globalAlpha"],Ts=["drawImage","fill","fillRect","fillText","stroke","strokeRect","strokeText"],As=t=>{let e;const l=document.createElement("canvas"),s=l.getContext("2d",{willReadFrequently:!0}),i=()=>{l.width=t.canvas.width,l.height=t.canvas.height};return new MutationObserver(i).observe(t.canvas,{attributeFilter:["width","height"]}),i(),new Proxy(t,{get(a,o){if(o==="_getLayerIdAtPixel")return(h,c)=>{const[m,_,g]=s.getImageData(h,c,1,1).data;return Is(m,_,g)};const r=a[o];return typeof r!="function"?r:function(...h){if(Ts.includes(o)){const c=ks(e());s.fillStyle=c,s.strokeStyle=c}if(o==="drawImage"){const c=h.slice(1);s.fillRect(...c)}return Es.includes(o)||Reflect.apply(r,s,h),Reflect.apply(r,a,h)}},set(a,o,r){return o==="_renderingLayerId"?(e=r,!0):(a[o]=r,ys.includes(o)||(s[o]=r),!0)}})};function Cs(t){let e,l,s,i=`${t[0]}px`,n=`${t[1]}px`,a,o,r,h,c;const m=t[18].default,_=vt(m,t,t[17],null);return{c(){e=R("canvas"),a=j(),o=R("div"),_&&_.c(),this.h()},l(g){e=P(g,"CANVAS",{width:!0,height:!0,class:!0,style:!0}),L(e).forEach(S),a=q(g),o=P(g,"DIV",{});var u=L(o);_&&_.l(u),u.forEach(S),this.h()},h(){A(e,"width",l=t[0]*t[5]),A(e,"height",s=t[1]*t[5]),A(e,"class",t[4]),A(e,"style",t[2]),He(e,"display","block"),He(e,"width",i),He(e,"height",n),He(o,"display","none")},m(g,u){J(g,e,u),t[64](e),J(g,a,u),J(g,o,u),_&&_.m(o,null),t[65](o),r=!0,h||(c=[M(e,"touchstart",yt(function(){Ce(t[3]?t[9]:null)&&(t[3]?t[9]:null).apply(this,arguments)})),M(e,"mousemove",function(){Ce(t[3]?t[8]:null)&&(t[3]?t[8]:null).apply(this,arguments)}),M(e,"pointermove",function(){Ce(t[3]?t[8]:null)&&(t[3]?t[8]:null).apply(this,arguments)}),M(e,"click",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),M(e,"contextmenu",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),M(e,"dblclick",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),M(e,"mousedown",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),M(e,"mouseenter",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),M(e,"mouseleave",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),M(e,"mouseup",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),M(e,"wheel",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),M(e,"touchcancel",yt(function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)})),M(e,"touchend",yt(function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)})),M(e,"touchmove",yt(function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)})),M(e,"pointerenter",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),M(e,"pointerleave",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),M(e,"pointerdown",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),M(e,"pointerup",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),M(e,"pointercancel",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),M(e,"focus",t[19]),M(e,"blur",t[20]),M(e,"fullscreenchange",t[21]),M(e,"fullscreenerror",t[22]),M(e,"scroll",t[23]),M(e,"cut",t[24]),M(e,"copy",t[25]),M(e,"paste",t[26]),M(e,"keydown",t[27]),M(e,"keypress",t[28]),M(e,"keyup",t[29]),M(e,"auxclick",t[30]),M(e,"click",t[31]),M(e,"contextmenu",t[32]),M(e,"dblclick",t[33]),M(e,"mousedown",t[34]),M(e,"mouseenter",t[35]),M(e,"mouseleave",t[36]),M(e,"mousemove",t[37]),M(e,"mouseover",t[38]),M(e,"mouseout",t[39]),M(e,"mouseup",t[40]),M(e,"select",t[41]),M(e,"wheel",t[42]),M(e,"drag",t[43]),M(e,"dragend",t[44]),M(e,"dragenter",t[45]),M(e,"dragstart",t[46]),M(e,"dragleave",t[47]),M(e,"dragover",t[48]),M(e,"drop",t[49]),M(e,"touchcancel",t[50]),M(e,"touchend",t[51]),M(e,"touchmove",t[52]),M(e,"touchstart",t[53]),M(e,"pointerover",t[54]),M(e,"pointerenter",t[55]),M(e,"pointerdown",t[56]),M(e,"pointermove",t[57]),M(e,"pointerup",t[58]),M(e,"pointercancel",t[59]),M(e,"pointerout",t[60]),M(e,"pointerleave",t[61]),M(e,"gotpointercapture",t[62]),M(e,"lostpointercapture",t[63])],h=!0)},p(g,u){t=g,(!r||u[0]&33&&l!==(l=t[0]*t[5]))&&A(e,"width",l),(!r||u[0]&34&&s!==(s=t[1]*t[5]))&&A(e,"height",s),(!r||u[0]&16)&&A(e,"class",t[4]),(!r||u[0]&4)&&A(e,"style",t[2]);const f=u[0]&4;(u[0]&4||f)&&He(e,"display","block"),(u[0]&5&&i!==(i=`${t[0]}px`)||f)&&He(e,"width",i),(u[0]&6&&n!==(n=`${t[1]}px`)||f)&&He(e,"height",n),_&&_.p&&(!r||u[0]&131072)&&bt(_,m,t,t[17],r?St(m,t[17],u,null):wt(t[17]),null)},i(g){r||(U(_,g),r=!0)},o(g){G(_,g),r=!1},d(g){g&&(S(e),S(a),S(o)),t[64](null),_&&_.d(g),t[65](null),h=!1,Ze(c)}}}const Ol=Symbol(),Rs=()=>Hl(Ol);function Ps(t,e,l){let s,{$$slots:i={},$$scope:n}=e,{width:a=640,height:o=640,pixelRatio:r=null,style:h="",autoclear:c=!0,layerEvents:m=!1}=e,{class:_=""}=e,g,u=null,f;const d=new Ss;function p(){d.redraw()}function k(){return g}function N(){return u}r==null&&(typeof window<"u"?r=window.devicePixelRatio:r=2),Fl(Ol,{register:d.register,unregister:d.unregister,redraw:d.redraw}),Dt(()=>{const I=g.getContext("2d");m?(u=As(I),u._renderingLayerId=d.getRenderingLayerId):u=I,d.setup(u,f)}),Vt(()=>d.destroy());const z=I=>{const mt=I.offsetX*s,_t=I.offsetY*s,gt=u._getLayerIdAtPixel(mt,_t);d.setActiveLayer(gt,I),d.dispatchLayerEvent(I)},y=I=>{const{clientX:mt,clientY:_t}=I.changedTouches[0],{left:gt,top:Rt}=g.getBoundingClientRect(),Pt=(mt-gt)*s,Mt=(_t-Rt)*s,zt=u._getLayerIdAtPixel(Pt,Mt);d.setActiveLayer(zt,I),d.dispatchLayerEvent(I)},b=I=>{window.TouchEvent&&I instanceof TouchEvent&&I.preventDefault(),d.dispatchLayerEvent(I)};function E(I){Q.call(this,t,I)}function C(I){Q.call(this,t,I)}function O(I){Q.call(this,t,I)}function ee(I){Q.call(this,t,I)}function Z(I){Q.call(this,t,I)}function W(I){Q.call(this,t,I)}function H(I){Q.call(this,t,I)}function $(I){Q.call(this,t,I)}function ce(I){Q.call(this,t,I)}function he(I){Q.call(this,t,I)}function le(I){Q.call(this,t,I)}function ue(I){Q.call(this,t,I)}function Ee(I){Q.call(this,t,I)}function be(I){Q.call(this,t,I)}function we(I){Q.call(this,t,I)}function ae(I){Q.call(this,t,I)}function Me(I){Q.call(this,t,I)}function V(I){Q.call(this,t,I)}function v(I){Q.call(this,t,I)}function D(I){Q.call(this,t,I)}function Y(I){Q.call(this,t,I)}function K(I){Q.call(this,t,I)}function de(I){Q.call(this,t,I)}function re(I){Q.call(this,t,I)}function pe(I){Q.call(this,t,I)}function fe(I){Q.call(this,t,I)}function ze(I){Q.call(this,t,I)}function me(I){Q.call(this,t,I)}function X(I){Q.call(this,t,I)}function x(I){Q.call(this,t,I)}function ie(I){Q.call(this,t,I)}function oe(I){Q.call(this,t,I)}function Se(I){Q.call(this,t,I)}function Ue(I){Q.call(this,t,I)}function Xe(I){Q.call(this,t,I)}function _e(I){Q.call(this,t,I)}function ye(I){Q.call(this,t,I)}function Fe(I){Q.call(this,t,I)}function Be(I){Q.call(this,t,I)}function Pe(I){Q.call(this,t,I)}function Je(I){Q.call(this,t,I)}function rt(I){Q.call(this,t,I)}function ht(I){Q.call(this,t,I)}function dt(I){Q.call(this,t,I)}function ot(I){Q.call(this,t,I)}function ut(I){Qe[I?"unshift":"push"](()=>{g=I,l(6,g)})}function Ct(I){Qe[I?"unshift":"push"](()=>{f=I,l(7,f)})}return t.$$set=I=>{"width"in I&&l(0,a=I.width),"height"in I&&l(1,o=I.height),"pixelRatio"in I&&l(11,r=I.pixelRatio),"style"in I&&l(2,h=I.style),"autoclear"in I&&l(12,c=I.autoclear),"layerEvents"in I&&l(3,m=I.layerEvents),"class"in I&&l(4,_=I.class),"$$scope"in I&&l(17,n=I.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&2048&&l(5,s=r??1),t.$$.dirty[0]&1&&l(16,d.width=a,d),t.$$.dirty[0]&2&&l(16,d.height=o,d),t.$$.dirty[0]&32&&l(16,d.pixelRatio=s,d),t.$$.dirty[0]&4096&&l(16,d.autoclear=c,d),t.$$.dirty[0]&71683&&d.redraw()},[a,o,h,m,_,s,g,f,z,y,b,r,c,p,k,N,d,n,i,E,C,O,ee,Z,W,H,$,ce,he,le,ue,Ee,be,we,ae,Me,V,v,D,Y,K,de,re,pe,fe,ze,me,X,x,ie,oe,Se,Ue,Xe,_e,ye,Fe,Be,Pe,Je,rt,ht,dt,ot,ut,Ct]}class Ms extends nt{constructor(e){super(),at(this,e,Ps,Cs,it,{width:0,height:1,pixelRatio:11,style:2,autoclear:12,layerEvents:3,class:4,redraw:13,getCanvas:14,getContext:15},null,[-1,-1,-1])}get redraw(){return this.$$.ctx[13]}get getCanvas(){return this.$$.ctx[14]}get getContext(){return this.$$.ctx[15]}}function zs(t){let e;return{c(){e=R("div"),this.h()},l(l){e=P(l,"DIV",{"data-layer-id":!0}),L(e).forEach(S),this.h()},h(){A(e,"data-layer-id",t[0])},m(l,s){J(l,e,s)},p:et,i:et,o:et,d(l){l&&S(e)}}}function Ls(t,e,l){const{register:s,unregister:i,redraw:n}=Rs(),a=Rl();let{setup:o=void 0}=e,{render:r=()=>{}}=e;const h=s({setup:o,render:r,dispatcher:a});return Vt(()=>i(h)),t.$$set=c=>{"setup"in c&&l(1,o=c.setup),"render"in c&&l(2,r=c.render)},t.$$.update=()=>{t.$$.dirty&4&&n()},[h,o,r]}class Ns extends nt{constructor(e){super(),at(this,e,Ls,zs,it,{setup:1,render:2})}}let al;const Dl=Date.now(),Vl=t=>(t(Date.now()-Dl),al=window.requestAnimationFrame(()=>Vl(t)),()=>window.cancelAnimationFrame(al));function Os(){}const Ds=ls(Date.now()-Dl,typeof window>"u"?Os:Vl),{window:Nt}=zl;function rl(t){let e,l,s,i,n,a;l=new Ms({props:{width:t[0],height:t[1],$$slots:{default:[Vs]},$$scope:{ctx:t}}}),l.$on("pointerdown",t[5]),l.$on("wheel",t[8]);const o=t[26].default,r=vt(o,t,t[27],null);return{c(){e=R("div"),Ne(l.$$.fragment),s=j(),r&&r.c(),this.h()},l(h){e=P(h,"DIV",{style:!0});var c=L(e);Oe(l.$$.fragment,c),s=q(c),r&&r.l(c),c.forEach(S),this.h()},h(){He(e,"touch-action","none"),He(e,"cursor",t[2])},m(h,c){J(h,e,c),De(l,e,null),w(e,s),r&&r.m(e,null),i=!0,n||(a=M(e,"resize",t[9]),n=!0)},p(h,c){const m={};c[0]&1&&(m.width=h[0]),c[0]&2&&(m.height=h[1]),c[0]&134217736&&(m.$$scope={dirty:c,ctx:h}),l.$set(m),r&&r.p&&(!i||c[0]&134217728)&&bt(r,o,h,h[27],i?St(o,h[27],c,null):wt(h[27]),null),(!i||c[0]&4)&&He(e,"cursor",h[2])},i(h){i||(U(l.$$.fragment,h),U(r,h),i=!0)},o(h){G(l.$$.fragment,h),G(r,h),i=!1},d(h){h&&S(e),Ve(l),r&&r.d(h),n=!1,a()}}}function Vs(t){let e,l;return e=new Ns({props:{render:t[3]}}),{c(){Ne(e.$$.fragment)},l(s){Oe(e.$$.fragment,s)},m(s,i){De(e,s,i),l=!0},p(s,i){const n={};i[0]&8&&(n.render=s[3]),e.$set(n)},i(s){l||(U(e.$$.fragment,s),l=!0)},o(s){G(e.$$.fragment,s),l=!1},d(s){Ve(e,s)}}}function Js(t){let e,l,s,i,n=t[0]&&t[1]&&rl(t);return{c(){n&&n.c(),e=Ie()},l(a){n&&n.l(a),e=Ie()},m(a,o){n&&n.m(a,o),J(a,e,o),l=!0,s||(i=[M(Nt,"pointerup",t[6]),M(Nt,"pointermove",t[7]),M(Nt,"resize",t[9])],s=!0)},p(a,o){a[0]&&a[1]?n?(n.p(a,o),o[0]&3&&U(n,1)):(n=rl(a),n.c(),U(n,1),n.m(e.parentNode,e)):n&&(je(),G(n,1,1,()=>{n=null}),qe())},i(a){l||(U(n),l=!0)},o(a){G(n),l=!1},d(a){a&&S(e),n&&n.d(a),s=!1,Ze(i)}}}const ol="25px Roboto Mono",ul="17px Roboto Mono",fl=2.6;function js(t,e,l){let s,i,n,{$$slots:a={},$$scope:o}=e,{clickNode:r}=e,{circledNode:h}=e,{selectedJewel:c}=e,{selectedConqueror:m}=e,{seed:_}=e,{highlighted:g=[]}=e,{disabled:u=[]}=e,{highlightJewels:f=!1}=e;const d=ss(Ds,v=>(!g||!g.length)&&!f?0:Math.round(v/40));Ot(t,d,v=>l(25,n=v));const p=[427,320,226,227,323,422,329];let k=10,N=0,z=0;const y={},b={},E=(v,D,Y,K=!1,de=!1)=>{let re=K?$l[D]:Kt[D];!re&&K&&(re=Kt[D]);const pe=re.filename;pe in(K?b:y)||((K?b:y)[pe]=new Image,(K?b:y)[pe].src=pe);const fe=re.coords[D],ze=fe.w/k*fl,me=fe.h/k*fl,X=Y.x-ze/2,x=Y.y-me/2;let ie=x;de&&(ie=x-me/2),v.drawImage((K?b:y)[pe],fe.x,fe.y,fe.w,fe.h,X,ie,ze,me),de&&(v.save(),v.translate(X,x),v.rotate(Math.PI),v.drawImage((K?b:y)[pe],fe.x,fe.y,fe.w,fe.h,-ze,-(me/2),ze,-me),v.restore())},C=(v,D,Y)=>{const K=[];let de="";return v.split(" ").forEach(re=>{D.measureText(de+re).width<Y?de+=" "+re:(K.push(de.trim()),de=re)}),de.length>0&&K.push(de.trim()),K};let O={x:Number.MIN_VALUE,y:Number.MIN_VALUE},ee="unset",Z,W=0,H=0,$=0,ce=0,he=!1;const le=v=>{he=!0,W=v.offsetX,H=v.offsetY,$=N,ce=z,l(21,O={x:v.offsetX,y:v.offsetY}),Z&&r(Z)},ue=v=>{v.type==="pointerup"&&(he=!1),l(21,O={x:v.offsetX,y:v.offsetY})},Ee=v=>{he&&(l(19,N=$-(W-v.offsetX)*k),l(20,z=ce-(H-v.offsetY)*k)),l(21,O={x:v.offsetX,y:v.offsetY})},be=v=>{v.deltaY>0?k<30&&(l(19,N+=v.offsetX),l(20,z+=v.offsetY)):k>3&&(l(19,N-=v.offsetX),l(20,z-=v.offsetY)),l(18,k=Math.min(30,Math.max(3,k+v.deltaY/100))),v.preventDefault(),v.stopPropagation(),v.stopImmediatePropagation()};let we=0,ae=0;const Me=()=>{l(0,we=window.innerWidth),l(1,ae=window.innerHeight)};let V=!1;return t.$$set=v=>{"clickNode"in v&&l(10,r=v.clickNode),"circledNode"in v&&l(11,h=v.circledNode),"selectedJewel"in v&&l(12,c=v.selectedJewel),"selectedConqueror"in v&&l(13,m=v.selectedConqueror),"seed"in v&&l(14,_=v.seed),"highlighted"in v&&l(15,g=v.highlighted),"disabled"in v&&l(16,u=v.disabled),"highlightJewels"in v&&l(17,f=v.highlightJewels),"$$scope"in v&&l(27,o=v.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&262144&&l(24,s=Zl/k),t.$$.dirty[0]&8650752&&(!V&&Ke&&(l(23,V=!0),l(19,N=Ke.min_x+window.innerWidth/2*k),l(20,z=Ke.min_y+window.innerHeight/2*k)),Me()),t.$$.dirty[0]&58718208&&l(3,i=({context:v,width:D,height:Y})=>{const K=window.performance.now();v.clearRect(0,0,D,Y),v.fillStyle="#080c11",v.fillRect(0,0,D,Y);const de={};Object.keys(Lt).forEach(me=>{const X=Lt[me],x=qt(X.x,X.y,N,z,k),ie=Math.max(...X.orbits);p.indexOf(parseInt(me))>=0||(ie==1?E(v,"PSGroupBackground1",x,!1):ie==2?E(v,"PSGroupBackground2",x,!1):(ie==3||X.orbits.length>1)&&E(v,"PSGroupBackground3",x,!1,!0))}),Object.keys(lt).forEach(me=>{var oe;const X=lt[me],x=Ut(X.orbit,X.orbitIndex),ie=Tt(X,N,z,k);(oe=X.out)==null||oe.forEach(Se=>{if(!lt[parseInt(Se)])return;const Ue=Math.min(parseInt(Se),parseInt(me)),Xe=Math.max(parseInt(Se),parseInt(me)),_e=Ue+":"+Xe;if(_e in de)return;de[_e]=!0;const ye=lt[parseInt(Se)];if(!ye||ye.isMastery)return;const Fe=Ut(ye.orbit,ye.orbitIndex),Be=Tt(ye,N,z,k);if(v.beginPath(),X.group!=ye.group||X.orbit!=ye.orbit)v.moveTo(ie.x,ie.y),v.lineTo(Be.x,Be.y);else{let Pe=Math.PI/180-Math.PI/180*x,Je=Math.PI/180-Math.PI/180*Fe;Pe-=Math.PI/2,Je-=Math.PI/2;const rt=Math.abs(Math.max(Pe,Je)-Math.min(Pe,Je)),ht=rt>Math.PI?Math.max(Pe,Je):Math.min(Pe,Je),dt=rt>Math.PI?Math.min(Pe,Je):Math.max(Pe,Je),ot=Lt[X.group],ut=qt(ot.x,ot.y,N,z,k);v.arc(ut.x,ut.y,Ke.constants.orbitRadii[X.orbit]/k+1,ht,dt)}v.lineWidth=6/k,v.strokeStyle="#524518",v.stroke()})});let re;h&&(re=Tt(lt[h],N,z,k),v.strokeStyle="#ad2b2b");let pe=!1,fe;if(Object.keys(lt).forEach(me=>{const X=lt[me],x=Tt(X,N,z,k);let ie=0,oe=!1;h&&Bt(x,re)<s&&(oe=!0),u.indexOf(X.skill)>=0&&(oe=!1),X.isKeystone?(ie=110,E(v,X.icon,x,oe),oe?E(v,"KeystoneFrameAllocated",x,!1):E(v,"KeystoneFrameUnallocated",x,!1)):X.isNotable?(ie=70,E(v,X.icon,x,oe),oe?E(v,"NotableFrameAllocated",x,!1):E(v,"NotableFrameUnallocated",x,!1)):X.isJewelSocket?(ie=70,X.expansionJewel?E(v,"JewelSocketAltNormal",x,!1):oe?E(v,"JewelFrameAllocated",x,!1):E(v,"JewelFrameUnallocated",x,!1)):X.isMastery?E(v,X.inactiveIcon,x,oe):(ie=50,E(v,X.icon,x,oe),oe?E(v,"PSSkillFrameActive",x,!1):E(v,"PSSkillFrame",x,!1)),(g.indexOf(X.skill)>=0||f&&X.isJewelSocket)&&(v.strokeStyle=`hsl(${n}, 100%, 50%)`,v.lineWidth=3,v.beginPath(),v.arc(x.x,x.y,(ie+30)/k,0,Math.PI*2),v.stroke()),Bt(x,O)<ie/k&&(fe=X,pe=oe)}),l(22,Z=fe),h&&(v.strokeStyle="#ad2b2b",v.lineWidth=1,v.beginPath(),v.arc(re.x,re.y,s,0,Math.PI*2),v.stroke()),Z){let me=Z.name,X=(Z.stats||[]).map(_e=>({text:_e,special:!1}));if(!Z.isJewelSocket&&pe&&Z.skill&&_&&c&&m){const _e=Pl.Calculate(ne.TreeToPassive[Z.skill].Index,_,c,m);_e&&("AlternatePassiveSkill"in _e&&_e.AlternatePassiveSkill&&(X=[],me=_e.AlternatePassiveSkill.Name,"StatsKeys"in _e.AlternatePassiveSkill&&_e.AlternatePassiveSkill.StatsKeys.forEach((ye,Fe)=>{const Be=ne.GetStatByIndex(ye),Pe=Ft[Be.ID]||"";Pe&&X.push({text:Ht(Pe,_e.StatRolls[Fe])||Be.ID,special:!0})})),_e.AlternatePassiveAdditionInformations&&_e.AlternatePassiveAdditionInformations.forEach(ye=>{"StatsKeys"in ye.AlternatePassiveAddition&&ye.AlternatePassiveAddition.StatsKeys.forEach((Fe,Be)=>{const Pe=ne.GetStatByIndex(Fe),Je=Ft[Pe.ID]||"";Je&&X.push({text:Ht(Je,ye.StatRolls[Be])||Pe.ID,special:!0})})}))}v.font=ol;const x=v.measureText(me),ie=Math.max(x.width+50,600);v.font=ul;const oe=[],Se=30;let Ue=85;X&&X.length>0?X.forEach(_e=>{oe.length>0&&(Ue+=5),_e.text.split(`
`).forEach(ye=>{oe.length>0&&(Ue+=10),C(ye,v,ie-Se).forEach(Be=>{oe.push({text:Be,offset:Ue,special:_e.special}),Ue+=20})})}):Z.isJewelSocket&&(oe.push({text:"Click to select this socket",offset:Ue,special:!0}),Ue+=20);const Xe=55;v.fillStyle="rgba(75,63,24,0.9)",v.fillRect(O.x,O.y,ie,Xe),v.fillStyle="#ffffff",v.font=ol,v.textAlign="center",v.fillText(me,O.x+ie/2,O.y+35),v.fillStyle="rgba(0,0,0,0.8)",v.fillRect(O.x,O.y+Xe,ie,Ue-Xe),v.font=ul,v.textAlign="left",oe.forEach(_e=>{_e.special?v.fillStyle="#8cf34c":v.fillStyle="#ffffff",v.fillText(_e.text,O.x+Se/2,O.y+_e.offset)})}Z&&Z.isJewelSocket?l(2,ee="pointer"):l(2,ee="unset"),v.fillStyle="#ffffff",v.textAlign="right",v.font="12px Roboto Mono";const ze=window.performance.now();v.fillText(`${(ze-K).toFixed(1)}ms`,D-5,17)})},[we,ae,ee,i,d,le,ue,Ee,be,Me,r,h,c,m,_,g,u,f,k,N,z,O,Z,V,s,n,a,o]}class qs extends nt{constructor(e){super(),at(this,e,js,Js,it,{clickNode:10,circledNode:11,selectedJewel:12,selectedConqueror:13,seed:14,highlighted:15,disabled:16,highlightJewels:17},null,[-1,-1])}}const tt={25:1,26:1,42:1,49:1,56:1,63:1,70:2,95:4,117:1,124:4,134:1,150:2,216:1,434:1,482:1,483:1,484:1,488:1,554:1,556:1,593:3,594:3,595:3,619:1,943:1,944:1,945:1,946:1,2133:4,3108:3,3109:4,3110:4,3111:4,5815:4,8835:1,9091:1,9772:1,14775:2,209:1,447:1,573:2,1294:1,1361:1,2031:5,8177:2,448:2,486:1,579:2,1404:1,2030:5,9090:1,9711:2,9712:2,9713:2,9714:2,9716:1,9717:1,9718:1,9721:1,9722:1,9723:1,9724:1,186:2,490:1,1251:3,1654:1,3392:1,6042:1,6048:1,6049:1,6050:1,6136:1,7499:2};const{window:Us}=zl;function cl(t,e,l){const s=t.slice();return s[85]=e[l],s[86]=e,s[87]=l,s}function hl(t,e,l){const s=t.slice();return s[78]=e[l],s}function dl(t,e,l){const s=t.slice();return s[78]=e[l],s}function ml(t,e,l){const s=t.slice();return s[78]=e[l],s}function Bs(t){let e,l="<div></div> <div></div> <div></div>",s,i;return{c(){e=R("button"),e.innerHTML=l,this.h()},l(n){e=P(n,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(e)!=="svelte-rq6e1l"&&(e.innerHTML=l),this.h()},h(){A(e,"class","burger-menu absolute top-0 left-0 bg-black/80 backdrop-blur-sm rounded-br-lg p-4 pt-5")},m(n,a){J(n,e,a),s||(i=M(e,"click",t[72]),s=!0)},p:et,i:et,o:et,d(n){n&&S(e),s=!1,i()}}}function Fs(t){let e,l,s,i,n,a="<div></div> <div></div> <div></div>",o,r,h,c,m,_,g,u,f,d,p;function k(C,O){return C[16]?Ks:Hs}let N=k(t),z=N(t);m=new Gl({});let y=t[20]&&_l(t),b=!t[16]&&pl(t),E=t[20]&&t[16]&&Cl(t);return{c(){e=R("div"),l=R("div"),s=R("div"),i=R("div"),n=R("button"),n.innerHTML=a,o=j(),r=R("h3"),z.c(),h=j(),c=R("div"),Ne(m.$$.fragment),_=j(),y&&y.c(),g=j(),b&&b.c(),u=j(),E&&E.c(),this.h()},l(C){e=P(C,"DIV",{class:!0});var O=L(e);l=P(O,"DIV",{class:!0});var ee=L(l);s=P(ee,"DIV",{class:!0});var Z=L(s);i=P(Z,"DIV",{class:!0});var W=L(i);n=P(W,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(n)!=="svelte-mvbl10"&&(n.innerHTML=a),o=q(W),r=P(W,"H3",{class:!0});var H=L(r);z.l(H),H.forEach(S),h=q(W),c=P(W,"DIV",{class:!0});var $=L(c);Oe(m.$$.fragment,$),$.forEach(S),W.forEach(S),_=q(Z),y&&y.l(Z),Z.forEach(S),g=q(ee),b&&b.l(ee),u=q(ee),E&&E.l(ee),ee.forEach(S),O.forEach(S),this.h()},h(){A(n,"class","burger-menu mr-3"),A(r,"class","flex-grow"),A(c,"class","ml-4"),A(i,"class","flex flex-row gap-2 items-center"),A(s,"class","flex flex-row justify-between mb-2"),A(l,"class","p-4 gap-3 max-h-screen flex flex-col"),A(e,"class","w-screen md:w-10/12 lg:w-2/3 xl:w-1/2 2xl:w-5/12 3xl:w-1/3 4xl:w-1/4 min-w-[820px] absolute top-0 left-0 bg-black/80 backdrop-blur-sm themed rounded-br-lg max-h-screen")},m(C,O){J(C,e,O),w(e,l),w(l,s),w(s,i),w(i,n),w(i,o),w(i,r),z.m(r,null),w(i,h),w(i,c),De(m,c,null),w(s,_),y&&y.m(s,null),w(l,g),b&&b.m(l,null),w(l,u),E&&E.m(l,null),f=!0,d||(p=M(n,"click",t[49]),d=!0)},p(C,O){N!==(N=k(C))&&(z.d(1),z=N(C),z&&(z.c(),z.m(r,null))),C[20]?y?(y.p(C,O),O[0]&1048576&&U(y,1)):(y=_l(C),y.c(),U(y,1),y.m(s,null)):y&&(je(),G(y,1,1,()=>{y=null}),qe()),C[16]?b&&(je(),G(b,1,1,()=>{b=null}),qe()):b?(b.p(C,O),O[0]&65536&&U(b,1)):(b=pl(C),b.c(),U(b,1),b.m(l,u)),C[20]&&C[16]?E?(E.p(C,O),O[0]&1114112&&U(E,1)):(E=Cl(C),E.c(),U(E,1),E.m(l,null)):E&&(je(),G(E,1,1,()=>{E=null}),qe())},i(C){f||(U(m.$$.fragment,C),U(y),U(b),U(E),f=!0)},o(C){G(m.$$.fragment,C),G(y),G(b),G(E),f=!1},d(C){C&&S(e),z.d(),Ve(m),y&&y.d(),b&&b.d(),E&&E.d(),d=!1,p()}}}function Hs(t){let e,l="Timeless Jewel";return{c(){e=R("span"),e.textContent=l},l(s){e=P(s,"SPAN",{"data-svelte-h":!0}),Ye(e)!=="svelte-ddxked"&&(e.textContent=l)},m(s,i){J(s,e,i)},d(s){s&&S(e)}}}function Ks(t){let e,l="Results";return{c(){e=R("span"),e.textContent=l},l(s){e=P(s,"SPAN",{"data-svelte-h":!0}),Ye(e)!=="svelte-rq68qg"&&(e.textContent=l)},m(s,i){J(s,e,i)},d(s){s&&S(e)}}}function _l(t){let e,l,s,i=(t[16]?t[12]("Config"):t[12]("Results"))+"",n,a,o,r,h=t[16]&&gl(t);return{c(){e=R("div"),h&&h.c(),l=j(),s=R("button"),n=B(i),this.h()},l(c){e=P(c,"DIV",{class:!0});var m=L(e);h&&h.l(m),l=q(m),s=P(m,"BUTTON",{class:!0});var _=L(s);n=F(_,i),_.forEach(S),m.forEach(S),this.h()},h(){A(s,"class","bg-neutral-100/20 px-4 p-1 rounded"),A(e,"class","flex flex-row flex-1 ml-3 gap-2")},m(c,m){J(c,e,m),h&&h.m(e,null),w(e,l),w(e,s),w(s,n),a=!0,o||(r=M(s,"click",t[54]),o=!0)},p(c,m){c[16]?h?(h.p(c,m),m[0]&65536&&U(h,1)):(h=gl(c),h.c(),U(h,1),h.m(e,l)):h&&(je(),G(h,1,1,()=>{h=null}),qe()),(!a||m[0]&69632)&&i!==(i=(c[16]?c[12]("Config"):c[12]("Results"))+"")&&se(n,i)},i(c){a||(U(h),a=!0)},o(c){G(h),a=!1},d(c){c&&S(e),h&&h.d(),o=!1,r()}}}function gl(t){let e,l,s,i,n,a,o,r,h,c,m,_=t[12]("Grouped")+"",g,u,f,d,p;function k(b){t[50](b)}let N={items:t[25],clearable:!1};t[10]!==void 0&&(N.value=t[10]),e=new ft({props:N}),Qe.push(()=>It(e,"value",k)),e.$on("change",t[30]);function z(b){t[51](b)}let y={items:t[46],clearable:!1};return t[9]!==void 0&&(y.value=t[9]),i=new ft({props:y}),Qe.push(()=>It(i,"value",z)),i.$on("change",t[30]),{c(){Ne(e.$$.fragment),s=j(),Ne(i.$$.fragment),a=j(),o=R("button"),r=B("Trade"),c=j(),m=R("button"),g=B(_),this.h()},l(b){Oe(e.$$.fragment,b),s=q(b),Oe(i.$$.fragment,b),a=q(b),o=P(b,"BUTTON",{class:!0});var E=L(o);r=F(E,"Trade"),E.forEach(S),c=q(b),m=P(b,"BUTTON",{class:!0});var C=L(m);g=F(C,_),C.forEach(S),this.h()},h(){A(o,"class","py-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40"),o.disabled=h=!t[20],A(m,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 svelte-9h6fz6"),m.disabled=u=!t[20],ve(m,"grouped",t[5])},m(b,E){De(e,b,E),J(b,s,E),De(i,b,E),J(b,a,E),J(b,o,E),w(o,r),J(b,c,E),J(b,m,E),w(m,g),f=!0,d||(p=[M(o,"click",t[52]),M(m,"click",t[53])],d=!0)},p(b,E){const C={};E[0]&33554432&&(C.items=b[25]),!l&&E[0]&1024&&(l=!0,C.value=b[10],kt(()=>l=!1)),e.$set(C);const O={};!n&&E[0]&512&&(n=!0,O.value=b[9],kt(()=>n=!1)),i.$set(O),(!f||E[0]&1048576&&h!==(h=!b[20]))&&(o.disabled=h),(!f||E[0]&4096)&&_!==(_=b[12]("Grouped")+"")&&se(g,_),(!f||E[0]&1048576&&u!==(u=!b[20]))&&(m.disabled=u),(!f||E[0]&32)&&ve(m,"grouped",b[5])},i(b){f||(U(e.$$.fragment,b),U(i.$$.fragment,b),f=!0)},o(b){G(e.$$.fragment,b),G(i.$$.fragment,b),f=!1},d(b){b&&(S(s),S(a),S(o),S(c),S(m)),Ve(e,b),Ve(i,b),d=!1,Ze(p)}}}function pl(t){let e,l,s,i,n;function a(h){t[55](h)}let o={items:t[29]};t[0]!==void 0&&(o.value=t[0]),e=new ft({props:o}),Qe.push(()=>It(e,"value",a)),e.$on("change",t[35]);let r=t[0]&&vl(t);return{c(){Ne(e.$$.fragment),s=j(),r&&r.c(),i=Ie()},l(h){Oe(e.$$.fragment,h),s=q(h),r&&r.l(h),i=Ie()},m(h,c){De(e,h,c),J(h,s,c),r&&r.m(h,c),J(h,i,c),n=!0},p(h,c){const m={};!l&&c[0]&1&&(l=!0,m.value=h[0],kt(()=>l=!1)),e.$set(m),h[0]?r?(r.p(h,c),c[0]&1&&U(r,1)):(r=vl(h),r.c(),U(r,1),r.m(i.parentNode,i)):r&&(je(),G(r,1,1,()=>{r=null}),qe())},i(h){n||(U(e.$$.fragment,h),U(r),n=!0)},o(h){G(e.$$.fragment,h),G(r),n=!1},d(h){h&&(S(s),S(i)),Ve(e,h),r&&r.d(h)}}}function vl(t){let e,l,s=t[12]("Conqueror")+"",i,n,a,o,r,h=t[1]&&Object.keys(ne.TimelessJewelConquerors[t[0].value]).indexOf(t[1].value)>=0,c,m;function _(f){t[56](f)}let g={items:t[28]};t[1]!==void 0&&(g.value=t[1]),a=new ft({props:g}),Qe.push(()=>It(a,"value",_)),a.$on("change",t[30]);let u=h&&bl(t);return{c(){e=R("div"),l=R("h3"),i=B(s),n=j(),Ne(a.$$.fragment),r=j(),u&&u.c(),c=Ie(),this.h()},l(f){e=P(f,"DIV",{class:!0});var d=L(e);l=P(d,"H3",{class:!0});var p=L(l);i=F(p,s),p.forEach(S),n=q(d),Oe(a.$$.fragment,d),d.forEach(S),r=q(f),u&&u.l(f),c=Ie(),this.h()},h(){A(l,"class","mb-2"),A(e,"class","mt-4")},m(f,d){J(f,e,d),w(e,l),w(l,i),w(e,n),De(a,e,null),J(f,r,d),u&&u.m(f,d),J(f,c,d),m=!0},p(f,d){(!m||d[0]&4096)&&s!==(s=f[12]("Conqueror")+"")&&se(i,s);const p={};d[0]&268435456&&(p.items=f[28]),!o&&d[0]&2&&(o=!0,p.value=f[1],kt(()=>o=!1)),a.$set(p),d[0]&3&&(h=f[1]&&Object.keys(ne.TimelessJewelConquerors[f[0].value]).indexOf(f[1].value)>=0),h?u?(u.p(f,d),d[0]&3&&U(u,1)):(u=bl(f),u.c(),U(u,1),u.m(c.parentNode,c)):u&&(je(),G(u,1,1,()=>{u=null}),qe())},i(f){m||(U(a.$$.fragment,f),U(u),m=!0)},o(f){G(a.$$.fragment,f),G(u),m=!1},d(f){f&&(S(e),S(r),S(c)),Ve(a),u&&u.d(f)}}}function bl(t){let e,l,s=t[12]("Enter Seed")+"",i,n,a,o=t[12]("Select Stats")+"",r,h,c,m,_,g,u,f,d;const p=[Xs,Ys],k=[];function N(y,b){return y[13]==="seed"?0:y[13]==="stats"?1:-1}~(c=N(t))&&(m=k[c]=p[c](t));let z=!t[3]&&Al(t);return{c(){e=R("div"),l=R("button"),i=B(s),n=j(),a=R("button"),r=B(o),h=j(),m&&m.c(),_=j(),z&&z.c(),g=Ie(),this.h()},l(y){e=P(y,"DIV",{class:!0});var b=L(e);l=P(b,"BUTTON",{class:!0});var E=L(l);i=F(E,s),E.forEach(S),n=q(b),a=P(b,"BUTTON",{class:!0});var C=L(a);r=F(C,o),C.forEach(S),b.forEach(S),h=q(y),m&&m.l(y),_=q(y),z&&z.l(y),g=Ie(),this.h()},h(){A(l,"class","selection-button svelte-9h6fz6"),ve(l,"selected",t[13]==="seed"),A(a,"class","selection-button svelte-9h6fz6"),ve(a,"selected",t[13]==="stats"),A(e,"class","mt-4 w-full flex flex-row")},m(y,b){J(y,e,b),w(e,l),w(l,i),w(e,n),w(e,a),w(a,r),J(y,h,b),~c&&k[c].m(y,b),J(y,_,b),z&&z.m(y,b),J(y,g,b),u=!0,f||(d=[M(l,"click",t[57]),M(a,"click",t[58])],f=!0)},p(y,b){(!u||b[0]&4096)&&s!==(s=y[12]("Enter Seed")+"")&&se(i,s),(!u||b[0]&8192)&&ve(l,"selected",y[13]==="seed"),(!u||b[0]&4096)&&o!==(o=y[12]("Select Stats")+"")&&se(r,o),(!u||b[0]&8192)&&ve(a,"selected",y[13]==="stats");let E=c;c=N(y),c===E?~c&&k[c].p(y,b):(m&&(je(),G(k[E],1,1,()=>{k[E]=null}),qe()),~c?(m=k[c],m?m.p(y,b):(m=k[c]=p[c](y),m.c()),U(m,1),m.m(_.parentNode,_)):m=null),y[3]?z&&(z.d(1),z=null):z?z.p(y,b):(z=Al(y),z.c(),z.m(g.parentNode,g))},i(y){u||(U(m),u=!0)},o(y){G(m),u=!1},d(y){y&&(S(e),S(h),S(_),S(g)),~c&&k[c].d(y),z&&z.d(y),f=!1,Ze(d)}}}function Ys(t){let e,l,s=t[12]("Add Stat")+"",i,n,a,o,r=Object.keys(t[4]).length>0,h,c,m={items:t[26]};a=new ft({props:m}),t[66](a),a.$on("change",t[33]);let _=r&&wl(t);return{c(){e=R("div"),l=R("h3"),i=B(s),n=j(),Ne(a.$$.fragment),o=j(),_&&_.c(),h=Ie(),this.h()},l(g){e=P(g,"DIV",{class:!0});var u=L(e);l=P(u,"H3",{class:!0});var f=L(l);i=F(f,s),f.forEach(S),n=q(u),Oe(a.$$.fragment,u),u.forEach(S),o=q(g),_&&_.l(g),h=Ie(),this.h()},h(){A(l,"class","mb-2"),A(e,"class","mt-4")},m(g,u){J(g,e,u),w(e,l),w(l,i),w(e,n),De(a,e,null),J(g,o,u),_&&_.m(g,u),J(g,h,u),c=!0},p(g,u){(!c||u[0]&4096)&&s!==(s=g[12]("Add Stat")+"")&&se(i,s);const f={};u[0]&67108864&&(f.items=g[26]),a.$set(f),u[0]&16&&(r=Object.keys(g[4]).length>0),r?_?_.p(g,u):(_=wl(g),_.c(),_.m(h.parentNode,h)):_&&(_.d(1),_=null)},i(g){c||(U(a.$$.fragment,g),c=!0)},o(g){G(a.$$.fragment,g),c=!1},d(g){g&&(S(e),S(o),S(h)),t[66](null),Ve(a),_&&_.d(g)}}}function Xs(t){let e,l,s=t[12]("Seed")+"",i,n,a,o,r,h,c,m,_,g,u,f=(t[2]<ne.TimelessJewelSeedRanges[t[0].value].Min||t[2]>ne.TimelessJewelSeedRanges[t[0].value].Max)&&kl(t),d=t[2]>=ne.TimelessJewelSeedRanges[t[0].value].Min&&t[2]<=ne.TimelessJewelSeedRanges[t[0].value].Max&&Il(t);return{c(){e=R("div"),l=R("h3"),i=B(s),n=j(),a=R("input"),h=j(),f&&f.c(),c=j(),d&&d.c(),m=Ie(),this.h()},l(p){e=P(p,"DIV",{class:!0});var k=L(e);l=P(k,"H3",{class:!0});var N=L(l);i=F(N,s),N.forEach(S),n=q(k),a=P(k,"INPUT",{type:!0,min:!0,max:!0}),h=q(k),f&&f.l(k),k.forEach(S),c=q(p),d&&d.l(p),m=Ie(),this.h()},h(){A(l,"class","mb-2"),A(a,"type","number"),A(a,"min",o=ne.TimelessJewelSeedRanges[t[0].value].Min),A(a,"max",r=ne.TimelessJewelSeedRanges[t[0].value].Max),A(e,"class","mt-4")},m(p,k){J(p,e,k),w(e,l),w(l,i),w(e,n),w(e,a),xe(a,t[2]),w(e,h),f&&f.m(e,null),J(p,c,k),d&&d.m(p,k),J(p,m,k),_=!0,g||(u=[M(a,"input",t[59]),M(a,"blur",t[30])],g=!0)},p(p,k){(!_||k[0]&4096)&&s!==(s=p[12]("Seed")+"")&&se(i,s),(!_||k[0]&1&&o!==(o=ne.TimelessJewelSeedRanges[p[0].value].Min))&&A(a,"min",o),(!_||k[0]&1&&r!==(r=ne.TimelessJewelSeedRanges[p[0].value].Max))&&A(a,"max",r),k[0]&4&&$e(a.value)!==p[2]&&xe(a,p[2]),p[2]<ne.TimelessJewelSeedRanges[p[0].value].Min||p[2]>ne.TimelessJewelSeedRanges[p[0].value].Max?f?f.p(p,k):(f=kl(p),f.c(),f.m(e,null)):f&&(f.d(1),f=null),p[2]>=ne.TimelessJewelSeedRanges[p[0].value].Min&&p[2]<=ne.TimelessJewelSeedRanges[p[0].value].Max?d?(d.p(p,k),k[0]&5&&U(d,1)):(d=Il(p),d.c(),U(d,1),d.m(m.parentNode,m)):d&&(je(),G(d,1,1,()=>{d=null}),qe())},i(p){_||(U(d),_=!0)},o(p){G(d),_=!1},d(p){p&&(S(e),S(c),S(m)),f&&f.d(),d&&d.d(p),g=!1,Ze(u)}}}function wl(t){let e,l,s,i,n,a=t[12]("Min Total Weight")+"",o,r,h,c,m,_,g,u=t[12]("Select All")+"",f,d,p,k,N=t[12]("Notables")+"",z,y,b,E,C=t[12]("Passives")+"",O,ee,Z,W,H=t[12]("Deselect")+"",$,ce,he,le,ue,Ee,be,we=Le(Object.keys(t[4])),ae=[];for(let D=0;D<we.length;D+=1)ae[D]=Sl(cl(t,we,D));function Me(D,Y){return D[18]?Ws:Gs}let V=Me(t),v=V(t);return{c(){e=R("div");for(let D=0;D<ae.length;D+=1)ae[D].c();l=j(),s=R("div"),i=R("div"),n=R("div"),o=B(a),r=j(),h=R("input"),c=j(),m=R("div"),_=R("div"),g=R("button"),f=B(u),p=j(),k=R("button"),z=B(N),b=j(),E=R("button"),O=B(C),Z=j(),W=R("button"),$=B(H),he=j(),le=R("div"),ue=R("button"),v.c(),this.h()},l(D){e=P(D,"DIV",{class:!0});var Y=L(e);for(let Se=0;Se<ae.length;Se+=1)ae[Se].l(Y);Y.forEach(S),l=q(D),s=P(D,"DIV",{class:!0});var K=L(s);i=P(K,"DIV",{class:!0});var de=L(i);n=P(de,"DIV",{class:!0});var re=L(n);o=F(re,a),re.forEach(S),r=q(de),h=P(de,"INPUT",{type:!0,min:!0}),de.forEach(S),K.forEach(S),c=q(D),m=P(D,"DIV",{class:!0});var pe=L(m);_=P(pe,"DIV",{class:!0});var fe=L(_);g=P(fe,"BUTTON",{class:!0});var ze=L(g);f=F(ze,u),ze.forEach(S),p=q(fe),k=P(fe,"BUTTON",{class:!0});var me=L(k);z=F(me,N),me.forEach(S),b=q(fe),E=P(fe,"BUTTON",{class:!0});var X=L(E);O=F(X,C),X.forEach(S),Z=q(fe),W=P(fe,"BUTTON",{class:!0});var x=L(W);$=F(x,H),x.forEach(S),fe.forEach(S),he=q(pe),le=P(pe,"DIV",{class:!0});var ie=L(le);ue=P(ie,"BUTTON",{class:!0});var oe=L(ue);v.l(oe),oe.forEach(S),ie.forEach(S),pe.forEach(S),this.h()},h(){A(e,"class","mt-4 flex flex-col overflow-auto min-h-[100px]"),A(n,"class","mr-2 min-w-fit"),A(h,"type","number"),A(h,"min","0"),A(i,"class","flex flex-row items-center"),A(s,"class","flex flex-col mt-2"),A(g,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),g.disabled=d=t[18]||t[14].size==0,A(k,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),k.disabled=y=t[18]||t[14].size==0,A(E,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),E.disabled=ee=t[18]||t[14].size==0,A(W,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 flex-grow"),W.disabled=ce=t[18]||t[14].size>=t[11].length,A(_,"class","flex flex-row"),A(ue,"class","p-2 px-3 bg-green-500/40 rounded disabled:bg-green-900/40 flex-grow"),ue.disabled=t[18],A(le,"class","flex flex-row mt-2"),A(m,"class","flex flex-col mt-4")},m(D,Y){J(D,e,Y);for(let K=0;K<ae.length;K+=1)ae[K]&&ae[K].m(e,null);J(D,l,Y),J(D,s,Y),w(s,i),w(i,n),w(n,o),w(i,r),w(i,h),xe(h,t[17]),J(D,c,Y),J(D,m,Y),w(m,_),w(_,g),w(g,f),w(_,p),w(_,k),w(k,z),w(_,b),w(_,E),w(E,O),w(_,Z),w(_,W),w(W,$),w(m,he),w(m,le),w(le,ue),v.m(ue,null),Ee||(be=[M(h,"input",t[70]),M(g,"click",t[38]),M(k,"click",t[39]),M(E,"click",t[40]),M(W,"click",t[41]),M(ue,"click",t[71])],Ee=!0)},p(D,Y){if(Y[0]&4112|Y[1]&8){we=Le(Object.keys(D[4]));let K;for(K=0;K<we.length;K+=1){const de=cl(D,we,K);ae[K]?ae[K].p(de,Y):(ae[K]=Sl(de),ae[K].c(),ae[K].m(e,null))}for(;K<ae.length;K+=1)ae[K].d(1);ae.length=we.length}Y[0]&4096&&a!==(a=D[12]("Min Total Weight")+"")&&se(o,a),Y[0]&131072&&$e(h.value)!==D[17]&&xe(h,D[17]),Y[0]&4096&&u!==(u=D[12]("Select All")+"")&&se(f,u),Y[0]&278528&&d!==(d=D[18]||D[14].size==0)&&(g.disabled=d),Y[0]&4096&&N!==(N=D[12]("Notables")+"")&&se(z,N),Y[0]&278528&&y!==(y=D[18]||D[14].size==0)&&(k.disabled=y),Y[0]&4096&&C!==(C=D[12]("Passives")+"")&&se(O,C),Y[0]&278528&&ee!==(ee=D[18]||D[14].size==0)&&(E.disabled=ee),Y[0]&4096&&H!==(H=D[12]("Deselect")+"")&&se($,H),Y[0]&280576&&ce!==(ce=D[18]||D[14].size>=D[11].length)&&(W.disabled=ce),V===(V=Me(D))&&v?v.p(D,Y):(v.d(1),v=V(D),v&&(v.c(),v.m(ue,null))),Y[0]&262144&&(ue.disabled=D[18])},d(D){D&&(S(e),S(l),S(s),S(c),S(m)),st(ae,D),v.d(),Ee=!1,Ze(be)}}}function Sl(t){let e,l,s,i="-",n,a,o=ct(t[4][t[85]].id)+"",r,h,c,m,_,g=t[12]("Min")+"",u,f,d,p,k,N,z,y=t[12]("Weight")+"",b,E,C,O,ee,Z,W;function H(){return t[67](t[85])}function $(){t[68].call(p,t[85])}function ce(){t[69].call(O,t[85])}return{c(){e=R("div"),l=R("div"),s=R("button"),s.textContent=i,n=j(),a=R("span"),r=B(o),h=j(),c=R("div"),m=R("div"),_=R("div"),u=B(g),f=B(":"),d=j(),p=R("input"),k=j(),N=R("div"),z=R("div"),b=B(y),E=B(":"),C=j(),O=R("input"),ee=j(),this.h()},l(he){e=P(he,"DIV",{class:!0});var le=L(e);l=P(le,"DIV",{});var ue=L(l);s=P(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),Ye(s)!=="svelte-bzfob2"&&(s.textContent=i),n=q(ue),a=P(ue,"SPAN",{});var Ee=L(a);r=F(Ee,o),Ee.forEach(S),ue.forEach(S),h=q(le),c=P(le,"DIV",{class:!0});var be=L(c);m=P(be,"DIV",{class:!0});var we=L(m);_=P(we,"DIV",{class:!0});var ae=L(_);u=F(ae,g),f=F(ae,":"),ae.forEach(S),d=q(we),p=P(we,"INPUT",{type:!0,min:!0}),we.forEach(S),k=q(be),N=P(be,"DIV",{class:!0});var Me=L(N);z=P(Me,"DIV",{class:!0});var V=L(z);b=F(V,y),E=F(V,":"),V.forEach(S),C=q(Me),O=P(Me,"INPUT",{type:!0,min:!0}),Me.forEach(S),be.forEach(S),ee=q(le),le.forEach(S),this.h()},h(){A(s,"class","p-2 px-4 bg-red-500/40 rounded mr-2"),A(_,"class","mr-2"),A(p,"type","number"),A(p,"min","0"),A(m,"class","mr-4 flex flex-row items-center"),A(z,"class","mr-2"),A(O,"type","number"),A(O,"min","0"),A(N,"class","flex flex-row items-center"),A(c,"class","mt-2 flex flex-row"),A(e,"class","mb-4 flex flex-row items-start flex-col border-neutral-100/40 border-b pb-4")},m(he,le){J(he,e,le),w(e,l),w(l,s),w(l,n),w(l,a),w(a,r),w(e,h),w(e,c),w(c,m),w(m,_),w(_,u),w(_,f),w(m,d),w(m,p),xe(p,t[4][t[85]].min),w(c,k),w(c,N),w(N,z),w(z,b),w(z,E),w(N,C),w(N,O),xe(O,t[4][t[85]].weight),w(e,ee),Z||(W=[M(s,"click",H),M(p,"input",$),M(O,"input",ce)],Z=!0)},p(he,le){t=he,le[0]&16&&o!==(o=ct(t[4][t[85]].id)+"")&&se(r,o),le[0]&4096&&g!==(g=t[12]("Min")+"")&&se(u,g),le[0]&16&&$e(p.value)!==t[4][t[85]].min&&xe(p,t[4][t[85]].min),le[0]&4096&&y!==(y=t[12]("Weight")+"")&&se(b,y),le[0]&16&&$e(O.value)!==t[4][t[85]].weight&&xe(O,t[4][t[85]].weight)},d(he){he&&S(e),Z=!1,Ze(W)}}}function Gs(t){let e=t[12]("Search")+"",l;return{c(){l=B(e)},l(s){l=F(s,e)},m(s,i){J(s,l,i)},p(s,i){i[0]&4096&&e!==(e=s[12]("Search")+"")&&se(l,e)},d(s){s&&S(l)}}}function Ws(t){let e,l,s=ne.TimelessJewelSeedRanges[t[0].value].Max+"",i;return{c(){e=B(t[19]),l=B(" / "),i=B(s)},l(n){e=F(n,t[19]),l=F(n," / "),i=F(n,s)},m(n,a){J(n,e,a),J(n,l,a),J(n,i,a)},p(n,a){a[0]&524288&&se(e,n[19]),a[0]&1&&s!==(s=ne.TimelessJewelSeedRanges[n[0].value].Max+"")&&se(i,s)},d(n){n&&(S(e),S(l),S(i))}}}function kl(t){let e,l=t[12]("Seed must be between",{values:{min:ne.TimelessJewelSeedRanges[t[0].value].Min,max:ne.TimelessJewelSeedRanges[t[0].value].Max}})+"",s;return{c(){e=R("div"),s=B(l),this.h()},l(i){e=P(i,"DIV",{class:!0});var n=L(e);s=F(n,l),n.forEach(S),this.h()},h(){A(e,"class","mt-2")},m(i,n){J(i,e,n),w(e,s)},p(i,n){n[0]&4097&&l!==(l=i[12]("Seed must be between",{values:{min:ne.TimelessJewelSeedRanges[i[0].value].Min,max:ne.TimelessJewelSeedRanges[i[0].value].Max}})+"")&&se(s,l)},d(i){i&&S(e)}}}function Il(t){let e,l,s,i=t[12]("Sort Order")+"",n,a,o,r,h,c,m,_=t[12]("Colors")+"",g,u,f,d,p=t[12]("Split")+"",k,N,z,y,b,E;function C(H){t[60](H)}let O={items:t[44]};t[6]!==void 0&&(O.value=t[6]),o=new ft({props:O}),Qe.push(()=>It(o,"value",C));function ee(H,$){return H[8]?Qs:Zs}let Z=ee(t),W=Z(t);return{c(){e=R("div"),l=R("div"),s=R("h3"),n=B(i),a=j(),Ne(o.$$.fragment),h=j(),c=R("div"),m=R("button"),g=B(_),u=j(),f=R("div"),d=R("button"),k=B(p),N=j(),W.c(),z=Ie(),this.h()},l(H){e=P(H,"DIV",{class:!0});var $=L(e);l=P($,"DIV",{class:!0});var ce=L(l);s=P(ce,"H3",{class:!0});var he=L(s);n=F(he,i),he.forEach(S),a=q(ce),Oe(o.$$.fragment,ce),ce.forEach(S),h=q($),c=P($,"DIV",{class:!0});var le=L(c);m=P(le,"BUTTON",{class:!0});var ue=L(m);g=F(ue,_),ue.forEach(S),le.forEach(S),u=q($),f=P($,"DIV",{class:!0});var Ee=L(f);d=P(Ee,"BUTTON",{class:!0});var be=L(d);k=F(be,p),be.forEach(S),Ee.forEach(S),$.forEach(S),N=q(H),W.l(H),z=Ie(),this.h()},h(){A(s,"class","mb-2"),A(l,"class","flex-grow"),A(m,"class","bg-neutral-500/20 p-2 px-4 rounded svelte-9h6fz6"),ve(m,"selected",t[7]),A(c,"class","ml-2"),A(d,"class","bg-neutral-500/20 p-2 px-4 rounded svelte-9h6fz6"),ve(d,"selected",t[8]),A(f,"class","ml-2"),A(e,"class","flex flex-row mt-4 items-end")},m(H,$){J(H,e,$),w(e,l),w(l,s),w(s,n),w(l,a),De(o,l,null),w(e,h),w(e,c),w(c,m),w(m,g),w(e,u),w(e,f),w(f,d),w(d,k),J(H,N,$),W.m(H,$),J(H,z,$),y=!0,b||(E=[M(m,"click",t[61]),M(d,"click",t[62])],b=!0)},p(H,$){(!y||$[0]&4096)&&i!==(i=H[12]("Sort Order")+"")&&se(n,i);const ce={};!r&&$[0]&64&&(r=!0,ce.value=H[6],kt(()=>r=!1)),o.$set(ce),(!y||$[0]&4096)&&_!==(_=H[12]("Colors")+"")&&se(g,_),(!y||$[0]&128)&&ve(m,"selected",H[7]),(!y||$[0]&4096)&&p!==(p=H[12]("Split")+"")&&se(k,p),(!y||$[0]&256)&&ve(d,"selected",H[8]),Z===(Z=ee(H))&&W?W.p(H,$):(W.d(1),W=Z(H),W&&(W.c(),W.m(z.parentNode,z)))},i(H){y||(U(o.$$.fragment,H),y=!0)},o(H){G(o.$$.fragment,H),y=!1},d(H){H&&(S(e),S(N),S(z)),Ve(o),W.d(H),b=!1,Ze(E)}}}function Qs(t){let e,l,s="Notables",i,n,a,o,r="Smalls",h,c,m=Le(t[43](t[42](t[27],t[7],"notables"),t[6].value)),_=[];for(let f=0;f<m.length;f+=1)_[f]=El(dl(t,m,f));let g=Le(t[43](t[42](t[27],t[7],"passives"),t[6].value)),u=[];for(let f=0;f<g.length;f+=1)u[f]=yl(hl(t,g,f));return{c(){e=R("div"),l=R("h3"),l.textContent=s,i=j(),n=R("ul");for(let f=0;f<_.length;f+=1)_[f].c();a=j(),o=R("h3"),o.textContent=r,h=j(),c=R("ul");for(let f=0;f<u.length;f+=1)u[f].c();this.h()},l(f){e=P(f,"DIV",{class:!0});var d=L(e);l=P(d,"H3",{"data-svelte-h":!0}),Ye(l)!=="svelte-uhg2bi"&&(l.textContent=s),i=q(d),n=P(d,"UL",{class:!0});var p=L(n);for(let N=0;N<_.length;N+=1)_[N].l(p);p.forEach(S),a=q(d),o=P(d,"H3",{class:!0,"data-svelte-h":!0}),Ye(o)!=="svelte-mdvksr"&&(o.textContent=r),h=q(d),c=P(d,"UL",{class:!0});var k=L(c);for(let N=0;N<u.length;N+=1)u[N].l(k);k.forEach(S),d.forEach(S),this.h()},h(){A(n,"class","mt-1 svelte-9h6fz6"),ve(n,"rainbow",t[7]),A(o,"class","mt-2"),A(c,"class","mt-1 svelte-9h6fz6"),ve(c,"rainbow",t[7]),A(e,"class","overflow-auto mt-4")},m(f,d){J(f,e,d),w(e,l),w(e,i),w(e,n);for(let p=0;p<_.length;p+=1)_[p]&&_[p].m(n,null);w(e,a),w(e,o),w(e,h),w(e,c);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(c,null)},p(f,d){if(d[0]&134217924|d[1]&6208){m=Le(f[43](f[42](f[27],f[7],"notables"),f[6].value));let p;for(p=0;p<m.length;p+=1){const k=dl(f,m,p);_[p]?_[p].p(k,d):(_[p]=El(k),_[p].c(),_[p].m(n,null))}for(;p<_.length;p+=1)_[p].d(1);_.length=m.length}if(d[0]&128&&ve(n,"rainbow",f[7]),d[0]&134217924|d[1]&6208){g=Le(f[43](f[42](f[27],f[7],"passives"),f[6].value));let p;for(p=0;p<g.length;p+=1){const k=hl(f,g,p);u[p]?u[p].p(k,d):(u[p]=yl(k),u[p].c(),u[p].m(c,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=g.length}d[0]&128&&ve(c,"rainbow",f[7])},d(f){f&&S(e),st(_,f),st(u,f)}}}function Zs(t){let e,l=Le(t[43](t[42](t[27],t[7],"all"),t[6].value)),s=[];for(let i=0;i<l.length;i+=1)s[i]=Tl(ml(t,l,i));return{c(){e=R("ul");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){e=P(i,"UL",{class:!0});var n=L(e);for(let a=0;a<s.length;a+=1)s[a].l(n);n.forEach(S),this.h()},h(){A(e,"class","mt-4 overflow-auto svelte-9h6fz6"),ve(e,"rainbow",t[7])},m(i,n){J(i,e,n);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null)},p(i,n){if(n[0]&134217924|n[1]&6208){l=Le(i[43](i[42](i[27],i[7],"all"),i[6].value));let a;for(a=0;a<l.length;a+=1){const o=ml(i,l,a);s[a]?s[a].p(o,n):(s[a]=Tl(o),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=l.length}n[0]&128&&ve(e,"rainbow",i[7])},d(i){i&&S(e),st(s,i)}}}function El(t){let e,l,s,i=t[78].passives.length+"",n,a,o,r,h,c=t[78].stat+"",m,_,g;function u(){return t[64](t[78])}return{c(){e=R("li"),l=R("span"),s=B("("),n=B(i),a=B(")"),o=j(),r=R("span"),h=new Jt(!1),m=j(),this.h()},l(f){e=P(f,"LI",{class:!0});var d=L(e);l=P(d,"SPAN",{class:!0});var p=L(l);s=F(p,"("),n=F(p,i),a=F(p,")"),p.forEach(S),o=q(d),r=P(d,"SPAN",{class:!0});var k=L(r);h=jt(k,!1),k.forEach(S),m=q(d),d.forEach(S),this.h()},h(){A(l,"class","font-bold"),ve(l,"text-white",(tt[t[78].id]||0)<3),h.a=null,A(r,"class","text-white"),A(e,"class","cursor-pointer")},m(f,d){J(f,e,d),w(e,l),w(l,s),w(l,n),w(l,a),w(e,o),w(e,r),h.m(c,r),w(e,m),_||(g=M(e,"click",u),_=!0)},p(f,d){t=f,d[0]&134217920&&i!==(i=t[78].passives.length+"")&&se(n,i),d[0]&134217920|d[1]&6144&&ve(l,"text-white",(tt[t[78].id]||0)<3),d[0]&134217920&&c!==(c=t[78].stat+"")&&h.p(c)},d(f){f&&S(e),_=!1,g()}}}function yl(t){let e,l,s,i=t[78].passives.length+"",n,a,o,r,h,c=t[78].stat+"",m,_,g;function u(){return t[65](t[78])}return{c(){e=R("li"),l=R("span"),s=B("("),n=B(i),a=B(")"),o=j(),r=R("span"),h=new Jt(!1),m=j(),this.h()},l(f){e=P(f,"LI",{class:!0});var d=L(e);l=P(d,"SPAN",{class:!0});var p=L(l);s=F(p,"("),n=F(p,i),a=F(p,")"),p.forEach(S),o=q(d),r=P(d,"SPAN",{class:!0});var k=L(r);h=jt(k,!1),k.forEach(S),m=q(d),d.forEach(S),this.h()},h(){A(l,"class","font-bold"),ve(l,"text-white",(tt[t[78].id]||0)<3),h.a=null,A(r,"class","text-white"),A(e,"class","cursor-pointer")},m(f,d){J(f,e,d),w(e,l),w(l,s),w(l,n),w(l,a),w(e,o),w(e,r),h.m(c,r),w(e,m),_||(g=M(e,"click",u),_=!0)},p(f,d){t=f,d[0]&134217920&&i!==(i=t[78].passives.length+"")&&se(n,i),d[0]&134217920|d[1]&6144&&ve(l,"text-white",(tt[t[78].id]||0)<3),d[0]&134217920&&c!==(c=t[78].stat+"")&&h.p(c)},d(f){f&&S(e),_=!1,g()}}}function Tl(t){let e,l,s,i=t[78].passives.length+"",n,a,o,r,h,c=t[78].stat+"",m,_,g;function u(){return t[63](t[78])}return{c(){e=R("li"),l=R("span"),s=B("("),n=B(i),a=B(")"),o=j(),r=R("span"),h=new Jt(!1),m=j(),this.h()},l(f){e=P(f,"LI",{class:!0});var d=L(e);l=P(d,"SPAN",{class:!0});var p=L(l);s=F(p,"("),n=F(p,i),a=F(p,")"),p.forEach(S),o=q(d),r=P(d,"SPAN",{class:!0});var k=L(r);h=jt(k,!1),k.forEach(S),m=q(d),d.forEach(S),this.h()},h(){A(l,"class","font-bold"),ve(l,"text-white",(tt[t[78].id]||0)<3),h.a=null,A(r,"class","text-white"),A(e,"class","cursor-pointer")},m(f,d){J(f,e,d),w(e,l),w(l,s),w(l,n),w(l,a),w(e,o),w(e,r),h.m(c,r),w(e,m),_||(g=M(e,"click",u),_=!0)},p(f,d){t=f,d[0]&134217920&&i!==(i=t[78].passives.length+"")&&se(n,i),d[0]&134217920|d[1]&6144&&ve(l,"text-white",(tt[t[78].id]||0)<3),d[0]&134217920&&c!==(c=t[78].stat+"")&&h.p(c)},d(f){f&&S(e),_=!1,g()}}}function Al(t){let e,l=t[12]("Click on a jewel socket")+"",s;return{c(){e=R("h2"),s=B(l),this.h()},l(i){e=P(i,"H2",{class:!0});var n=L(e);s=F(n,l),n.forEach(S),this.h()},h(){A(e,"class","mt-4")},m(i,n){J(i,e,n),w(e,s)},p(i,n){n[0]&4096&&l!==(l=i[12]("Click on a jewel socket")+"")&&se(s,l)},d(i){i&&S(e)}}}function Cl(t){let e,l;return e=new ws({props:{searchResults:t[20],groupResults:t[5],highlight:t[37],jewel:t[21],conqueror:t[22],platform:t[9].value,league:t[10].value}}),{c(){Ne(e.$$.fragment)},l(s){Oe(e.$$.fragment,s)},m(s,i){De(e,s,i),l=!0},p(s,i){const n={};i[0]&1048576&&(n.searchResults=s[20]),i[0]&32&&(n.groupResults=s[5]),i[0]&2097152&&(n.jewel=s[21]),i[0]&4194304&&(n.conqueror=s[22]),i[0]&512&&(n.platform=s[9].value),i[0]&1024&&(n.league=s[10].value),e.$set(n)},i(s){l||(U(e.$$.fragment,s),l=!0)},o(s){G(e.$$.fragment,s),l=!1},d(s){Ve(e,s)}}}function $s(t){let e,l,s,i,n='<a href="https://github.com/Vilsol/timeless-jewels" target="_blank" rel="noopener">Source (Github)</a>',a;const o=[Fs,Bs],r=[];function h(c,m){return c[24]?1:0}return e=h(t),l=r[e]=o[e](t),{c(){l.c(),s=j(),i=R("div"),i.innerHTML=n,this.h()},l(c){l.l(c),s=q(c),i=P(c,"DIV",{class:!0,"data-svelte-h":!0}),Ye(i)!=="svelte-1xcazan"&&(i.innerHTML=n),this.h()},h(){A(i,"class","text-orange-500 absolute bottom-0 right-0 m-2")},m(c,m){r[e].m(c,m),J(c,s,m),J(c,i,m),a=!0},p(c,m){let _=e;e=h(c),e===_?r[e].p(c,m):(je(),G(r[_],1,1,()=>{r[_]=null}),qe(),l=r[e],l?l.p(c,m):(l=r[e]=o[e](c),l.c()),U(l,1),l.m(s.parentNode,s))},i(c){a||(U(l),a=!0)},o(c){G(l),a=!1},d(c){c&&(S(s),S(i)),r[e].d(c)}}}function xs(t){var n,a;let e,l,s,i;return e=new qs({props:{clickNode:t[32],circledNode:t[3],selectedJewel:(n=t[0])==null?void 0:n.value,selectedConqueror:(a=t[1])==null?void 0:a.value,highlighted:t[23],seed:t[2],highlightJewels:!t[3],disabled:[...t[14]],$$slots:{default:[$s]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment)},l(o){Oe(e.$$.fragment,o)},m(o,r){De(e,o,r),l=!0,s||(i=M(Us,"paste",t[45]),s=!0)},p(o,r){var c,m;const h={};r[0]&8&&(h.circledNode=o[3]),r[0]&1&&(h.selectedJewel=(c=o[0])==null?void 0:c.value),r[0]&2&&(h.selectedConqueror=(m=o[1])==null?void 0:m.value),r[0]&8388608&&(h.highlighted=o[23]),r[0]&4&&(h.seed=o[2]),r[0]&8&&(h.highlightJewels=!o[3]),r[0]&16384&&(h.disabled=[...o[14]]),r[0]&528482303|r[2]&67108864&&(h.$$scope={dirty:r,ctx:o}),e.$set(h)},i(o){l||(U(e.$$.fragment,o),l=!0)},o(o){G(e.$$.fragment,o),l=!1},d(o){Ve(e,o),s=!1,i()}}}function ei(t,e,l){let s,i,n,a,o,r,h;Ot(t,Wl,T=>l(12,r=T)),Ot(t,Ql,T=>l(73,h=T));const c=h.url.searchParams,m=Object.keys(ne.TimelessJewels).map(T=>({value:parseInt(T),label:r(ne.TimelessJewels[T])}));let _=c.has("jewel")?m.find(T=>T.value==c.get("jewel")):void 0,g=c.has("conqueror")?{value:c.get("conqueror"),label:c.get("conqueror")}:void 0,u=c.has("seed")?parseInt(c.get("seed")):0,f=c.has("location")?parseInt(c.get("location")):void 0,d={};c.has("stat")&&c.getAll("stat").forEach(T=>{const te=parseInt(T);l(4,d[te]={weight:1,min:0,id:te},d)});let p=c.has("mode")?c.get("mode"):"",k=new Set;const N=()=>{const T=new URL(window.location.origin+window.location.pathname);_&&T.searchParams.append("jewel",_.value.toString()),g&&T.searchParams.append("conqueror",g.value),u&&T.searchParams.append("seed",u.toString()),f&&T.searchParams.append("location",f.toString()),p&&T.searchParams.append("mode",p),k.forEach(te=>T.searchParams.append("disabled",te.toString())),Object.keys(d).forEach(te=>{T.searchParams.append("stat",te.toString())}),Xl(T.toString())},z=T=>{l(13,p=T),N()};c.has("disabled")&&c.getAll("disabled").forEach(T=>{k.add(parseInt(T))});const y=T=>{T.isJewelSocket?(l(3,f=T.skill),N()):T.isMastery||(k.has(T.skill)?k.delete(T.skill):k.add(T.skill),l(14,k),N())},b=JSON.parse(ne.PossibleStats);let E;const C=T=>{l(4,d[T.detail.value]={weight:1,min:0,id:T.detail.value},d),l(4,d),E.handleClear(),N()},O=T=>{delete d[T],l(4,d),N()},ee=()=>{l(4,d={}),N()};let Z=!1,W=0,H=!1,$=0,ce,he=1,le="";const ue=()=>{if(!f)return;l(21,he=_.value),l(22,le=g.value),l(18,H=!0),l(20,ce=void 0);const T={jewel:_.value,conqueror:g.value,nodes:i.filter(te=>!k.has(te.skill)).map(te=>ne.TreeToPassive[te.skill]).filter(te=>!!te).map(te=>te.Index),stats:Object.keys(d).map(te=>d[te]),minTotalWeight:W};es.search(T,ts(te=>l(19,$=te))).then(te=>{l(20,ce=te),l(18,H=!1),l(16,Z=!0)})};let Ee=[];const be=(T,te)=>{l(2,u=T),l(23,Ee=te),N()},we=()=>{k.clear(),l(14,k)},ae=()=>{i.forEach(T=>{T.isNotable&&k.delete(T.skill)}),l(14,k)},Me=()=>{i.forEach(T=>{T.isNotable||k.delete(T.skill)}),l(14,k)},V=()=>{i.filter(T=>!T.isJewelSocket&&!T.isMastery).forEach(T=>k.add(T.skill)),l(14,k)};let v=localStorage.getItem("groupResults")===null?!0:localStorage.getItem("groupResults")==="true";const D={physical:"#c79d93",cast:"#b3f8fe",fire:"#ff9a77",cold:"#93d8ff",lightning:"#f8cb76",attack:"#da814d",life:"#c96e6e",chaos:"#d8a7d3",unique:"#af6025",critical:"#b2a7d6"},Y=T=>(Object.keys(D).forEach(te=>{const ge=D[te];T=T.replace(new RegExp(`(${te}(?:$|\\s))|((?:^|\\s)${te})`,"gi"),`<span style='color: ${ge}; font-weight: bold'>$1$2</span>`)}),T),K=(T,te,ge)=>{const Te={};return T.forEach(ke=>{Ke.nodes[ke.node].isKeystone||ge!=="all"&&(ge==="notables"&&!Ke.nodes[ke.node].isNotable||ge==="passives"&&Ke.nodes[ke.node].isNotable)||(ke.result.AlternatePassiveSkill&&ke.result.AlternatePassiveSkill.StatsKeys&&ke.result.AlternatePassiveSkill.StatsKeys.forEach(Re=>{Te[Re]=[...Te[Re]||[],ke.node]}),ke.result.AlternatePassiveAdditionInformations&&ke.result.AlternatePassiveAdditionInformations.forEach(Re=>{Re.AlternatePassiveAddition.StatsKeys&&Re.AlternatePassiveAddition.StatsKeys.forEach(Ge=>{Te[Ge]=[...Te[Ge]||[],ke.node]})}))}),Object.keys(Te).map(ke=>{const Re=ct(parseInt(ke));return{stat:te?Y(Re):Re,rawStat:Re,id:ke,passives:Te[ke]}})},de=(T,te)=>{switch(te){case"alphabet":return T.sort((ge,Te)=>ge.rawStat.replace(/[#+%]/gi,"").trim().toLowerCase().localeCompare(Te.rawStat.replace(/[#+%]/gi,"").trim().toLowerCase()));case"count":return T.sort((ge,Te)=>Te.passives.length-ge.passives.length);case"rarity":return T.sort((ge,Te)=>b[_.value][ge.id]-b[_.value][Te.id]);case"value":return T.sort((ge,Te)=>{const ke=tt[ge.id]||0,Re=tt[Te.id]||0;return ke!=Re?Re-ke:b[_.value][ge.id]-b[_.value][Te.id]})}return T},re=[{label:r("Count"),value:"count"},{label:r("Alphabetical"),value:"alphabet"},{label:r("Rarity"),value:"rarity"},{label:r("Value"),value:"value"}];let pe=re.find(T=>T.value===(localStorage.getItem("sortOrder")||"count")),fe=localStorage.getItem("colored")===null?!0:localStorage.getItem("colored")==="true",ze=localStorage.getItem("split")===null?!0:localStorage.getItem("split")==="true";const me=T=>{if(T.type!=="paste")return;const ge=(T.clipboardData||window.clipboardData).getData("text").split(`
`);if(ge.length<14)return;const Te=m.find(Ge=>Ge.label===ge[2]);if(!Te)return;let ke,Re;for(let Ge=10;Ge<ge.length;Ge++)if(Re=Object.keys(ne.TimelessJewelConquerors[Te.value]).find(Et=>ge[Ge].indexOf(Et)>=0),Re){const Et=/(\d+)/.exec(ge[Ge]);if(Et.length===0)continue;ke=parseInt(Et[1]);break}!Re||!ke||(l(16,Z=!1),l(13,p="seed"),l(2,u=ke),l(0,_=Te),l(1,g={label:Re,value:Re}),N())};let X=!1;const x=[{value:"PC",label:"PC"},{value:"Xbox",label:"Xbox"},{value:"Playstation",label:"PS"},{value:"Tencent",label:""}];let ie=x.find(T=>T.value===localStorage.getItem("platform"))||x[0],oe=[],Se;const Ue=async()=>{const te=await(await fetch("https://api.poe.watch/leagues")).json();l(25,oe=te.map(ge=>({value:ge.name,label:r(ge.name)}))),l(10,Se=oe.find(ge=>ge.value===localStorage.getItem("league"))||oe[0])};Dt(()=>{Ue()});const Xe=()=>l(24,X=!0);function _e(T){Se=T,l(10,Se)}function ye(T){ie=T,l(9,ie)}const Fe=()=>Ml(he,le,ce.raw,ie.value,Se.value),Be=()=>l(5,v=!v),Pe=()=>l(16,Z=!Z);function Je(T){_=T,l(0,_)}function rt(T){g=T,l(1,g)}const ht=()=>z("seed"),dt=()=>z("stats");function ot(){u=$e(this.value),l(2,u)}function ut(T){pe=T,l(6,pe)}const Ct=()=>l(7,fe=!fe),I=()=>l(8,ze=!ze),mt=T=>be(u,T.passives),_t=T=>be(u,T.passives),gt=T=>be(u,T.passives);function Rt(T){Qe[T?"unshift":"push"](()=>{E=T,l(15,E)})}const Pt=T=>O(d[T].id);function Mt(T){d[T].min=$e(this.value),l(4,d)}function zt(T){d[T].weight=$e(this.value),l(4,d)}function Jl(){W=$e(this.value),l(17,W)}const jl=()=>ue(),ql=()=>l(24,X=!1);return t.$$.update=()=>{t.$$.dirty[0]&4097&&l(28,s=_?Object.keys(ne.TimelessJewelConquerors[_.value]).map(T=>({value:T,label:r(T)})):[]),t.$$.dirty[0]&8&&l(11,i=f?xl(Ke.nodes[f]).filter(T=>!T.isJewelSocket&&!T.isMastery):[]),t.$$.dirty[0]&2055&&l(27,n=!u||!_||!g||Object.keys(ne.TimelessJewelConquerors[_.value]).indexOf(g.value)<0?[]:i.filter(T=>!!ne.TreeToPassive[T.skill]).map(T=>({node:T.skill,result:Pl.Calculate(ne.TreeToPassive[T.skill].Index,u,_.value,g.value)}))),t.$$.dirty[0]&1&&l(48,a=_?Object.keys(b[_.value]):[]),t.$$.dirty[0]&16|t.$$.dirty[1]&131072&&l(26,o=a.map(T=>{const te=parseInt(T);return{label:ct(te),value:te}}).filter(T=>!(T.value in d))),t.$$.dirty[0]&32&&localStorage.setItem("groupResults",v?"true":"false"),t.$$.dirty[0]&64&&localStorage.setItem("sortOrder",pe.value),t.$$.dirty[0]&128&&localStorage.setItem("colored",fe?"true":"false"),t.$$.dirty[0]&256&&localStorage.setItem("split",ze?"true":"false"),t.$$.dirty[0]&512&&localStorage.setItem("platform",ie.value),t.$$.dirty[0]&1024&&Se&&localStorage.setItem("league",Se.value)},[_,g,u,f,d,v,pe,fe,ze,ie,Se,i,r,p,k,E,Z,W,H,$,ce,he,le,Ee,X,oe,o,n,s,m,N,z,y,C,O,ee,ue,be,we,ae,Me,V,K,de,re,me,x,D,a,Xe,_e,ye,Fe,Be,Pe,Je,rt,ht,dt,ot,ut,Ct,I,mt,_t,gt,Rt,Pt,Mt,zt,Jl,jl,ql]}class ui extends nt{constructor(e){super(),at(this,e,ei,xs,it,{colorKeys:47},null,[-1,-1,-1])}get colorKeys(){return this.$$.ctx[47]}}export{ui as component};
